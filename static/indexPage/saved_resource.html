
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">window.onerror = function f(e,t,n,o,i){i&&i.error&&(i=i.error),i&&i instanceof Error||(i={}),i.stack=i.stack||"empty",i.message="Bundle init error: "+e+" error.message: "+i.message,i.columnNumber=o,i.lineNumber=n,i.url=t,window.parent.__jivoOnError(i)};window.base_langpack = {"botListPickerBlock":"Выберите один из вариантов ответа из кнопок в чате","botTransferChat":"Диалог переведен на оператора","businessCopyright":"Бизнес-мессенджер {0}","byYandex":"через Яндекс","callback_delayed_button_submit":"Заказать звонок","callback_delayed_period_as_possible":"В ближайшее время","callback_delayed_period_delimiter":"в","callback_delayed_period_today":"Сегодня","callback_delayed_period_tomorrow":"Завтра","callback_delayed_submit_fail":"Не удалось заказать звонок на указанное время. Пожалуйста, попробуйте еще раз","callback_delayed_submit_success":"Спасибо!\nМы перезвоним в указанное время","callback_delayed_title":"Когда вам перезвонить?","cancel":"Отмена","captchaPlaceholder":"Введите текст с картинки","captchaPlaceholderAgain":"Введите текст еще раз","cb_loading":"Загружается...","chat_agent_join":"Оператор _AGENT_ приглашен в диалог","chat_agent_left":"Оператор _AGENT_  вышел из диалога","chat_on_site":"Чат c","cobrowseError":"Ошибка - ссылка устарела или элемент не найден","continue":"Продолжить","conversation_with":"Идет разговор","cwPopupPutPhone":"Оставьте номер телефона","cwPopupTime":"Перезвоним вам в удобное время","cw_callAfter":"Перезвоним вам через","cw_callButtonText":"Перезвоните мне","cw_callHeader":"Обратный звонок","cw_call_forward":"Спасибо за заказ обратного звонка! Наши сотрудники перезвонят вам в ближайшее время","cw_call_to":"Звонок на","cw_code_restrict":"К сожалению, мы не можем позвонить на этот номер","cw_connecting":"Соединяем...","cw_enterPhonePlaceholder":"Введите ваш телефон","cw_errInfoText":"Попробуйте позвонить еще раз, или напишите нам в чат.","cw_form_second":"секунду","cw_form_secondd":"секунд","cw_form_seconds":"секунды","cw_pickUpPhone":"Возьмите трубку","cw_rate_limit":"Вызов на указанный номер невозможен","cw_reason_all_busy":"Все операторы заняты","cw_reason_is_busy":"Все операторы заняты","cw_reason_not_picked_up":"Абонент не отвечает","cw_reason_unavailable":"Сервис не доступен","cw_repeatCall":"Перезвоните мне","cw_repeatCallAgain":"Перезвонить еще раз","cw_thxForCall":"Спасибо вам за звонок!","cw_typeInChat":"Написать в чат","cw_unableToConnect":"Не смогли соединиться?","cw_weCalling":"Мы вам звоним","cw_weRecallAfter":"Введите номер телефона, и мы перезвоним вам за","c_callDisconnected":"Вызов завершен","defCallformTitle":"Нужна помощь? Мы перезвоним через _SEC_ секунд!","defOfflineFormText":"Здравствуйте. \nУ вас возникли вопросы? Мы с удовольствием ответим!","defOfflineFormText2":"Здравствуйте. \nУ вас возникли вопросы? Мы с удовольствием ответим!","defOfflineFormText_old":"Оставьте свое сообщение в этой форме, мы получим его на e-mail и обязательно ответим!","defOfflineWidgetLabel":"Отправьте нам сообщение","defOfflineWidgetLabelMobile":"Сообщение","defOnlineWidgetLabel":"Напишите нам, мы онлайн!","defOnlineWidgetLabelMobile":"Чат","defRuleInvitationText":"Здравствуйте! Я могу вам чем-то помочь?","defRuleRetaining":"Пожалуйста, подождите. Сейчас операторы заняты, но скоро кто-нибудь освободится и ответит вам!","defRuleRetainingEmail":"Нет времени ждать ответ? Получите уведомление на почту!","downloadChatText":"Скачать историю диалога","enterEmailPlaceholder":"Введите ваш email","error_resend":"отправить еще раз?","error_send":"Не доставлено","eula_custom_agreement":"Ставя отметку, я даю свое согласие на обработку моих персональных данных в соответствии с законом и принимаю условия","eula_custom_title":"Согласие на обработку персональных данных","eula_link":"Пользовательское соглашение","eula_phone":"Перезвонить на номер","file_upl_cancel":"Загрузка отменена","file_upl_download":"Скачать","file_upl_error":"Ошибка загрузки","file_upl_error_max_size":"Ошибка – файл должен быть не больше _FILESIZE_","file_upl_error_no_ext":"Ошибка – выберите файл с расширением","file_upl_expired":"Ссылка устарела","introduce_in_chat":"Представьтесь в чате","introduce_or":"или","introduce_social":"Либо войдите через","introduce_text":"Представьтесь, пожалуйста, пока операторы пишут вам ответ","invoiceEmail":"Email для отправки чека","label_fb_text":"Сообщение в Facebook","label_vk_text":"Сообщение ВКонтакте","lbAbcText":"Apple Сообщения","lblCallMe":"Позвонить","lblCaptcha":"Введите код с картинки","lblCaptchaError":"Неверный код, введите еще раз","lblConnectedToAgent":"Напишите ваше сообщение","lblDeclineFile":"Отклонить","lblDefaultCobrowseComment":"Обратите внимание","lblEnterMessageHere":"Введите сообщение","lblEnterMessageOrPhoneHere":"Введите сообщение или номер телефона (перезвоним мгновенно)","lblEvaluateCancel":"Отменить","lblEvaluatePlease":"Оцените качество обслуживания","lblEvaluateThanks":"Спасибо за оценку!","lblHangUp":"Завершить соединение","lblIntroduceName":"Ваше имя","lblIntroduceRequest":"Представьтесь в чате","lblIntroduceRequestBefore":"Представьтесь и начните чат!","lblLeaveMessage":"Оставить сообщение","lblMessageHere":"Введите сообщение","lblMessagesApp":"Напишите нам в Messages App","lblNewMessage":"Новое сообщение!","lblOfflineMessageSend":"Сообщение отправлено","lblOperatorsOnline":"Операторы онлайн!","lblPencilHint":"Оператор набирает сообщение","lblPwrBy":"Чат предоставлен <a href=\"http://www.jivosite.ru/_URL_\" target=\"_blank\"><span class=\"j1\">Jivo</span><span class=\"j2\">Site</span></a>","lblReceiveFile":"Принять","lblReply":"Ответить","lblSelectDep":"Выберите отдел","lblSend":"Отправить","lblSendBefore":"Начать диалог","lblSendingFile":"_AGENT_ передает вам файл: _FILE_","lblThanks":"Спасибо!","lblThankYouMessage":"Спасибо за ваше сообщение! Мы обязательно свяжемся с вами в ближайшее время","lblTransferred":"Диалог передан оператору _AGENT_","lblView":"Посмотреть","lblYourEmail":"Ваш e-mail","lblYourMessage":"Ваше сообщение","lblYourPhone":"Ваш телефон","lnkCloseThisWindow":"Закрыть","maintenanceBlockedPlaceholder":"Отправка сообщений недоступна","maintenanceSystemText":"Внимание! Мы проводим плановые работы на серверах чтобы сделать чат лучше. В ближайшее время он начнет работу снова. Благодарим за ожидание.","messageDeleted":"Сообщение удалено","messageEdit":"отредактировано","offlineAgentConnected":"Оператор подключился к диалогу","offlineBlockedInputPlaceholder":"Пожалуйста, укажите ваши контакты","offlineForceOfflineMessage":"Похоже операторы сейчас недоступны. Пожалуйста, оставьте своё сообщение и мы свяжемся с вами","offlineIntroductionText":"Укажите ваши контакты, чтобы мы смогли ответить вам","offlineSuccessContactsSubmit":"Теперь ваши сообщения не потеряются. Ответ операторов придет в чат и по указанным контактам.","omni_sb_link":"Сбер Салют","onlineChat":"Онлайн чат","paymentsInvoice":"Счет №","paymentsPay":"Заплатить","paymentsSuccess":"успешно оплачен","powerBtnMenuTitle":"Как вам удобнее с нами связаться?","prechatText":"Здравствуйте!","prechatText2":"Мне нужна помощь","prechatText3":"Вы можете мне помочь?","seo_copyrightTextNew":"Чат предоставлен {0}","service_from":"Сервис от","social_fb":"в Facebook","social_get_access":"Не хотите ждать? \nПолучите уведомление в ВКонтакте!","social_get_access_fb":"Не обязательно ждать на сайте! Мы отправим ответ в Messenger","social_im":"Напишите нам","social_online_text":"Операторы в сети и скоро ответят","social_process_in":"Продолжить диалог","social_process_in_fb":"Продолжить в","social_process_vk":"Продолжить диалог _ICON_ВКонтакте","social_success_email":"Спасибо, что оставили ваш адрес! Когда придет ответ, отправим его на _EMAIL_ и в этот чат.","social_success_fb":"Messenger подключен! 👍  Если вы уйдете с сайта, то сообщения придут в этот чат и в Messenger","social_success_vk":"Уведомления ВКонтакте включены! 👍  Если вы уйдете с сайта, то сообщения придут в этот чат и во ВКонтакте","social_text_1":"Обычно отвечаем моментально","social_text_2":"Обычно отвечаем в течение нескольких минут","social_text_3":"Обычно отвечаем в течение часа","social_text_4":"Обычно отвечаем в течение нескольких часов","social_text_5":"Обычно отвечаем в течение одного дня","social_vk":"ВКонтакте","today":"Сегодня","webrtc_accept_text":"Примите звонок через сайт и задайте любой вопрос через микрофон или гарнитуру. Ваша камера не понадобится.","webrtc_call":"Звонок","webrtc_callfinished":"Завершён","webrtc_call_end":"Звонок завершен","webrtc_call_inprogress":"Идет звонок","webrtc_choose_mic":"Выберите микрофон","webrtc_error":"Ошибка подключения","webrtc_from_site":"Звонок с сайта","webrtc_mic":"Микрофон","webrtc_mic_blocked":"Увы, в вашем браузере отключен доступ к микрофону","webrtc_need_mic_access":"Для разговора разрешите доступ к микрофону","webrtc_not_now":"Сейчас не могу","webrtc_rejected":"Отклонен пользователем","webrtc_start_call":"Начать звонок","webrtc_try_again":"Попробовать еще раз","webrtc_video_text_message":"Я хочу получить видеоконсультацию","webrtc_video_text_popup":"Заказать видеоконсультацию","webrtc_wrong":"Что-то пошло не так","yesterday":"Вчера"};!function(){var e,t,n,a,i,r={66419:function(e,t,n){e.exports=n(27698)},41511:function(e,t,n){e.exports=n(83363)},54103:function(e,t,n){e.exports=n(28196)},77766:function(e,t,n){e.exports=n(8065)},20116:function(e,t,n){e.exports=n(11955)},62462:function(e,t,n){e.exports=n(96064)},94473:function(e,t,n){e.exports=n(61577)},78914:function(e,t,n){e.exports=n(46279)},78580:function(e,t,n){e.exports=n(33778)},81643:function(e,t,n){e.exports=n(19373)},69301:function(e,t,n){e.exports=n(73819)},23054:function(e,t,n){e.exports=n(11022)},2991:function(e,t,n){e.exports=n(61798)},32366:function(e,t,n){e.exports=n(52527)},3649:function(e,t,n){e.exports=n(82073)},77149:function(e,t,n){e.exports=n(45286)},47302:function(e,t,n){e.exports=n(62856)},92762:function(e,t,n){e.exports=n(2348)},25843:function(e,t,n){e.exports=n(76361)},89400:function(e,t,n){e.exports=n(62908)},59340:function(e,t,n){e.exports=n(8933)},51942:function(e,t,n){e.exports=n(63383)},54943:function(e,t,n){e.exports=n(14471)},20368:function(e,t,n){e.exports=n(57396)},63978:function(e,t,n){e.exports=n(41910)},34074:function(e,t,n){e.exports=n(79427)},39649:function(e,t,n){e.exports=n(62857)},14310:function(e,t,n){e.exports=n(9534)},86902:function(e,t,n){e.exports=n(23059)},20455:function(e,t,n){e.exports=n(47795)},31238:function(e,t,n){e.exports=n(66877)},94198:function(e,t,n){e.exports=n(74888)},1068:function(e,t,n){e.exports=n(61895)},31581:function(e,t,n){e.exports=n(43474)},33032:function(e,t,n){e.exports=n(27989)},36384:function(e,t,n){e.exports=n(5519)},72388:function(e,t,n){e.exports=n(21194)},65420:function(e,t,n){e.exports=n(92547)},28032:function(e,t,n){e.exports=n(35774)},53592:function(e,t,n){e.exports=n(27385)},78363:function(e,t,n){e.exports=n(81522)},19996:function(e,t,n){e.exports=n(32209)},16976:function(e,t,n){e.exports=n(1258)},95683:function(e,t,n){e.exports=n(69447)},95238:function(e,t,n){e.exports=n(81493)},58317:function(e,t,n){e.exports=n(54408)},12088:function(e,t,n){e.exports=n(60269)},189:function(e,t,n){e.exports=n(76094)},44341:function(e,t,n){e.exports=n(73685)},58377:function(e,t,n){e.exports=n(27533)},63263:function(e,t,n){e.exports=n(84710)},24889:function(e,t,n){e.exports=n(74303)},89356:function(e,t,n){e.exports=n(93799)},79542:function(e,t,n){e.exports=n(55122)},69798:function(e,t,n){e.exports=n(29531)},83863:function(e,t,n){e.exports=n(31524)},51446:function(e,t,n){e.exports=n(86600)},23882:function(e,t,n){e.exports=n(9759)},16944:function(e,t,n){e.exports=n(58714)},34243:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},57726:function(e,t,n){var a=n(78363);e.exports=function(e){if(a(e))return e}},46868:function(e,t,n){var a=n(78363),i=n(34243);e.exports=function(e){if(a(e))return i(e)}},5824:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},51161:function(e,t,n){var a=n(69798);function i(e,t,n,i,r,o,l){try{var u=e[o](l),s=u.value}catch(e){return void n(e)}u.done?t(s):a.resolve(s).then(i,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new a((function(a,r){var o=e.apply(t,n);function l(e){i(o,a,r,l,u,"next",e)}function u(e){i(o,a,r,l,u,"throw",e)}l(void 0)}))}}},26394:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},69198:function(e,t,n){var a=n(44341);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),a(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},87672:function(e,t,n){var a=n(44341);e.exports=function(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5872:function(e,t,n){var a=n(12088);function i(){return e.exports=i=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}e.exports=i},31474:function(e,t,n){var a=n(58377),i=n(83863),r=n(16649);function o(t,n,l){return"undefined"!=typeof Reflect&&i?e.exports=o=i:e.exports=o=function(e,t,n){var i=r(e,t);if(i){var o=a(i,t);return o.get?o.get.call(n):o.value}},o(t,n,l||t)}e.exports=o},66380:function(e,t,n){var a=n(24889),i=n(79542);function r(t){return e.exports=r=i?a:function(e){return e.__proto__||a(e)},r(t)}e.exports=r},51379:function(e,t,n){var a=n(189),i=n(5613);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},60530:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},87646:function(e,t,n){var a=n(58377),i=n(44341),r=n(23765),o=n(16944);function l(){if("function"!=typeof o)return null;var e=new o;return l=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=i&&a;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s=o?a(e,u):null;s&&(s.get||s.set)?i(n,u,s):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}},85400:function(e,t,n){var a=n(53592),i=n(58317),r=n(51446);e.exports=function(e){if(void 0!==r&&i(Object(e)))return a(e)}},65056:function(e,t,n){var a=n(16976),i=n(58317),r=n(51446);e.exports=function(e,t){if(void 0!==r&&i(Object(e))){var n=[],o=!0,l=!1,u=void 0;try{for(var s,c=a(e);!(o=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){l=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw u}}return n}}},79736:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},76670:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},80122:function(e,t,n){var a=n(95683),i=n(63263),r=n(44590);e.exports=function(e,t){if(null==e)return{};var n,o,l=r(e,t);if(i){var u=i(e);for(o=0;o<u.length;o++)n=u[o],a(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}},44590:function(e,t,n){var a=n(95683),i=n(89356);e.exports=function(e,t){if(null==e)return{};var n,r,o={},l=i(e);for(r=0;r<l.length;r++)n=l[r],a(t).call(t,n)>=0||(o[n]=e[n]);return o}},214:function(e,t,n){var a=n(23765),i=n(5824);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?i(e):t}},5613:function(e,t,n){var a=n(79542);function i(t,n){return e.exports=i=a||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},18777:function(e,t,n){var a=n(57726),i=n(65056),r=n(79299),o=n(79736);e.exports=function(e,t){return a(e)||i(e,t)||r(e,t)||o()}},16649:function(e,t,n){var a=n(66380);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}},59036:function(e,t,n){var a=n(46868),i=n(85400),r=n(79299),o=n(76670);e.exports=function(e){return a(e)||i(e)||r(e)||o()}},23765:function(e,t,n){var a=n(23882),i=n(51446);function r(t){return e.exports=r="function"==typeof i&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},r(t)}e.exports=r},79299:function(e,t,n){var a=n(53592),i=n(95238),r=n(34243);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return r(e,t);var o=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?a(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}},63109:function(e,t,n){e.exports=n(35666)},93379:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},9669:function(e,t,n){e.exports=n(51609)},55448:function(e,t,n){"use strict";var a=n(64867),i=n(71309),r=n(4372),o=n(15327),l=n(94097),u=n(84109),s=n(67985),c=n(85061);e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers;a.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+g)}var m=l(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var a="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p};i(t,n,r),p=null}},p.onabort=function(){p&&(n(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,"ECONNABORTED",p)),p=null},a.isStandardBrowserEnv()){var v=(e.withCredentials||s(m))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&a.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),a.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},51609:function(e,t,n){"use strict";var a=n(64867),i=n(91849),r=n(30321),o=n(47185);function l(e){var t=new r(e),n=i(r.prototype.request,t);return a.extend(n,r.prototype,t),a.extend(n,t),n}var u=l(n(45655));u.Axios=r,u.create=function(e){return l(o(u.defaults,e))},u.Cancel=n(65263),u.CancelToken=n(14972),u.isCancel=n(26502),u.all=function(e){return Promise.all(e)},u.spread=n(8713),u.isAxiosError=n(16268),e.exports=u,e.exports.default=u},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,n){"use strict";var a=n(65263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new a(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},26502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:function(e,t,n){"use strict";var a=n(64867),i=n(15327),r=n(80782),o=n(13572),l=n(47185);function u(e){this.defaults=e,this.interceptors={request:new r,response:new r}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=l(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(l(n||{},{method:e,url:t,data:(n||{}).data}))}})),a.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,a){return this.request(l(a||{},{method:e,url:t,data:n}))}})),e.exports=u},80782:function(e,t,n){"use strict";var a=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){a.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:function(e,t,n){"use strict";var a=n(91793),i=n(7303);e.exports=function(e,t){return e&&!a(t)?i(e,t):t}},85061:function(e,t,n){"use strict";var a=n(80481);e.exports=function(e,t,n,i,r){var o=new Error(e);return a(o,t,n,i,r)}},13572:function(e,t,n){"use strict";var a=n(64867),i=n(18527),r=n(26502),o=n(45655);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return l(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(l(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:function(e){"use strict";e.exports=function(e,t,n,a,i){return e.config=t,n&&(e.code=n),e.request=a,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},47185:function(e,t,n){"use strict";var a=n(64867);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function u(e,t){return a.isPlainObject(e)&&a.isPlainObject(t)?a.merge(e,t):a.isPlainObject(t)?a.merge({},t):a.isArray(t)?t.slice():t}function s(i){a.isUndefined(t[i])?a.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}a.forEach(i,(function(e){a.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),a.forEach(r,s),a.forEach(o,(function(i){a.isUndefined(t[i])?a.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),a.forEach(l,(function(a){a in t?n[a]=u(e[a],t[a]):a in e&&(n[a]=u(void 0,e[a]))}));var c=i.concat(r).concat(o).concat(l),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return a.forEach(d,s),n}},71309:function(e,t,n){"use strict";var a=n(85061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(a("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:function(e,t,n){"use strict";var a=n(64867);e.exports=function(e,t,n){return a.forEach(n,(function(n){e=n(e,t)})),e}},45655:function(e,t,n){"use strict";var a=n(64867),i=n(16016),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(55448)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){u.headers[e]=a.merge(r)})),e.exports=u},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(t,n)}}},15327:function(e,t,n){"use strict";var a=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(a.isURLSearchParams(t))r=t.toString();else{var o=[];a.forEach(t,(function(e,t){null!=e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,(function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),r=o.join("&")}if(r){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,n){"use strict";var a=n(64867);e.exports=a.isStandardBrowserEnv()?{write:function(e,t,n,i,r,o){var l=[];l.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),a.isString(i)&&l.push("path="+i),a.isString(r)&&l.push("domain="+r),!0===o&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},16268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},67985:function(e,t,n){"use strict";var a=n(64867);e.exports=a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var a=e;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=a.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:function(e,t,n){"use strict";var a=n(64867);e.exports=function(e,t){a.forEach(e,(function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[a])}))}},84109:function(e,t,n){"use strict";var a=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e?(a.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=a.trim(e.substr(0,r)).toLowerCase(),n=a.trim(e.substr(r+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},64867:function(e,t,n){"use strict";var a=n(91849),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function s(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:s,isStream:function(e){return l(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,a){u(t[a])&&u(n)?t[a]=e(t[a],n):u(n)?t[a]=e({},n):r(n)?t[a]=n.slice():t[a]=n}for(var a=0,i=arguments.length;a<i;a++)c(arguments[a],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"==typeof t?a(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},60021:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(23765)),l=a(n(3649)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(59748)),h=a(n(62107));function g(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=a(n(75043)).default.name("BaseComponent"),v=n(89766).EventEmitter,_=function(e){(0,c.default)(n,e);var t=g(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).listeners=[],a.emitter=new v,a}return(0,s.default)(n,[{key:"subscribe",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"trigger",value:function(e,t){this.emitter.emit(e,t)}},{key:"delegate",value:function(e,t){return function(n){for(var a=n.target;a!==n.currentTarget;){var i=a.getAttribute("dgName");if(i&&i===e)return n.delegateTarget=a,t(n);a=a.parentNode}}}},{key:"on",value:function(){var e,t=(0,l.default)(Array.prototype).call(arguments),n=t[0],a="JivoStore"==n.__type?t[1]:t[2],i="JivoStore"==n.__type?"update":t[1];if("object"!=(0,o.default)(i))if("function"==typeof n.on?e="on":"function"==typeof n.addListener&&(e="addListener"),e){var r=n[e](i,a);this.listeners.push({type:e,target:n,event:i,callback:a,subscription:r})}else m.error("error cant find type");else for(var u in i)"string"==typeof u&&this.on(n,u,i[u])}},{key:"off",value:function(){for(var e;e=this.listeners.shift();){var t;t="on"==e.type?"off":"removeListener",e.target[t]?e.target[t](e.event,e.callback):e.subscription&&"function"==typeof e.subscription.remove?e.subscription.remove():m.error("error cant find type")}}},{key:"getClasses",value:function(e){var t={},n=e.styles||{};return h.default.each(n,(function(n,a){t[a]={};var i="";n[1]&&(t[a].style=n[1]),h.default.each(n[0],(function(t,n){i+=t?(e.style?e.style[n]:n)+" ":""}))," "===i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),t[a].className=i})),t}},{key:"getRenderData",value:function(){}},{key:"renderData",value:function(){}},{key:"render",value:function(){var e=this.getRenderData(),t=this.getClasses(e);return this.renderData(e.data||{},t)}},{key:"componentWillUnmount",value:function(){this.off(),this.emitter.removeAllListeners()}}]),n}(p.default.Component);t.default=_},96400:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.ApiProvider=void 0;var i=a(n(77766)),r=a(n(26394)),o=a(n(69198)),l=a(n(49043)),u=a(n(62904)),s=n(56602),c=n(94515),d=a(n(36216)),f=new(function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"getCustomerIoInvites",value:function(e,t){var n,a,r=c.EnvironmentManager.isDevelopment()&&u.default.mockRequests&&u.default.mockRequests.customerIO?"/configs/development/customerIO.json":this.getApiHost()+(0,i.default)(n=(0,i.default)(a="/api/".concat("1","/sites/")).call(a,u.default.site_id,"/widgets/")).call(n,u.default.widget_id,"/invitation/"),o={user_token:e};this.sendApiRequest(r,o,t)}},{key:"acceptWebRTCCall",value:function(e,t){var n,a,r,o=this.getTelephonyHost()+(0,i.default)(n=(0,i.default)(a=(0,i.default)(r="/api/".concat("1","/sites/")).call(r,u.default.site_id,"/widgets/")).call(a,u.default.widget_id,"/clients/")).call(n,d.default.client_id.split(".")[0],"/telephony/widget-call/accept"),l={call_id:e};this.sendPostApiRequest(o,l,t)}},{key:"declineWebRTCCall",value:function(e,t){var n,a,r,o=this.getTelephonyHost()+(0,i.default)(n=(0,i.default)(a=(0,i.default)(r="/api/".concat("1","/sites/")).call(r,u.default.site_id,"/widgets/")).call(a,u.default.widget_id,"/clients/")).call(n,d.default.client_id.split(".")[0],"/telephony/widget-call/decline"),l={call_id:e};this.sendPostApiRequest(o,l,t)}},{key:"sendApiRequest",value:function(e,t,n){l.default.get({url:e,params:t},n)}},{key:"sendPostApiRequest",value:function(e,t,n){l.default.post({url:e,headers:{"Content-Type":"application/x-www-form-urlencoded"},params:t},n)}},{key:"getApiHost",value:function(){return(0,s.getProtocol)()+"//"+u.default.api_host}},{key:"getTelephonyHost",value:function(){return(0,s.getProtocol)()+"//"+u.default.tel_host}}]),e}());t.ApiProvider=f},49173:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),r=a(n(26394)),o=a(n(69198)),l=a(n(49043)),u=a(n(62904)),s=a(n(36216)),c=n(56602),d=n(94515),f=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"getStatus",value:function(e){this.getChatServerData("status",{},e)}},{key:"getVisitorNumber",value:function(e){this.getChatServerData("visitor_number",{},e)}},{key:"getMessages",value:function(e,t){this.getChatServerData("messages",e,t)}},{key:"getChatServerData",value:function(e,t,n){var a,r,o,l=s.default.visitorId?"/".concat(s.default.visitorId):"",d=this.shouldMockRequest(e)?"/configs/development/".concat(e,".json"):(0,c.chatServerHost)()+(0,i.default)(a=(0,i.default)(r=(0,i.default)(o="/widget/".concat(e,"/")).call(o,u.default.site_id,"/")).call(r,u.default.widget_id)).call(a,l);this.sendChatServerRequest(d,t,n)}},{key:"getHistoryMessages",value:function(e,t,n){var a,r,o=this.shouldMockRequest("new_messages")?"/configs/development/".concat("new_messages",".json"):(0,c.chatServerHost)()+(0,i.default)(a=(0,i.default)(r="/client/".concat(u.default.site_id,"/")).call(r,u.default.widget_id,"/")).call(a,e),l={"x-jv-client-id":s.default.client_id,"x-visitor-id":s.default.visitorId};this.sendChatServerRequest(o,t,n,l)}},{key:"sendChatServerRequest",value:function(e,t,n,a,i){l.default.get({url:e,params:t,headers:a},n,i)}},{key:"shouldMockRequest",value:function(e){return d.EnvironmentManager.isDevelopment()&&u.default.mockRequests&&u.default.mockRequests[e]}}]),e}();t.default=f},49043:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=void 0;var f=a(n(59340)),p=a(n(77766)),h=a(n(87672)),g=a(n(26394)),m=a(n(69198)),v=a(n(62107)),_=a(n(75043)),y=n(33367);function b(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=b(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=b(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var C=_.default.name("HttpProvider"),T=function(){function e(){(0,g.default)(this,e)}return(0,m.default)(e,null,[{key:"get",value:function(t,n,a){return e.sendXMLHttpRequest("GET",t,n,a)}},{key:"post",value:function(t,n,a){return e.sendXMLHttpRequest("POST",t,n,a)}},{key:"jsonp",value:function(t,n,a){return a=E(E({},a),{},{jsonp:!0}),e.sendXMLHttpRequest("GET",t,n,a)}},{key:"sendXMLHttpRequest",value:function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.async,o=void 0===r||r,l=i.withCredentials,u=void 0!==l&&l,s=i.jsonp,c=void 0!==s&&s,d=i.responseType,h=void 0===d?null:d,g=i.monitoring,m=new XMLHttpRequest,_=n.headers;if(m.withCredentials=u,"GET"===t&&(n.url+="?",v.default.each(n.params,(function(e,t){n.url+=[t,encodeURIComponent(e)].join("=")+"&"})),n.url=n.url.substr(0,n.url.length-1)),m.open(t,n.url,o),h&&(m.responseType=h),e.setXhrHeaders(m,_),m.onreadystatechange=function(){if(4===m.readyState)if(200!==m.status)C.log(m),a({code:m.status,text:m.statusText,data:m.response},null);else{var e;try{e=c?m.responseText:h?m.response:JSON.parse(m.responseText)}catch(e){var t,i=new Error((0,p.default)(t="Error parsing response from ".concat(n.url,". ")).call(t,e.message));g||y.Monitoring.reportException(i)}a(null,e)}},C.log("XHR params: ",n.params),"POST"===t&&n.headers&&"application/x-www-form-urlencoded"===n.headers["Content-Type"]){var b="";v.default.each(n.params,(function(e,t){b+=[t,encodeURIComponent(e)].join("=")+"&"})),m.send(b)}else"POST"===t?m.send((0,f.default)(n.params)):m.send(n.params);return m}},{key:"setXhrHeaders",value:function(e,t){return v.default.each(t,(function(t,n){e.setRequestHeader(n,t)})),e}}]),e}();t.default=T},68326:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),r=a(n(31581)),o=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(82993)),c=a(n(4620)),d=a(n(62107)),f=a(n(56602)),p=a(n(62904)),h=n(24335),g=n(89766).EventEmitter,m=1500,v=new(function(){function e(t){var n,a=this;if((0,l.default)(this,e),this.readMessages={},this.lastBufferUpdatedTime=(new Date).getTime(),this.initBufferFn=d.default.debounce((0,o.default)(n=this.initBuffer).call(n,this),500),this.initBuffer(),this.emitter=new g,!f.default.isWixEditor()&&!h.isDesignerEditor)if(s.default.isWriteLS){var i=f.default.getPageWindow();f.default.addListener(i,"storage",(function(e){(e||i.event).key==="jv_eBuffer_"+p.default.widget_id&&a.parseNewEvents()}))}else(0,r.default)((function(){var e=c.default.get("eBufferUpdateTime");e!==a.lastBufferUpdatedTime&&(a.lastBufferUpdatedTime=e,a.parseNewEvents())}),1e3)}return(0,u.default)(e,[{key:"initBuffer",value:function(){var e=this,t=s.default.get("eBuffer")||[],n=this.filterOldEvents(t);d.default.each(n,(function(t){e.readMessages[t.id]})),t.length!==n.length&&s.default.set("eBuffer",n)}},{key:"sendEvent",value:function(e,t){var n=this,a=(new Date).getTime(),r={time:a,id:f.default.generateGUIDCount(2),name:e,data:t||{}},o=this.filterOldEvents(s.default.get("eBuffer")||[]);o.push(r),this.readMessages[r.id]=!0,s.default.set("eBuffer",o),s.default.isWriteLS||c.default.set("eBufferUpdateTime",a),(0,i.default)((function(){n.initBufferFn()}),1505)}},{key:"filterOldEvents",value:function(e){var t=this,n=[];return d.default.each(e,(function(e){(new Date).getTime()-e.time>m?delete t.readMessages[e.id]:n.push(e)})),n}},{key:"parseNewEvents",value:function(){var e=this,t=s.default.get("eBuffer");t&&d.default.each(t,(function(t){!e.readMessages[t.id]&&(new Date).getTime()-t.time<m&&e.triggerEvent(t)}))}},{key:"triggerEvent",value:function(e){this.readMessages[e.id]=!0,this.emitter.emit("tabsEvent_"+e.name,e.data)}},{key:"on",value:function(e,t){return this.emitter.addListener("tabsEvent_"+e,t)}}]),e}());t.default=v},47701:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78914)),r=a(n(33032)),o=a(n(92762)),l=a(n(62462)),u=a(n(54103)),s=a(n(47302)),c=a(n(69301)),d=a(n(26394)),f=a(n(69198)),p=a(n(71093)),h=n(56602),g=a(n(62107)),m=a(n(82993)),v=a(n(68326)),_=n(24335),y=n(33367),b=n(94515),E=a(n(75043)).default.name("ArrayStore"),C=n(89766).EventEmitter,T=function(){function e(t){(0,d.default)(this,e),this.settings=t,this.emitter=new C,this.store=[],this.initArrayStore(),this.protectOthersTabs(),this.triggerFn=g.default.debounce(this.trigger,100)}return(0,f.default)(e,[{key:"initArrayStore",value:function(){var e=this,t=m.default.get(this.settings.name+"_items")||[];g.default.each(t,(function(t){if(m.default.get(t)){var n=new(e.settings.itemClass||p.default)({type:e.settings.type,name:t,keys:(0,c.default)(e.settings)});e.addTriggers(n),e.store.push(n),(0,s.default)(e).call(e)}}))}},{key:"addTriggers",value:function(e){var t,n=this;e.on("all",(function(){n.trigger("update",e)})),e.on("destroy",(0,u.default)(t=this.onRemoveItem).call(t,this,e))}},{key:"push",value:function(e){var t=this.createInst(e);return this.addTriggers(t),t.set(e),this.store.push(t),(0,s.default)(this).call(this),this.backup(t),this.triggerFn("create",t),t.unStorage&&t.unStorage()||v.default.sendEvent("".concat(this.settings.name,"_addArrayItem"),{name:t.getName()}),t}},{key:"createInst",value:function(e){var t=this.settings.type;(e.body&&e.body.unsave||_.isDesignerEditor)&&(t="memory");for(var n={},a=this.settings.itemClass||p.default,i=0;i<3&&!((n=new a({type:t,name:(0,h.generateGUIDCount)(2),keys:(0,c.default)(this.settings)}))instanceof a);i++)y.Monitoring.reportException(new Error("store_dublicate"));return n}},{key:"sort",value:function(){}},{key:"pushAll",value:function(e){var t=this,n=[];return g.default.each(e,(function(e){n.push(t.push(e))})),n}},{key:"getAll",value:function(){return this.store}},{key:"toJSON",value:function(){var e=[];return g.default.each(this.store,(function(t){e.push(t.toJSON())})),e}},{key:"each",value:function(e){g.default.each(this.store,(function(t){e(t.toJSON(),t)}))}},{key:"onRemoveItem",value:function(e){var t,n=(0,l.default)(g.default).call(g.default,this.store,(function(t){return t===e}));(0,o.default)(t=this.store).call(t,n,1),this.trigger("remove"),this.backup(),v.default.sendEvent("".concat(this.settings.name,"_removeArrayItem"),{name:e.getName()})}},{key:"backup",value:function(){var e=[];g.default.each(this.store,(function(t){t.unStorage&&t.unStorage()||e.push(t.getName())})),m.default.set(this.settings.name+"_items",e.length?e:[])}},{key:"protectOthersTabs",value:function(){var e=this;v.default.on("".concat(this.settings.name,"_addArrayItem"),(function(t){var n=new(e.settings.itemClass||p.default)({type:e.settings.type,name:t.name,keys:(0,c.default)(e.settings)});(0,h.isEmpty)(n)?E.warn("".concat(e.settings.name,"_addArrayItem inst is empty!"),t,n):(e.addTriggers(n),e.store.push(n),(0,s.default)(e).call(e),e.trigger("create",n,!0))})),v.default.on("".concat(this.settings.name,"_removeArrayItem"),(function(t){var n,a=(0,l.default)(g.default).call(g.default,e.store,(function(e){return e.getName()===t.name}));a>=0&&((0,o.default)(n=e.store).call(n,a,1),(0,s.default)(e).call(e),e.trigger("remove"))}))}},{key:"trigger",value:function(e,t,n){var a=this;(0,r.default)((function(){a.emitter.emit(e,t,n)}),0)}},{key:"itemTrigger",value:function(){}},{key:"on",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"onItem",value:function(e){return this.emitter.addListener("".concat(this.settings.name,"_update"),cb)}},{key:"destroy",value:function(){var e=this.store;this.store=[],(0,i.default)(e).call(e,(function(e){e.destroy()})),this.backup(),this.trigger("remove")}}]),e}();t.default=T,b.EnvironmentManager.isDevelopment()&&(window.parent.ArrayStore=T)},4620:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(62904)),l=a(n(75043)).default.name("COOKIE","color: grey");function u(e){return new Date((new Date).getTime()+432e5)}var s=new(function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"get",value:function(e){return this.cookie(e)}},{key:"set",value:function(e,t,n){return this.cookie(e,t,n)}},{key:"cookie",value:function(e,t,n){if("__utmz"!=e&&(e=["jv",e,o.default.widget_id].join("_")),arguments.length>1&&"[object Object]"!==String(t)){if(void 0===n&&(n={}),null==t?(l.log("Clearing COOKIE "+e),n.expires=-1):l.log("Set COOKIE "+e+" with value "+t),"number"==typeof n.expires){var a=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+a)}else n.expires instanceof Date||(n.expires=u());return t=String(t),document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",o.default.cookie_domain?"; domain="+o.default.cookie_domain:"","; path=/"].join("")}var r,s=(n=t||{}).raw?function(e){return e}:decodeURIComponent;r=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);try{r=r&&r.length?s(r[1]):null}catch(e){r=r[1]}return r}}]),e}());t.default=s},82993:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59340)),r=a(n(77766)),o=a(n(26394)),l=a(n(69198)),u=a(n(62904)),s=a(n(4620)),c=a(n(58061)),d=(a(n(75043)).default.name("LocalStorageProvider"),new(function(){function e(){(0,o.default)(this,e);var t=window.parent||window;this.isWriteLS=c.default.supportsLocalStorage()&&!u.default.cookie_domain,this.LS=this.isWriteLS?t.localStorage:null}return(0,l.default)(e,[{key:"get",value:function(e){var t;if(this.LS){var n,a=(0,r.default)(n="jv_".concat(e,"_")).call(n,u.default.widget_id);t=JSON.parse(this.LS.getItem(a))||null}else t=JSON.parse(s.default.get(e)||null);return t}},{key:"set",value:function(e,t){if(this.LS){var n,a=(0,r.default)(n="jv_".concat(e)).call(n,"_"+u.default.widget_id);this.LS.setItem(a,(0,i.default)(t))}else s.default.set(e,(0,i.default)(t))}},{key:"removeKey",value:function(e){if(this.LS){var t,n=(0,r.default)(t="jv_".concat(e,"_")).call(t,u.default.widget_id);this.LS.removeItem(n)}else s.default.set(e,null)}}]),e}()));t.default=d},5972:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(31581)),r=a(n(81643)),o=a(n(26394)),l=a(n(69198)),u=a(n(62107)),s=a(n(93268)),c=a(n(75043)).default.name("SessionStore","color: grey"),d="sess_",f=new(function(){function e(){(0,o.default)(this,e),c.log("init session store"),this.sessionKeysList=this.initSessionKeysList(),this.startTimer()}return(0,l.default)(e,[{key:"initSessionKeysList",value:function(){return s.default.getKeysByPrefix(s.default.getPrefix()+d)}},{key:"set",value:function(e,t){var n;-1===(0,r.default)(n=this.sessionKeysList).call(n,e)&&this.sessionKeysList.push(e),s.default.set(d+e,t,43200)}},{key:"get",value:function(e){return s.default.get(d+e)}},{key:"startTimer",value:function(){var e=this;(0,i.default)((function(){c.log("startTimer",e.sessionKeysList),u.default.each(e.sessionKeysList,(function(t){var n=e.get(t);n&&(c.log("update session",t,n),e.set(t,n))}))}),6e4)}}]),e}());t.default=f},71093:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),r=a(n(23765)),o=a(n(59340)),l=a(n(69301)),u=a(n(81643)),s=a(n(26394)),c=a(n(69198)),d=a(n(4620)),f=a(n(62107)),p=n(56602),h=a(n(68326)),g=a(n(82993)),m=n(94515),v=a(n(75043)).default.name("Store"),_=n(89766).EventEmitter,y=[],b=function(){function e(t){if((0,s.default)(this,e),this.registrName(t.name))return v.warn("Dublicate name for Store keyName"),{};this.settings=t,this.store=this.getDefaultKeys(),this.emitter=new _,"session"===t.type?this.initSessionStore():"default"===t.type?this.initDefaultStore():"memory"===t.type&&this.initMemoryStore(),this.protectOthersTabs(),this.allKeysUpdateDebounce=f.default.debounce(this.allKeysUpdate,150)}return(0,c.default)(e,[{key:"registrName",value:function(e){return(0,u.default)(y).call(y,e)>-1||(y.push(e),!1)}},{key:"initDefaultStore",value:function(){var e=g.default.get(this.settings.name)||{};this.store=f.default.extend(this.store,e)}},{key:"initMemoryStore",value:function(){}},{key:"initSessionStore",value:function(){var e=g.default.get(this.settings.name)||{};if(e&&e._id!==d.default.get(this.settings.name+"sess_id")){v.log("resetSession store");var t=(0,p.generateGUIDCount)(2);d.default.set(this.settings.name+"sess_id",t),(e=this.store)._id=t,e._clearTime=(new Date).getTime()+5e3,g.default.set(this.settings.name,e),h.default.sendEvent("".concat(this.settings.name,"_resetSessionStore"))}this.store=e}},{key:"getDefaultKeys",value:function(){var e={};return f.default.each((0,l.default)(this.settings),(function(t,n){"function"==typeof t?e[n]=t():null!==t&&"{}"!==(0,o.default)(t)&&(e[n]=t)})),e}},{key:"isDeepName",value:function(e){return"string"==typeof e&&e.split(".").length>1}},{key:"getDeepName",value:function(e){var t=e.split(".");return this.isDeepName(e)?t:[e]}},{key:"set",value:function(e,t){var n=this;if("object"!==(0,r.default)(e))return this.setKey(e,t);f.default.each(e,(function(e,t){n.set(t,e)}))}},{key:"setDeepKey",value:function(e,t,n){if("string"==typeof n&&(n=n.split(".")),!(n.length>1))return null===t?delete e[n[0]]:e[n[0]]=t,t;var a=n.shift();null!=e[a]&&"object"===(0,r.default)(e[a])||(e[a]={}),this.setDeepKey(e[a],t,n)}},{key:"setKey",value:function(e,t,n){return void 0===(0,l.default)(this.settings)[this.getDeepName(e)[0]]?(v.error("Error: set not initialized key "+e),null):(this.get(e)===t||(this.isDeepName(e)?this.setDeepKey(this.store,t,e):null===t?delete this.store[e]:this.store[e]=t,this.trigger(e,t),n||this.triggerAndBackup(e)),t)}},{key:"get",value:function(e){return this.isDeepName(e)?void 0===(0,l.default)(this.settings)[this.getDeepName(e)[0]]?(v.error("Error: get not initialized key "+e),null):this.findObj(this.store,e):void 0===(0,l.default)(this.settings)[e]?(v.error("Error: get not initialized key "+e),null):this.store[e]||null}},{key:"findObj",value:function(e,t){var n,a=t.split("."),i=e;for(n=0;n<a.length;++n){if(null==i[a[n]])return null;i=i[a[n]]}return i}},{key:"destroy",value:function(){this.trigger("destroy"),g.default.removeKey(this.settings.name),this.store={},this.emitter.removeAllListeners()}},{key:"toJSON",value:function(){return this.store}},{key:"triggerAndBackup",value:function(e){"memory"!==this.settings.type&&(this.unStorage&&this.unStorage()||g.default.set(this.settings.name,this.store),h.default.sendEvent("".concat(this.settings.name,"_updateStore"),{name:this.settings.name,keyName:e,val:this.get(e)||null}))}},{key:"allKeysUpdate",value:function(){this.emitter.emit("".concat(this.settings.name,"_change_all"),this.store)}},{key:"trigger",value:function(e,t){var n;this.emitter.emit((0,i.default)(n="".concat(this.settings.name,"_change_")).call(n,e),t),this.allKeysUpdateDebounce()}},{key:"on",value:function(e,t){var n;return this.emitter.addListener((0,i.default)(n="".concat(this.settings.name,"_change_")).call(n,e),t)}},{key:"protectOthersTabs",value:function(){var e=this;h.default.on("".concat(this.settings.name,"_updateStore"),(function(t){t.name===e.settings.name&&e.setKey(t.keyName,t.val,!0)})),h.default.on("".concat(this.settings.name,"_resetSessionStore"),(function(){e.store={}}))}},{key:"getName",value:function(){return this.settings.name}}]),e}(),E=b;t.default=E,m.EnvironmentManager.isDevelopment()&&(window.parent.Store=b)},93268:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(62107)),l=a(n(62904)),u=a(n(82993)),s=a(n(75043)).default.name("TempStore","color: grey"),c="temp_",d=new(function(){function e(){(0,i.default)(this,e),this.cleanExpiredKeys()}return(0,r.default)(e,[{key:"set",value:function(e,t,n){if(s.log("set",e,t,n),!n)throw new Error("cant set in TempStore without seconds");if(null===t)return s.log("remove key on data",e),void u.default.removeKey(c+e);t={val:t,expire:(new Date).setTime((new Date).getTime()+1e3*n)},u.default.set(c+e,t)}},{key:"get",value:function(e){var t=u.default.get(c+e);return t&&t.expire?t.expire<(new Date).getTime()?null:t.val:t}},{key:"cleanExpiredKeys",value:function(){var e=this.getKeysByPrefix(c);o.default.each(e,(function(e){var t=c+e,n=u.default.get(t);n&&n.expire&&n.expire<(new Date).getTime()&&(s.log("delete key on init expire:",t),u.default.removeKey(t))}))}},{key:"getKeysByPrefix",value:function(e){var t=[],n=u.default.LS;if(n)for(var a in n)if(a&&0==a.search(new RegExp("^jv_"+e))){var i=a.replace("jv_".concat(e),"").replace("_".concat(l.default.widget_id),"");t.push(i)}return t}},{key:"getPrefix",value:function(){return c}}]),e}());t.default=d},76871:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.TestName=void 0;t.TestName={}},21224:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Component=void 0;t.Component={ROOT_COMPONENT:"RootComponent",CALL_CONTAINER:"CallContainer",CHAT_CONTAINER:"ChatContainer",DRAG:"Drag",INTRODUCE:"Introduce",WIDGET_CONTAINER:"WidgetContainer",WIDGET_CONTAINER_COMPONENT:"WidgetContainerComponent",INPUT:"Input",AUTORESIZER:"autoResizer",CHAT_INPUT:"ChatInput",CHAT_INTRODUCE:"ChatIntroduce",SCROLL_CONTAINER:"ScrollContainer",PRECHAT:"PrechatMessage",LABEL:"Label",HEADER:"Header",MORE_BUTTON:"MoreButton",MOUSE_TRACK:"MouseTrack",CHAT_BODY:"ChatBody",SOUND_AGENT_MESSAGE:"SOUND_AGENT_MESSAGE",SOUND_NOTIFICATION:"SOUND_NOTIFICATION",SOUND_OUTGOING_MESSAGE:"SOUND_OUTGOING_MESSAGE",MESSAGES_CONTAINER:"MESSAGES_CONTAINER"}},81426:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ChatMode=void 0;t.ChatMode={OFFLINE:"offline",ONLINE:"online"}},84640:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Environment=void 0;t.Environment={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"}},10404:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.FileUploadError=void 0;t.FileUploadError={FILE_SIZE_EXCEEDED:"FILE_SIZE_EXCEEDED",RESTRICTED_FILE_TYPE:"RESTRICTED_FILE_TYPE",NO_EXTENSION:"NO_EXTENSION",REQUEST_FAILED:"REQUEST_FAILED",UPLOAD_CANCELED:"UPLOAD_CANCELED"}},37846:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Feature=void 0;t.Feature={RECAPTCHA:"recaptcha"}},83093:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Locator=void 0;t.Locator={LABEL_COPYRIGHT_POPUP:"LABEL_COPYRIGHT_POPUP",HEADER:"HEADER",HEADER_TEXT:"HEADER_TEXT",HEADER_LEAF:"HEADER_LEAF",HEADER_AGENT_NAME:"HEADER_AGENT_NAME",HEADER_AGENT_POSITION:"HEADER_AGENT_POSITION",HEADER_AGENT_AVATAR:"HEADER_AGENT_AVATAR",HEADER_CALLBACK_BUTTON:"HEADER_CALLBACK_BUTTON",CHAT_COPYRIGHT:"CHAT_COPYRIGHT",INPUT:"INPUT",INPUT_SUBMIT:"INPUT_SUBMIT",FILE_UPLOAD:"FILE_UPLOAD",CONTACTS_FORM:"CONTACTS_FORM",CONTACTS_FORM_NAME:"CONTACTS_FORM_NAME",CONTACTS_FORM_PHONE:"CONTACTS_FORM_PHONE",CONTACTS_FORM_EMAIL:"CONTACTS_FORM_EMAIL",CONTACTS_FORM_SUBMIT:"CONTACTS_FORM_SUBMIT",CONTACTS_FORM_INPUT:"CONTACTS_FORM_INPUT",CALLBACK_BUTTON:"CALLBACK_BUTTON",WA_BUTTON:"WA_BUTTON",CLOSE_BUTTON:"CLOSE_BUTTON",POWER_BUTTON:"POWER_BUTTON",MOBILE_POPUP_CLOSE_BUTTON:"MOBILE_POPUP_CLOSE_BUTTON"}},8565:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.MediaStatus=t.MessageInitiator=t.MessageStatus=t.MessageType=void 0;t.MessageType={MESSAGE:"message",PROACTIVE:"proactive",MEDIA:"media",COBROWSE:"cobrowse",INVOICE:"invoice",SYSTEM:"system",PREFORM:"botsystem",FORM:"form",TEMPORARY:"temporary",SOCIAL:"social",EMAIL:"email",SEPARATOR:"separator",FOR_TEST:"fortest",PRECHAT:"prechat",BOT:"bot",INVITE:"invite",EMPTY:null,LISTPICKER:"keyboard",STICKER:"sticker",WEB_RTC_CALL:"webrtccall"};t.MessageStatus={SENT:"sended",DELIVERED:"delivered",READ:"read",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null};t.MessageInitiator={AGENT:"agent",CLIENT:"client",SYSTEM:"system",FORM:"bot",BOT:"bot_agent",EMPTY:null};t.MediaStatus={UPLOADING:"uploading",COMPLETE:"complete",ERROR:"error",EXPIRED:"expired"}},2843:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Permission=t.PermissionStatus=void 0;t.PermissionStatus={UNKNOWN:0,ALLOWED:1,BLOCKED:2};t.Permission={AUDIO:"audio",VIDEO:"video"}},85442:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.RouteList=t.RouterEvent=t.Route=void 0;var a={HIDDEN:"hidden",LABEL:"label",LABEL_INVITATION:"label/invitation",DEPARTMENTS:"departments",INTRODUCE:"introduce",MOBILE_MENU:"mobilemenu",CHAT:"chat",CHAT_MIN:"chat/min",CHAT_EULA:"chat/eula",CHAT_SOCIAL:"chat/social",CHAT_INTRODUCE:"chat/introduce",CHAT_EVAL:"chat/eval",CHAT_CALL:"chat/call",CHAT_SETUP_CALL:"chat/setupcall",CALL:"call",CALL_EULA:"call/eula",CALL_POPUP:"call/popup",DEBUG:"debug"};t.Route=a;t.RouterEvent={Submit:"submit",Cancel:"cancel",CloseWindow:"closeWindow",Hide:"hide",Navigate:"navigate",Error:"error",ToChat:"toChat",ToCall:"toCall",ToSocial:"toSocial",ToIntroduce:"toIntroduce",ToEval:"toEval",ToEula:"toEula",ApiOpen:"apiOpen",ToDebug:"toDebug",ToLabelInvitation:"toLabelInvitation",ToMobileMenu:"toMobileMenu",ToCallPopup:"toCallPopup",ToCallSetup:"ToCallSetup"};var i=[];for(var r in a)a.hasOwnProperty(r)&&i.push(a[r]);var o=i;t.RouteList=o},20965:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.CallPopupStatus=t.WebRTCCallStatus=t.DelayedCallStatus=t.CallStatus=t.ChatState=void 0;t.ChatState={NOT_STARTED_OR_CLOSED:"NOT_STARTED_OR_CLOSED",STARTED:"STARTED",ACCEPTED:"ACCEPTED"};t.CallStatus={WAIT:"cw_wait",CONNECTING:"cw_connecting",CONNECTED:"cw_connected",ENDED:"cw_call_end",ERROR:"cw_error"};t.DelayedCallStatus={WAIT:0,SUCCESS:1,MAX_REQUESTS_LIMIT:2,NOT_WORK_TIME:3,BAD_CALLBACK_TIME:4,BLOCKED:5,BAD_DIRECTION:6};t.WebRTCCallStatus={INITIAL:0,ACCEPTED:1,DECLINED:2,ERROR:3,ENDED:4};t.CallPopupStatus={ENABLED:"enabled",DISABLED:"disabled",ONLY_TRIGGERS:"only_triggers",ONLY_BUTTON_CLICK:"only_button_click"}},63242:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.RateLimit=t.TelemetryName=void 0;t.TelemetryName={NEWOFFLINE_FIRST_MESSAGE:"offline_first_message",NEWOFFLINE_FORM_SUBMIT:"offline_form_submit",NEWOFFLINE_MESSAGE_AFTER_FORM:"offline_message_after_form",NEWOFFLINE_AGENT_ACCEPT:"offline_agent_accept",NEWOFFLINE_FORCE_OFFLINE:"offline_force_offline",CHAT_ACCEPTED:"chat_accepted",STARTUP_ERROR:"startup_error",CALL_END:"cw_call_end",CALL_ERROR:"cw_call_error",FORCE_OFFLINE:"force_offline",SOCIAL_HAS_INTEGRATION:"social_receive_has_integration_",CHAT_INTRODUCE_SOCIAL:"chat_introduce_social",CALL_START:"cw_start_call",API_CALL_OPEN:"cw_api_call_open",INTRODUCE:"introduce",CLIENT_RATE_FORM:"client_rate_form",EULA_SHOWN:"eula_shown",EULA_ACCEPTED:"eula_accepted",OFFLINE_SENT:"offline_sent",CLIENT_MESSAGE_SEND_ERROR:"client_message_send_error",CHAT_INTRODUCE:"chat_introduce",CHAT_INVITE:"chat_invite",COBROWSE_SUCCESS:"cobrowse_success",COBROWSE_FAILED:"cobrowse_failed",CLIENT_MESSAGE_FLUSH_BUFFER:"client_message_flush_buffer",CLIENT_MESSAGE_SPAM:"client_message_spam",DISCONNECTED:"Disconnected while connecting",STARTUP_TIMEOUT:"Startup Timeout",JC_RECONNECT:"JC reconnect",CDN_LOAD_TIME:"cdn_load_time",IN_IFRAME_STARTED:"in_iframe_started",API_GET_MESSAGES_REQUEST:"api_get_messages_request",API_GET_MESSAGES_ERROR:"api_get_messages_error",API_GET_MESSAGES_RECEIVED:"api_get_messages_received",FILE_UPLOAD_ERROR:"file_upload_error",FILE_UPLOAD_ERROR_NO_MIME_TYPE:"file_upload_error_no_mime_type",CW_BUTTON_CLICK:"cw_button_click",WA_BUTTON_CLICK:"wa_button_click",WIDGET_CLOSE_CLICK:"widget_close_click",SITE_CUSTOM_COPYRIGHT:"site_custom_copyright",EULA_CANCEL_BTN:"eula_cancel_btn",EULA_LINK_CLICKED:"eula_link_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELED:"file_upload_canceled",MOBILE_CHAT_CLOSE:"mobile_chat_close",MOBILE_CLOSE_CALLBACK:"mobile_close_callback",EMOJI_OPEN_SMILE_LIST:"emoji_open_smile_list",EMOJI_INSERT_SMILE:"emoji_insert_smile",WIDGET_CLICK:"widget_click",LABEL_BUTTONS_SHOW:"label_buttons_show",LABEL_BUTTONS_CHAT:"label_buttons_chat",LABEL_BUTTONS_CALL:"label_buttons_call",LABEL_BUTTONS:"label_buttons_",LABEL_BUTTONS_WA:"label_buttons_wa",COBROWSE_CLICK_BUTTON:"cobrowse_click_button",EMAIL_MESSAGE_SUBMITTED:"Introduce message email submitted",POWERBUTTON_OPEN:"powerbtn_open_",POWERBUTTON_OPEN_CHAT:"powerbtn_open_chat",POWERBUTTON_OPEN_CALLBACK:"powerbtn_open_callback",POWERBUTTON_CLOSE_MENU:"powerbtn_close_menu",POWERBUTTON_OPEN_MENU:"powerbtn_open_menu",CONTINUE_IN_VK:"Continue in VK",CONTINUE_IN_FB:"Continue in FB",ZOOM_OVERLAY_SHOW:"zoom_overlay_show",ZOOM_OVERLAY_HIDE:"zoom_overlay_hide",WIDGET_STATUS:"widget_status",CW_ONLINE_HEADER_BUTTON:"cw_online_header_button",CW_OFFLINE_HEADER_BUTTON:"cw_offline_header_button",SOCIAL_SHOW_FACEBOOK:"social_show_facebook",SOCIAL_SHOW_VK:"social_show_vk",SOCIAL_CONFIGURED_NOT_LOGGED:"social_configured_not_logged",VISITORS_FAIL:"visitors_fail",VISITORS_INVITE:"visitors_invite",IMPORT_LEGACY:"import legacy",OFFLINE_INVITE:"offline_invite",BITRIX_SKIP_IFRAME:"Bitrix Skip Iframe",VISITOR_MSG_SENT:"visitor_msg_sent",AGENT_MESSAGE:"agent_message",API_OPEN:"api_open",API_CLOSE:"api_close",API_GET_CONTACT_INFO:"api_getcontactinfo",API_GET_VISITOR_NUMBER:"api_getvisitornumber_async",API_SET_USER_TOKEN:"api_setusertoken",API_SET_CUSTOM_DATA:"api_setcustomdata",API_SEND_MESSAGE:"api_sendmessage",API_SET_CONTACT_INFO:"api_setcontactinfo",API_SET_CONTACT_INFO_BAD_DATA:"api_setcontantactinfo_bad_data",API_SHOW_PROACTIVE:"api_showproactiveinvitation",API_SEND_OFFLINE_MESSAGE:"api_sendofflinemessage",API_SEND_OFFLINE_MESSAGE_BAD_DATA:"api_sendofflinemessage_bad_data",API_SET_RULES:"api_setrules",API_CHAT_MODE:"api_chatmode",API_SET_WIDGET_COLOR:"api_setwidgetcolor",API_SEND_PAGE_TITLE:"api_sendpagetitle",API_IS_CALLBACK_ENABLED:"api_iscallbackenabled",API_GET_UTM:"api_getutm",OFFLINE_SENT_FAIL:"offline_sent_fail",DEBUG_PANEL_OPENED:"debug_panel_opened",MORE_CLICK:"more_click",DOWNLOAD_CHAT_LOG_CLICK:"download_chat_log_click",ERROR_DOWNLOADING_CHAT_LOG:"error_downloading_chat_log",WIDGET_DELETED:"widget_deleted",INVITE_CLOSE:"invite_close",PRECHAT:"prechat",RECEIVE_API_INVITATION:"receive_api_invitation",READ_API_INVITATION:"read_api_invitation",ANSWER_API_INVITATION:"answer_api_invitation",API_INVITATION_OPEN_CHAT:"api_invitation_open_chat",CLICK_LINK_API_INVITAION:"click_link_api_invitation",BOT_BUTTON_CLICK:"bot_button_click",CLIENT_MESSAGE_BOT:"client_message_bot",CONFIG_LIMIT:"config_limit",VI_STATUS_FAIL:"vi_status_fail",MARKDOWN_LINK_CLICK:"markdown_link_click",MORE_BTN_CLICK:"more_btn_click",BOT_TRANSFER_CHAT:"bot_transfer_chat",DELAYED_ERR:"delayed_query_error",RECAPTCHA_SUCCESS:"recaptcha_success",RECAPTCHA_FAILURE:"recaptcha_failure",RECAPTCHA_ERROR:"recaptcha_error",BUNDLE_LOADED:"bundle_loaded",CWP_SHOW_ON_PROACTIVE:"cwp_show_on_proactive",CWP_SUBMIT:"cwp_submit",CWP_DISABLED_SUBMIT_CLICK:"cwp_disabled_submit_click",CWP_CLOSE_CLICK:"cwp_close_click",RESEND_CLICK:"resend_click",CHAT_VIEW:"chat_view",TOP100_HOVER:"top100_hover",TOP100_LINK_CLICK:"top100_link_click",MEDIA_SIGN:"media_get_sign_success",MEDIA_SIGN_ERROR:"media_get_sign_error",WEBRTC_ACCEPT_CALL:"webrtc_accept_call",WEBRTC_DENY_CALL:"webrtc_deny_all"};t.RateLimit={Low:1,High:10}},42796:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ScriptName=void 0;t.ScriptName={OPEN_WIDGET:"OPEN_WIDGET",CLOSE_WIDGET:"CLOSE_WIDGET",MINIMIZE_WIDGET:"MINIMIZE_WIDGET",MAXIMIZE_WIDGET:"MAXIMIZE_WIDGET",MIN_WIDGET:"MIN_WIDGET"}},78605:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ClientStatus=void 0;t.ClientStatus={ON_CHAT:"on_chat",INVITE_SENT:"invite_sent",ON_SITE:"on_site",PROACTIVE_SHOW:"proactive_show",ON_CALL:"on_call"}},55471:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(94184)),l=a(n(75119)),u=a(n(45697)),s=a(n(84470)),c=(a(n(75043)).default.name("AgentTyping"),function(e){var t,n=e.show,a=void 0===n?0:n,u=e.isMobile,c=(0,o.default)((t={},(0,i.default)(t,s.default.main,!0),(0,i.default)(t,s.default.__mobile,u),t));return r.default.createElement("jdiv",{className:c,style:{display:a?"block":"none"}},r.default.createElement("jdiv",{className:s.default.text},(0,l.default)("lblPencilHint")))});c.propTypes={show:u.default.number,isMobile:u.default.bool};var d=r.default.memo(c);t.default=d},16810:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(31386)),l=a(n(94184)),u=a(n(45697)),s=function(e){var t,n=e.expanded,a=void 0!==n&&n,u=e.dark,s=void 0===u||u,c=e.inCall,d=void 0!==c&&c,f=e.inChat,p=void 0!==f&&f,h=e.isMobile,g=void 0!==h&&h,m=e.isTablet,v=void 0!==m&&m,_=e.url,y=void 0===_?null:_,b=y?{backgroundImage:"url(".concat(y,")")}:{},E=(0,l.default)((t={},(0,i.default)(t,o.default.avatar,!0),(0,i.default)(t,o.default._connected,!p&&d),(0,i.default)(t,o.default._expanded,a),(0,i.default)(t,o.default._mobile,g),(0,i.default)(t,o.default._tablet,v),(0,i.default)(t,o.default._chatStyle,p),t));return r.default.createElement("jdiv",{className:E},r.default.createElement("jdiv",{className:s?o.default.darkAvatar:o.default.lightAvatar},r.default.createElement("jdiv",{className:o.default.avatarImg,style:b})))};s.propTypes={expanded:u.default.bool,dark:u.default.bool.isRequired,inCall:u.default.bool,inChat:u.default.bool,isMobile:u.default.bool,isTablet:u.default.bool,url:u.default.string};var c=r.default.memo(s);t.default=c},80743:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),r=a(n(87672)),o=a(n(59748)),l=a(n(62904)),u=a(n(31386)),s=n(56602),c=a(n(94184)),d=a(n(45697)),f=n(58165),p=(a(n(75043)).default.name("BotIcon"),function(e){var t,n,a,d=e.isHeader,p=void 0!==d&&d,h=e.url,g=void 0===h?null:h,m=(0,c.default)((t={},(0,r.default)(t,u.default.botIcon,!0),(0,r.default)(t,u.default.__header,p),t)),v=g?(0,i.default)(n=(0,i.default)(a="".concat((0,s.getProtocol)())).call(a,l.default.avatar_url,"/avatars/")).call(n,g):(0,f.getSvgBgIcon)("iconBot"),_=g?null:{backgroundImage:"url(".concat(v,")")};return o.default.createElement("jdiv",{className:m,style:_},g?o.default.createElement("jdiv",{className:u.default.img,style:{backgroundImage:"url(".concat(v,")")}}):null)});p.propTypes={isHeader:d.default.bool,url:d.default.string};var h=o.default.memo(p);t.default=h},80740:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),r=a(n(87672)),o=a(n(59748)),l=a(n(31386)),u=a(n(94184)),s=a(n(45697)),c=function(e){var t,n=e.urls,a=e.bgColor,s=e.dark,c=void 0!==s&&s,d=e.expanded,f=void 0!==d&&d,p=e.inCall,h=void 0!==p&&p,g=e.inChat,m=void 0!==g&&g,v=e.isMobile,_=void 0!==v&&v,y=e.isTablet,b=void 0!==y&&y,E="_width".concat(n.length),C=(0,u.default)((t={},(0,r.default)(t,l.default.avatar,!0),(0,r.default)(t,l.default._connected,!m&&h),(0,r.default)(t,l.default._expanded,f),(0,r.default)(t,l.default._mobile,_),(0,r.default)(t,l.default._tablet,b),(0,r.default)(t,l.default._chatStyle,m),(0,r.default)(t,l.default[E],!0),t));return o.default.createElement("jdiv",{className:C},o.default.createElement("jdiv",{className:l.default.avatarList},(0,i.default)(n).call(n,(function(e,t){var i,s;return n.length>3&&t===n.length-1?o.default.createElement("jdiv",{className:(0,u.default)((i={},(0,r.default)(i,l.default.dotsItem,!0),(0,r.default)(i,l.default._dark,c),(0,r.default)(i,l.default._light,!c),i)),style:{borderColor:a}},o.default.createElement("jdiv",null,"...")):o.default.createElement("jdiv",{className:(0,u.default)((s={},(0,r.default)(s,l.default.avatarItem,!0),(0,r.default)(s,l.default.darkAvatar,c),(0,r.default)(s,l.default.lightAvatar,!c),s)),style:{backgroundColor:a,borderColor:a}},o.default.createElement("jdiv",{className:l.default.avatarListImg,style:{backgroundImage:e?"url(".concat(e,")"):null}}))}))))};c.propTypes={urls:s.default.arrayOf(s.default.string).isRequired,bgColor:s.default.string.isRequired,dark:s.default.bool.isRequired,expanded:s.default.bool,inCall:s.default.bool,inChat:s.default.bool,isMobile:s.default.bool,isTablet:s.default.bool};var d=o.default.memo(c);t.default=d},76411:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=n(26213),o=a(n(45697)),l=a(n(5777)),u=a(n(78620)),s=a(n(50251)),c=n(44988),d=n(20965),f=function(e){var t=e.color,n=e.button,a=e.baseUrl,o=e.widgetId,f=e.eula,p=e.callTime,h=e.isDelayedCallback,g=e.callbackAvailable,m=e.route,v=e.delayedCallStatus,_=e.separateForm,y=e.enableRequestVideocall,b=(0,r.useSelector)((function(e){return e.callback.delayedPeriods}),r.shallowEqual);return i.default.createElement(i.default.Fragment,null,(0,c.getShowButton)(n,g,y)?i.default.createElement(l.default,{allowedRoutes:(0,c.getCallbackButtonAllowedRoutes)(),currentRoute:m},i.default.createElement(u.default,{videoButton:y,color:(0,c.getCallbackButtonColor)(t),onClick:function(){(0,c.onButtonClick)(y)}})):null,!g&&_==d.CallPopupStatus.DISABLED||!_?null:i.default.createElement(l.default,{allowedRoutes:(0,c.getCallbackPopupAllowedRoutes)(),currentRoute:m},i.default.createElement(s.default,{callTime:p,checkEula:!!f,eulaLink:(0,c.getEulaLink)(a,o),onSubmit:c.onPopupSubmitClick,onClose:c.onPopupCloseClick,isDelayed:!(!h||!b),delayedCallPeriods:(0,c.getDelayedCallPeriods)(b),delayedCallError:(0,c.getDelayedCallError)(v),onDisabledSubmitClick:c.onDisabledSubmitClick})))};f.propTypes={color:o.default.string,button:o.default.bool,baseUrl:o.default.string,widgetId:o.default.string,eula:o.default.any,callTime:o.default.number,isDelayedCallback:o.default.bool,callbackAvailable:o.default.bool,route:o.default.string,delayedCallStatus:o.default.any,separateForm:o.default.string,enableRequestVideocall:o.default.bool};var p=(0,r.connect)((function(e,t){return{route:e.app.route,callbackAvailable:e.callback.available,isDelayedCallback:e.callback.isDelayed,callTime:e.settings.user.callback.time,color:e.settings.user.callbackButtonColor,button:e.settings.user.callback.button,baseUrl:e.settings.system.baseUrl,widgetId:e.settings.system.widgetId,eula:e.settings.features.eula&&!e.client.eulaAccepted,delayedCallStatus:e.callback.delayedStatus,separateForm:e.callback.separateForm,enableRequestVideocall:e.settings.features.enableRequestVideocall}}),{})(f);t.default=p},44988:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.onDisabledSubmitClick=t.getDelayedCallError=t.getDelayedCallPeriods=t.onPopupSubmitClick=t.onPopupCloseClick=t.getEulaLink=t.getCallbackPopupAllowedRoutes=t.getCallbackButtonColor=t.getShowButton=t.onButtonClick=t.getCallbackButtonAllowedRoutes=void 0;var i=a(n(33032)),r=a(n(78580)),o=n(24335),l=n(81189),u=n(17674),s=n(85442),c=n(33367),d=n(63242),f=n(42796),p=a(n(58061)),h=n(56602),g=a(n(47321)),m=n(93298),v=a(n(75959)),_=a(n(40695)),y=n(53172),b=n(20965),E=a(n(75119)),C=n(75245);t.getCallbackButtonAllowedRoutes=function(){return[s.Route.LABEL]};t.onButtonClick=function(e){if(!o.isDesignerEditor){var t;if(l.userDispatchers.setCallHeaderText(null),l.appDispatchers.setChatOpenByClient(!0),e)C.messageActions.sendClientMessage((0,E.default)("webrtc_video_text_message")),l.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),u.Router.next(s.RouterEvent.ToChat);else(0,r.default)(t=[b.CallPopupStatus.ENABLED,b.CallPopupStatus.ONLY_BUTTON_CLICK]).call(t,(0,y.getCallback)().separateForm)?u.Router.next(s.RouterEvent.ToCallPopup):(l.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),u.Router.next(s.RouterEvent.ToCall),_.default.trackCallClick());c.Monitoring.telemetry(d.TelemetryName.CW_BUTTON_CLICK,{param1:e?"isVideo":null})}};t.getShowButton=function(e,t,n){var a=e&&t&&!p.default.mobileOrTablet()&&!(0,h.isChatPage)()&&!(0,h.isAppCobrowse)();return!(!a||!n)||(a||o.isDesignerEditor)};t.getCallbackButtonColor=function(e){return e||"#18c139"};t.getCallbackPopupAllowedRoutes=function(){return[s.Route.CALL_POPUP]};t.getEulaLink=function(e,t){return window.parent.location.protocol+e+"/script/eula/"+t};t.onPopupCloseClick=function(){c.Monitoring.telemetry(d.TelemetryName.CWP_CLOSE_CLICK),u.Router.next(s.RouterEvent.CloseWindow)};t.onPopupSubmitClick=function(e,t){v.default.acceptEula(),t?((0,m.requestDelayedCall)({phone:e,dateTime:t}),l.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),u.Router.next(s.RouterEvent.Submit),c.Monitoring.telemetry(d.TelemetryName.CWP_SUBMIT,{param1:"delayed"})):(g.default.startCall(e),(0,i.default)((function(){l.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),u.Router.next(s.RouterEvent.Submit)}),1e3),c.Monitoring.telemetry(d.TelemetryName.CWP_SUBMIT,{param1:"direct"}))};t.getDelayedCallPeriods=function(e){return(0,m.formatPeriodsToSelectModel)(e)};t.getDelayedCallError=function(e){return(0,m.isErrorStatusCode)(e)};t.onDisabledSubmitClick=function(){c.Monitoring.telemetry(d.TelemetryName.CWP_DISABLED_SUBMIT_CLICK)}},82817:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(94473)),l=a(n(77766)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(60021)),h=a(n(47321)),g=a(n(62652)),m=a(n(49902)),v=a(n(62904)),_=a(n(75119)),y=a(n(58061)),b=a(n(62107)),E=n(17674),C=n(85442),T=n(51139),w=a(n(75959)),S=a(n(75043)),k=n(33367),I=n(63242);function A(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var M=S.default.name("Call"),x=function(e){(0,c.default)(n,e);var t=A(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"initTimer",value:function(e,t,n){this.callTimer=m.default,this.callTimer.timerText=e,this.callTimer.seconds=v.default.callback_settings.time,this.callTimer.on("handling",t),this.callTimer.on("tick",n)}},{key:"setTimerNull",value:function(){this.callTimer&&this.callTimer.setTimerNull()}},{key:"startTimer",value:function(){this.callTimer&&this.callTimer.handle("start_timer")}},{key:"submitPhone",value:function(e,t,n){var a=this._inputPhone;if(M.log("submitPhone",t,n,a,this._inputPhone),a&&a.isValid()){y.default.tablet()&&a&&a.base&&a.base.blur();var i,r="+"+a.getFullPhoneNumber(),o="";if(o=n?this.getMaskedPhoneByCode(r,n):(0,T.getMaskedPhone)(r),!g.default.eula_accepted&&v.default.eula)this.phone=r,w.default.showEula((0,l.default)(i="".concat((0,_.default)("eula_phone"),"<br/>")).call(i,o),null,"cb"),E.Router.next(C.RouterEvent.Submit);else this.setTimerNull(),this.startCall(r,t),k.Monitoring.telemetry(I.TelemetryName.CWP_SUBMIT,{param1:"direct"})}}},{key:"startCall",value:function(e,t,n){M.log("start call",e,t),h.default.startCall(e,t,n)}},{key:"getMaskedPhoneByCode",value:function(e,t){if(M.log("getMaskedPhoneByCode",e,t),!e)return e;var n=this.getPhoneNumberInfoByCode(e,t);return M.log("phoneNumberCode",n),n?"+"+t+" "+(0,T.getMaskedValue)(n.innerNumber,n.phoneFormat):null}},{key:"getPhoneNumberInfoByCode",value:function(e,t){var n=(0,o.default)(b.default).call(b.default,v.default.callback_settings.countries,{phone_code:t});return M.log("getPhoneNumberInfoByCode",n,t),n?(0,T.getPhoneInfo)(n,e):null}}]),n}(p.default);t.default=x},17678:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(81643)),l=a(n(33032)),u=a(n(51942)),s=a(n(77766)),c=a(n(54103)),d=a(n(26394)),f=a(n(69198)),p=a(n(5824)),h=a(n(51379)),g=a(n(214)),m=a(n(66380)),v=a(n(59748)),_=a(n(36216)),y=a(n(62652)),b=n(51139),E=a(n(62904)),C=a(n(75119)),T=a(n(75043)),w=a(n(82817)),S=a(n(69288)),k=a(n(71059)),I=a(n(19301)),A=a(n(58165)),M=a(n(10120)),x=n(17674),R=n(85442),O=n(75245),N=a(n(531)),D=a(n(58061)),L=n(56602),P=n(33367),B=a(n(99249)),j=a(n(76969));function F(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var H=T.default.name("CallChat"),U="chat_popup",W=function(e){(0,h.default)(n,e);var t=F(n);function n(e){var a,i;return(0,d.default)(this,n),(i=t.call(this,e)).state={mode:!1,pin:!0,close:!0,error:!1,hide:!1,is_invalid_phone:!1,submit:!1,blocked:!1},i._blockTimeout=null,i._inputPhone=null,i._timer=null,i.processState=(0,c.default)(a=i.processState).call(a,(0,p.default)(i)),i}return(0,f.default)(n,[{key:"componentDidMount",value:function(){var e=this;if((0,L.isEmpty)(E.default.callback_settings))H.log("Callwidget not configured yet.");else{this.on(y.default,(function(){var t=x.Router.getCurrentRoute();t!==R.Route.LABEL&&(t===R.Route.CHAT_CALL&&e.props.display&&!e.state.hide&&e._inputPhone&&e._inputPhone.focus(),e.setState(e.getState()))})),this.on(_.default,(function(){e.processState()})),this.initTimer(this._timer,(function(t){H.log("timer_finished",e.state.mode,e._timer),"timer_finished"===t.inputType&&"cw_wait"===e.state.mode&&e.setState({mode:"cw_connecting"})}),(function(t){e.setState({timer:t.toFixed(1).replace(".",",")})})),this.processState(!0),this._inputPhone&&(this._inputPhone.subscribe("onEnter",(function(t,n){H.warn("startCall by onEnter"),e.submitCall(t,U,n),P.Monitoring.telemetry("startCall_enter")})),this._inputPhone.subscribe("onChange",(function(){e.setState({is_invalid_phone:!e._inputPhone.isValid()})})));x.Router.on("submit_eula_success",(function t(n){H.log("submit_eula_success",n),n===R.Route.CHAT_CALL&&(e.submitPhone(null,U),x.Router.off("submit_eula_success",t),P.Monitoring.telemetry("startCall_eula"))}))}}},{key:"processState",value:function(e){var t=this.getState(e);(0,N.default)(t,this.state)&&_.default.cw_call.status===this.state.mode||this.setState(t)}},{key:"getState",value:function(e){var t={mode:_.default.webRTCCallStatus||_.default.cw_call.status,error:!1,hide:!1,isDelayedCall:!!_.default.cw_call_delayed,delayedCallPeriods:_.default.cw_call_delayed_periods,delayedCallStatus:_.default.cw_call_delayed_status};switch(t.mode){case"cw_wait":var n;if(e&&!_.default.webRTCCallStatus)O.messageActions.systemCallMessage((0,s.default)(n="".concat((0,C.default)("cw_call_to")," ")).call(n,(0,b.getMaskedPhone)(_.default.client_info.phone)),"callMessageStart");(0,u.default)(t,{hide:!1,pin:!1,close:!1,submit:!1}),this.startTimer();break;case"cw_connecting":(0,u.default)(t,{pin:!1,close:!1,hide:!1,submit:!1}),this.setTimerNull();break;case"cw_connected":t.hide=!0;break;case"cw_error":(0,u.default)(t,{pin:!D.default.mobileOrTablet(),close:!0,submit:!1,error:_.default.cw_call.error});break;case"cw_call_end":this.setTimerNull(),(0,u.default)(t,{pin:!0,close:!0,submit:!1})}return t}},{key:"submitCall",value:function(e,t,n){var a=this;H.log("submitCall",this.state.blocked),this.state.blocked||this.submitPhone(e,t,n),this.setState({blocked:!0}),clearTimeout(this._blockTimeout),this._blockTimeout=(0,l.default)((function(){a.setState({blocked:!1})}),3e3)}},{key:"submitFormCall",value:function(e){this.submitPhone(e,U,this._inputPhone.getCurrentCode())}},{key:"renderInputForm",value:function(e){var t,n=this,a=this.state,i=a.isDelayedCall,r=a.delayedCallStatus,l=a.delayedCallPeriods;return i&&!_.default.webRTCCallStatus?v.default.createElement(M.default,{phone:_.default.client_info.phone,statusCode:r,periods:l}):-1===(0,o.default)(t=["cw_wait","cw_connecting","cw_connected"]).call(t,this.state.mode)?v.default.createElement("jdiv",null,this.state.error?v.default.createElement("jdiv",{className:e.text},this.state.error):v.default.createElement("jdiv",{className:e.text},(0,C.default)("cw_weRecallAfter")," ",E.default.callback_settings.time," ",(0,C.default)((0,b.getTextSeconds)(E.default.callback_settings.time)),"!"),v.default.createElement("jdiv",{className:e.callBox},v.default.createElement(S.default,{type:"inForm",ref:function(e){n._inputPhone=e}}),v.default.createElement(k.default,{click:function(e){return n.submitFormCall(e)},disabled:this.state.blocked||this.state.submit,type:"input-button",iconName:"icon-v-email",ref:function(e){n._submitBtn=e}}),v.default.createElement("jdiv",{id:"callme-start-call",className:this.state.blocked||this.state.is_invalid_phone||this.state.submit?"":"can-call",onPointerDown:function(e){return n.submitFormCall(e)}}))):void 0}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0},{display:"cw_connected"===this.state.mode?"none":"block"}],waitBox:[{waitBox:!0},{display:"cw_wait"===this.state.mode?"block":"none"}],timerBox:[{timerBox:!0}]},style:B.default}}},{key:"renderData",value:function(e,t){if(!(0,L.isEmpty)(E.default.callback_settings))return v.default.createElement("jdiv",t.main,this.renderInputForm(B.default),v.default.createElement("jdiv",t.waitBox,v.default.createElement("jdiv",{className:B.default.waitText}," ",(0,C.default)("cw_callAfter")),v.default.createElement("jdiv",t.timerBox,v.default.createElement("jdiv",{className:B.default.count},this.state.timer||E.default.callback_settings.time)),v.default.createElement("jdiv",{className:B.default.waitText}," ",(0,C.default)((0,b.getTextSeconds)(E.default.callback_settings.time)))),v.default.createElement("jdiv",{style:{display:"cw_connecting"===this.state.mode?"block":"none"}},v.default.createElement("jdiv",{className:B.default.waitText},(0,C.default)("cw_connecting")),v.default.createElement("jdiv",{className:B.default.connectBox},v.default.createElement(A.default,{color:"#fff",iconName:"icon-connect2",className:B.default.connectIcon}),v.default.createElement("jdiv",{className:j.default.pinBox},v.default.createElement("jdiv",{className:j.default.pin1}),v.default.createElement("jdiv",{className:j.default.pin2}),v.default.createElement("jdiv",{className:j.default.pin3})))),v.default.createElement("jdiv",{className:B.default.pin,style:{display:this.state.pin?"block":"none"}}),this.state.close&&v.default.createElement(I.default,{onClose:function(e){e.stopPropagation()}}));H.log("Callwidget not configured yet.")}}]),n}(w.default);t.default=W},47760:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.CallbackChatDelayedBodyInfo=t.CallbackDelayedBodyInfo=void 0;var i=a(n(59748)),r=a(n(60410));t.CallbackDelayedBodyInfo=function(e){var t=e.children;return i.default.createElement("jdiv",{className:r.default.bodyInfo},i.default.createElement("jdiv",{className:r.default.bodyInfoText,dangerouslySetInnerHTML:{__html:t}}))};t.CallbackChatDelayedBodyInfo=function(e){var t=e.children;return i.default.createElement("jdiv",{className:r.default.bodyInfoChat},i.default.createElement("jdiv",{className:r.default.bodyInfoChatText,dangerouslySetInnerHTML:{__html:t}}))}},72963:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(54103)),l=a(n(77766)),u=a(n(26394)),s=a(n(69198)),c=a(n(5824)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(87672)),g=a(n(59748)),m=a(n(75043)),v=a(n(36216)),_=n(93298),y=a(n(47321)),b=n(17674),E=n(36143),C=n(33367),T=n(63242);function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}m.default.name("DelayedBase");var S=function(e){(0,d.default)(n,e);var t=w(n);function n(){var e,a;(0,u.default)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return a=t.call.apply(t,(0,l.default)(e=[this]).call(e,r)),(0,h.default)((0,c.default)(a),"state",{periods:(0,_.formatPeriodsToSelectModel)(v.default.cw_call_delayed_periods),activePeriodIndex:0,phoneInvalid:!0}),(0,h.default)((0,c.default)(a),"onSubmit",(function(){var e=a.state,t=e.activePeriodIndex,n=e.phoneNumber,i=(e.eulaAccepted,a.state.periods[t].value),r=n;a.state.phoneInvalid||y.default.submitShowEula(r)||(y.default.checkConnection((function(){(0,_.requestDelayedCall)({dateTime:i,phone:r})})),C.Monitoring.telemetry(T.TelemetryName.CWP_SUBMIT,{param1:"delayed"}))})),(0,h.default)((0,c.default)(a),"onPeriodChange",(function(e){var t=e.activeOptionIndex;a.setState({activePeriodIndex:t})})),(0,h.default)((0,c.default)(a),"onPhoneChange",(function(e){var t=e.invalidPhone,n=e.value,i=e.code;a.setState({phoneInvalid:t,phoneNumber:n,phoneCode:i})})),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e;E.RouterUtils.needToShowEula()&&b.Router.on("submit_eula_success",(0,o.default)(e=function(){this.onSubmit()}).call(e,this))}},{key:"componentWillReceiveProps",value:function(e){var t=e.periods,n=e.phone,a={};a.periods=(0,_.formatPeriodsToSelectModel)(t),n&&n!==this.state.phone&&(a.phoneNumber=n.replace(/\+/,"")),this.setState(a)}}]),n}(g.default.Component);t.default=S},10120:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(75119)),p=a(n(69288)),h=a(n(75900)),g=a(n(87374)),m=a(n(72963)),v=n(47760),_=n(93298),y=a(n(78066));function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var E=function(e){(0,u.default)(n,e);var t=b(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props.statusCode,t=this.state,n=t.periods,a=t.activePeriodIndex,i=(t.phoneInvalid,t.phoneNumber,e===_.DELAYED_CALL_STATUS.wait),r=i,o=(0,f.default)("callback_delayed_title");return(0,_.isErrorStatusCode)(e)&&(o=(0,f.default)("callback_delayed_submit_fail")),e===_.DELAYED_CALL_STATUS.success?d.default.createElement(v.CallbackChatDelayedBodyInfo,{mode:"chat"},(0,f.default)("callback_delayed_submit_success")):d.default.createElement("jdiv",{className:y.default.body},d.default.createElement("jdiv",{className:y.default.message},o),d.default.createElement(h.default,{theme:"inset",height:"sm",invalid:(0,_.isErrorStatusCode)(e),disabled:i,classNameWrap:y.default.periodSelectWrap,activeOptionIndex:a,options:n,onChange:this.onPeriodChange}),d.default.createElement(p.default,{type:"inForm",classNameContainer:y.default.classNameInputPhone,onChange:this.onPhoneChange,onEnter:this.onSubmit}),d.default.createElement(g.default,{height:"sm",widthFluid:!0,disabled:r,onClick:this.onSubmit},(0,f.default)("callback_delayed_button_submit")))}}]),n}(m.default);t.default=E},80150:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(1068);r(t,"__esModule",{value:!0}),t.default=void 0;var l=i(n(94473)),u=i(n(86902)),s=i(n(20116)),c=i(n(54103)),d=i(n(26394)),f=i(n(69198)),p=i(n(5824)),h=i(n(51379)),g=i(n(214)),m=i(n(66380)),v=(i(n(59748)),i(n(60021))),_=i(n(62107)),y=a(n(56602)),b=i(n(36216)),E=i(n(62904)),C=i(n(58061)),T=i(n(75119)),w=n(51139),S=n(94515),k=n(17674);function I(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(o(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=o(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var A=function(e){(0,h.default)(n,e);var t=I(n);function n(e){var a,i,r;return(0,d.default)(this,n),r=t.call(this,e),(0,y.isEmpty)(E.default.callback_settings)?(console.log("Callwidget not configured yet."),(0,g.default)(r)):(r.parseCurrentPhone(),r.initState(),r.documentOnClicked=(0,c.default)(a=r.documentOnClicked).call(a,(0,p.default)(r)),r.documentOnKeyPress=(0,c.default)(i=r.documentOnKeyPress).call(i,(0,p.default)(r)),r._input=null,r.linkRefs={},r)}return(0,f.default)(n,[{key:"componentDidMount",value:function(){var e,t=this;this.on(b.default,(function(){"cw_error"!==b.default.cw_call.status||b.default.cw_call.error!==(0,T.default)("cw_call_forward")?b.default.client_info.phone!==e&&(e=b.default.client_info.phone,t.parseCurrentPhone(),t.initState()):t.setState({number:""})})),this.state.currentCountry.phone_format&&this.setNumber(),k.Router.on("route_change",(function(){b.default.client_info.phone&&!t.state.number&&t.initState()})),this.triggerOnChangeProp()}},{key:"initState",value:function(){this.state={number:this.getCurrentNumber(),showList:!1,errorPhone:!1,countries:this.getAllowCountries(),currentCountry:this.getCurrentCountry(),placeholder:this.getCurrentCountry().phone_format,color:E.default.bubble_color||"green"}}},{key:"parseCurrentPhone",value:function(){b.default.client_info.phone&&(this.clientPhoneInfo=(0,w.getPhoneNumberInfo)(b.default.client_info.phone))}},{key:"getCurrentNumber",value:function(){return this.clientPhoneInfo?this.clientPhoneInfo.innerNumber:""}},{key:"getAllowCountries",value:function(){return this.countries=this.countries||_.default.sortBy(E.default.callback_settings.countries,"name")}},{key:"getCurrentCountry",value:function(){var e;return this.clientPhoneInfo?e=this.clientPhoneInfo.countryCode:E.default.geoip&&(e=E.default.geoip.split(";")[0]),_.default.findWhere(this.getAllowCountries(),{code:e})||this.getAllowCountries()[0]}},{key:"toggleCountriesList",value:function(e){this.state.countries.length<2||(this.state.showList?this.hideCountriesList():this.showCountriesList(),e.stopPropagation())}},{key:"showCountriesList",value:function(){this.setState({showList:!0,isFocusedInput:!0}),y.default.addListener(window.parent.document,"keypress",this.documentOnKeyPress),y.default.addListener(window.parent.document,"click",this.documentOnClicked)}},{key:"hideCountriesList",value:function(){this.setState({showList:!1,isFocusedInput:!1}),y.default.removeEvent(window.parent.document,"click",this.documentOnClicked),y.default.removeEvent(window.parent.document,"keypress",this.documentOnKeyPress)}},{key:"validPhoneNumber",value:function(){if(this._input&&this.state.currentCountry.phone_format){var e=this.state.currentCountry.phone_format,t=this._input&&this._input.value.toString();return(0,w.checkPhoneLength)(t,e,this.state.currentCountry.code)}return this.getFullPhoneNumber().length>9&&this.getFullPhoneNumber().length<16}},{key:"getFullPhoneNumber",value:function(){return this.state.currentCountry.phone_code+this.state.number.replace(/\D+/g,"")}},{key:"getCurrentCode",value:function(){return this.state.currentCountry.phone_code}},{key:"isShowErrorState",value:function(){return!this.state.number||0===this.state.number.length||!this.validPhoneNumber()}},{key:"inputOnBlur",value:function(){this.setState({isFocusedInput:!1,invalidPhone:this.isShowErrorState()})}},{key:"inputOnFocus",value:function(){this.setState({isFocusedInput:!0,showList:!1})}},{key:"triggerOnChangeProp",value:function(){var e=this.props.onChange;void 0!==e&&e({value:this.getFullPhoneNumber(),invalidPhone:this.isShowErrorState(),code:this.getCurrentCode()})}},{key:"triggerOnEnterProp",value:function(){var e=this.props.onEnter;void 0!==e&&e()}},{key:"inputOnInput",value:function(){var e=this;this.setNumber((function(){e.setState({invalidPhone:e.isShowErrorState()}),e.trigger("onChange",e._input&&e._input.value.toString().replace(/\D+/g,"")),e.triggerOnChangeProp()}))}},{key:"inputPhoneKeyUp",value:function(e){var t=this;this.setNumber((function(){"keyup"!==e.type||13!==e.keyCode&&13!==e.which||(t.validPhoneNumber()?(t.trigger("onEnter",t.getFullPhoneNumber(),t.state.currentCountry),t.triggerOnEnterProp()):t.setState({invalidPhone:!0}))}))}},{key:"codeOnClick",value:function(){C.default.desktop()&&this._input&&this._input.focus()}},{key:"documentOnKeyPress",value:function(e){var t=this.getChar(e),n=(0,s.default)(_.default).call(_.default,(0,u.default)(this.linkRefs),(function(e){return"link_"===e.substr(0,5)})),a=(0,l.default)(_.default).call(_.default,n,(function(e){return e.substr(5,1).toUpperCase()===t.toUpperCase()}));a&&this.linkRefs[a].scrollIntoView(!0)}},{key:"documentOnClicked",value:function(e){e.target.closest("#countryList")||this.hideCountriesList()}},{key:"getChar",value:function(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode?e.which<32?null:String.fromCharCode(e.which):null}},{key:"countrySelect",value:function(e){var t=this,n=e.delegateTarget&&e.delegateTarget.getAttribute("data-code")||e.target.value;this.setNumber((function(){var e=_.default.findWhere(t.state.countries,{code:n});t.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:t.isShowErrorState()}),C.default.desktop()&&t._input&&t._input.focus(),t.triggerOnChangeProp()}))}},{key:"getFlagIconLink",value:function(e){var t="/images/flags/".concat(e,".png");return'url("'+(S.EnvironmentManager.isDevelopment()?"/public"+t:y.default.staticUrl(t,!0))+'")'}},{key:"setNumber",value:function(e){var t=this._input&&this._input.value.toString();this.setState({number:this.getMaskedNumber(t)},(function(){e&&e()}))}},{key:"getMaskedNumber",value:function(e){return(0,w.getMaskedValue)(e,this.state.currentCountry.phone_format)}},{key:"focus",value:function(){C.default.desktop()&&this._input&&this._input.focus()}},{key:"isValid",value:function(){var e=this.validPhoneNumber();return this.setState({invalidPhone:!e}),e}},{key:"numberMaxLength",value:function(){return this.state.currentCountry.phone_format?this.state.currentCountry.phone_format.length:15-this.state.currentCountry.phone_code.length}}]),n}(v.default);t.default=A},69288:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(2991)),u=a(n(54103)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(87672)),g=a(n(59748)),m=a(n(80150)),v=a(n(75676)),_=a(n(20748)),y=a(n(94184)),b=a(n(58165));function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var C=function(e){(0,d.default)(n,e);var t=E(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n,[{key:"getRenderData",value:function(){return{styles:{container:[{container:!0,__singleMod:"single"===this.props.type,__inFormMod:"inForm"===this.props.type}],inputWrap:[(0,h.default)({inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone,__alone:1===this.state.countries.length},"_"+this.state.color,!(!this.state.color||"green"===this.state.color))],input:[{phoneInput:!0}],countryWrap:[{countryWrap:!0,_isScroll:this.state.countries.length>4},{display:this.state.showList?"block":"none"}]},style:v.default}}},{key:"renderCountryList",value:function(e,t){var n,a,i=this;return g.default.createElement("jdiv",{className:v.default.countryList,onPointerDown:this.delegate("listItem",(0,u.default)(n=this.countrySelect).call(n,this))},(0,l.default)(a=this.state.countries).call(a,(function(e,t){return g.default.createElement("jdiv",{className:v.default.listItem,key:t,dgName:"listItem","data-code":e.code,ref:function(t){i.linkRefs["link_"+e.name]=t}},g.default.createElement("jdiv",{className:v.default.flagIcon+" "+v.default.list,style:{backgroundImage:i.getFlagIconLink(e.code)}}),g.default.createElement("jdiv",{className:v.default.countryName},e.name),g.default.createElement("jdiv",{className:v.default.countryCode},"+"+e.phone_code))})))}},{key:"renderData",value:function(e,t){var n,a,i,r,l,s,c=this,d=(0,y.default)(v.default.flagIcon,this.props.classNameIcon),f=(0,y.default)(t.container.className,this.props.classNameContainer,{});return g.default.createElement("jdiv",(0,o.default)({},t.container,{className:f}),g.default.createElement("jdiv",t.inputWrap,g.default.createElement("jdiv",{className:v.default.flagWrap,onClick:(0,u.default)(n=this.toggleCountriesList).call(n,this)},g.default.createElement("jdiv",{className:d,style:{backgroundImage:this.getFlagIconLink(this.state.currentCountry.code)}}),g.default.createElement("jdiv",{className:v.default.flagArrow,style:{display:this.state.countries.length<2?"none":null}},g.default.createElement(b.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:v.default.iconSelect}))),g.default.createElement("jdiv",{className:v.default.phoneCodeWrap,onClick:(0,u.default)(a=this.codeOnClick).call(a,this)},"+"+this.state.currentCountry.phone_code),g.default.createElement("input",(0,o.default)({},t.input,{onBlur:(0,u.default)(i=this.inputOnBlur).call(i,this),placeholder:this.state.placeholder,onFocus:(0,u.default)(r=this.inputOnFocus).call(r,this),type:"text",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:(0,u.default)(l=this.inputOnInput).call(l,this),onKeyUp:(0,u.default)(s=this.inputPhoneKeyUp).call(s,this),"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){c._input=e}})),g.default.createElement("jdiv",t.countryWrap,this.state.countries.length>4?g.default.createElement(_.default,{railClass:v.default.rail,position:"relative"},this.renderCountryList(e,t)):this.renderCountryList(e,t))))}}]),n}(m.default);t.default=C,(0,h.default)(C,"defaultProps",{fillBorderAround:!0})},78620:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),r=a(n(87672)),o=a(n(59748)),l=a(n(7121)),u=a(n(45697)),s=a(n(94184)),c=n(70645),d=n(83093),f=a(n(58165)),p=a(n(75119)),h=function(e){var t,n=e.videoButton,a=e.color,u=e.onClick;return o.default.createElement("jdiv",{className:(0,s.default)((t={},(0,r.default)(t,l.default.wrap,!0),(0,r.default)(t,l.default._show,!0),(0,r.default)(t,"__jivoCallbackBtn",!0),t)),style:{backgroundColor:a},onClick:u},o.default.createElement("jdiv",(0,i.default)({className:l.default.button,style:{backgroundColor:a}},(0,c.withLocator)(d.Locator.CALLBACK_BUTTON))),o.default.createElement("jdiv",{className:l.default.iconWrap,title:n?(0,p.default)("webrtc_video_text_popup"):null},o.default.createElement(f.default,{iconName:n?"icon-video":"icon-tube",color:"#fff",className:l.default.logoCallback}),n?o.default.createElement("jdiv",{className:l.default.popup},(0,p.default)("webrtc_video_text_popup")):null))};h.propTypes={videoButton:u.default.bool,color:u.default.string,onClick:u.default.func};var g=o.default.memo(h);t.default=g},50251:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(77766)),o=i(n(5872)),l=i(n(18777)),u=a(n(59748)),s=i(n(46724)),c=i(n(45697)),d=n(70645),f=n(83093),p=i(n(58165)),h=i(n(69288)),g=i(n(87374)),m=i(n(75900)),v=i(n(24824)),_=n(51139),y=n(61187),b=i(n(75119)),E=n(24220),C=(i(n(75043)).default.name("CallbackPopup"),function(e){var t=e.checkEula,n=e.callTime,a=e.onSubmit,i=e.onClose,c=(e.eulaLink,e.isDelayed),C=e.delayedCallError,T=e.delayedCallPeriods,w=e.onDisabledSubmitClick,S=(0,u.useState)(!1),k=(0,l.default)(S,2),I=k[0],A=k[1],M=(0,u.useState)(!1),x=(0,l.default)(M,2),R=x[0],O=x[1],N=(0,u.useState)(null),D=(0,l.default)(N,2),L=D[0],P=D[1],B=(0,u.useState)(null),j=(0,l.default)(B,2),F=j[0],H=j[1],U=(0,u.useState)(null),W=(0,l.default)(U,2),z=W[0],G=W[1],V=(0,u.useRef)(null),q=(0,u.useRef)(null),K=(0,u.useRef)(null);(0,u.useEffect)((function(){K&&K.current&&K.current._input&&K.current._input.focus()}),[]);var Y,Z,J,X=function(){return u.default.createElement("jdiv",{className:s.default.input},u.default.createElement(h.default,{type:"inForm",onChange:function(e){var t=e.value,n=e.invalidPhone;e.code;n||P("+"+t)},onEnter:function(e){$&&$()},ref:K}))},$=function(){if(t&&!I)O(!0);else if(c){var e;if(!F||!z){var n=(0,y.getSelectedDateTime)(V,q);if(!n)return;return void(a&&a(L,n))}a&&a(L,(0,r.default)(e="".concat(F,"|")).call(e,z))}else a&&a(L)};return u.default.createElement("jdiv",{className:s.default.wrap},u.default.createElement("jdiv",{className:s.default.popup},u.default.createElement("jdiv",{className:s.default.hand}),u.default.createElement("jdiv",{onClick:function(){i&&i()}},u.default.createElement(p.default,(0,o.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:s.default.closeIcon},(0,d.withLocator)(f.Locator.CLOSE_BUTTON)))),u.default.createElement("jdiv",{className:s.default.contentWrap},u.default.createElement("jdiv",{className:s.default.title},(0,b.default)("cwPopupPutPhone")),c?u.default.createElement("jdiv",{className:s.default.subtitle},(0,b.default)("cwPopupTime")):u.default.createElement("jdiv",{className:s.default.subtitle},(0,b.default)("cw_callAfter")," ",u.default.createElement("b",null,n),(0,b.default)((0,_.getTextSeconds)(n))),c&&T?(Y=(0,y.getDelayedDays)(T),Z=(0,y.getSelectedDay)(V),J=(0,y.getDelayedTimes)(T,F||(Z?Z.value:null)),u.default.createElement("jdiv",{className:s.default.delayedWrap},u.default.createElement("jdiv",{className:s.default.periodsWrap},u.default.createElement("jdiv",null,(0,b.default)("lblCallMe")),u.default.createElement(m.default,{disabled:!1,classNameWrap:s.default.periodSelectWrap,invalid:C,options:Y,theme:"inset",onChange:function(e){var t=e.option;H(t.value)},ref:V}),u.default.createElement("jdiv",null,(0,b.default)("callback_delayed_period_delimiter")),u.default.createElement(m.default,{disabled:!1,classNameWrap:s.default.periodSelectWrap,invalid:C,options:J,theme:"inset",onChange:function(e){var t=e.option;G(t.value)},ref:q})),X())):X(),u.default.createElement(g.default,{height:"md",widthFluid:!0,disabled:!L||t&&!I||R||C,onDisabledClick:function(){w&&w()},onClick:$},c?(0,b.default)("callback_delayed_button_submit"):(0,b.default)("cw_callButtonText")),function(){if(!t)return null;var e=(0,E.getEulaState)();return u.default.createElement("jdiv",{className:s.default.eula},u.default.createElement(v.default,{checked:I,error:R,onClick:function(){A(!I),O(!1)}}),u.default.createElement("jdiv",{className:s.default.eulaText},(0,E.getAgreementText)(e.agreementBasis),(0,E.getEulaLink)((function(){(0,E.trackClick)()}))))}())))});C.propTypes={checkEula:c.default.bool,callTime:c.default.number,onSubmit:c.default.func,onClose:c.default.func,eulaLink:c.default.string,isDelayed:c.default.bool,delayedCallError:c.default.bool,delayedCallPeriods:c.default.any,onDisabledSubmitClick:c.default.func};var T=u.default.memo(C);t.default=T},61187:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getSelectedDateTime=t.getSelectedTime=t.getSelectedDay=t.getDelayedTimes=t.getDelayedDays=void 0;var i=a(n(77766)),r=a(n(36384)),o=function(e){if(!e)return[];for(var t=[],n=new r.default,a=0;a<e.length;a++){var i=e[a].label.split(",")[0],o=e[a].value.split("|")[0];n.has(o)||(n.add(o),t.push({label:"В ближайшее время"===i?"Сегодня":i,value:o}))}return t};t.getDelayedDays=o;t.getDelayedTimes=function(e,t){if(!e)return[];if(!t){var n=o(e);if(!n.length)return[];t=n[0].value}for(var a=[],i=0;i<e.length;i++){var r=e[i].label,l=e[i].value.split("|")[0],u=e[i].value.split("|")[1];l===t&&a.push({label:"В ближайшее время"===r?r:u,value:u})}return a};t.getSelectedDay=function(e){return e&&e.current?e.current.props.options[e.current.state.activeOptionIndex]:{label:null,value:null}};t.getSelectedTime=function(e){return e&&e.current?e.current.props.options[e.current.state.activeOptionIndex]:{label:null,value:null}};t.getSelectedDateTime=function(e,t){if(e.current&&t.current){var n,a=e.current.props.options[e.current.state.activeOptionIndex],r=t.current.props.options[t.current.state.activeOptionIndex];if(a&&a.value&&r&&r.value)return(0,i.default)(n="".concat(a.value,"|")).call(n,r.value)}}},49931:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(81643)),o=i(n(87672)),l=i(n(18777)),u=a(n(59748)),s=n(26213),c=i(n(45697)),d=i(n(94184)),f=i(n(36216)),p=i(n(62904)),h=i(n(97457)),g=i(n(76646)),m=i(n(21323)),v=i(n(75779)),_=i(n(66107)),y=i(n(75215)),b=i(n(17678)),E=i(n(12784)),C=i(n(58061)),T=n(17674),w=n(85442),S=n(57539),k=i(n(10803)),I=n(94515),A=i(n(9805)),M=i(n(22952)),x=n(56602),R=n(36143),O=i(n(75119)),N=i(n(75043)),D=u.default.lazy((function(){return n.e(711).then(n.t.bind(n,86588,7))})),L=u.default.lazy((function(){return n.e(772).then(n.t.bind(n,68947,7))})),P=N.default.name("ChatContainer"),B=[w.Route.CHAT,w.Route.CHAT_CALL,w.Route.CHAT_EULA,w.Route.CHAT_EVAL,w.Route.CHAT_INTRODUCE,w.Route.CHAT_MIN,w.Route.CHAT_SOCIAL,w.Route.CHAT_SETUP_CALL,w.Route.DEPARTMENTS,w.Route.INTRODUCE,w.Route.DEBUG],j=[w.Route.CHAT,w.Route.CHAT_CALL,w.Route.CHAT_EVAL,w.Route.CHAT_INTRODUCE,w.Route.CHAT_SOCIAL],F=[w.Route.CHAT,w.Route.CHAT_CALL,w.Route.CHAT_EVAL,w.Route.CHAT_INTRODUCE,w.Route.CHAT_SOCIAL],H=function(e){var t,n,a,i,s,c=e.canRenderCall,N=e.showHeaderText,H=e.showBody,U=e.isOnline,W=e.widgetId,z=(e.isContactFormFocused,e.route),G=(0,u.useErrorBoundary)((function(e){return P.warn(e)})),V=(0,l.default)(G,2),q=(V[0],V[1],(0,u.useRef)(null)),K=(0,u.useState)({inputHeight:0}),Y=(0,l.default)(K,2),Z=Y[0],J=Y[1],X=!C.default.mobileOrTablet()&&(T.Router.getCurrentRoute()===w.Route.INTRODUCE||"cw_connected"===f.default.cw_call.status&&T.Router.getCurrentRoute()===w.Route.CALL),$=function(){return p.default.joint&&(p.default.joint.vk||p.default.joint.fb)?u.default.createElement(S.Path,{paths:[w.Route.CHAT_SOCIAL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatSocialPopup",duration:300,cheap:!0},u.default.createElement("jdiv",{className:h.default.popupFull},u.default.createElement(E.default,{mode:"vk",showCallback:function(){},hideCallback:function(){T.Router.next(w.RouterEvent.ToChat)}}))):null},Q=function(){return u.default.createElement("jdiv",{className:h.default.popup},c?u.default.createElement(S.Path,{paths:[w.Route.CHAT_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyCallPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},u.default.createElement(b.default,{route:"chat",status:f.default.cw_call.status,display:!0})):null,1===p.default.show_rate_form?u.default.createElement(S.Path,{paths:[w.Route.CHAT_EVAL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyEvalPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},u.default.createElement(m.default,{needShow:R.RouterUtils.needToShowEvaluation()})):null)};return u.default.createElement("jdiv",{className:(0,d.default)((t={},(0,o.default)(t,h.default.main,!C.default.mobileOrTablet()&&!(0,x.isChatPage)()),(0,o.default)(t,h.default.mobile,C.default.mobileOrTablet()||(0,x.isChatPage)()),(0,o.default)(t,h.default.__static,X),(0,o.default)(t,h.default.noShadow,!N),t)),ref:q},u.default.createElement(S.Path,{paths:B,name:"ChatHeader",className:h.default.headerBox,isStatic:X},u.default.createElement("jdiv",{className:h.default.header},u.default.createElement(k.default,{showHeaderText:H}))),u.default.createElement(S.Path,{paths:j,name:"ChatBody"},u.default.createElement("jdiv",{className:(0,d.default)((s={},(0,o.default)(s,h.default.body,!0),(0,o.default)(s,h.default.show,H),s))},u.default.createElement(M.default,{inputHeight:Z.inputHeight})),Q(),$()),function(){var e;if(-1!==(0,r.default)(F).call(F,z)){return u.default.createElement(S.Path,{paths:F,name:"ChatInput",transition:"Fade",shouldWait:0,className:(0,d.default)((e={},(0,o.default)(e,h.default.input,!0),(0,o.default)(e,h.default.show,!0),e))},u.default.createElement(v.default,{onInputChangeHeight:function(e){Z.inputHeight!==e&&J({inputHeight:e})}}))}}(),T.Router.needToShowIntroduceForm()?u.default.createElement(S.Path,{paths:[w.Route.INTRODUCE],name:"Introduce",withMountTransition:!0,transition:T.Router.getPrevRoute()===w.Route.LABEL?"FadeWithDelay":"Fade",waitBeforeUnmount:100},u.default.createElement("jdiv",{className:(0,d.default)((i={},(0,o.default)(i,h.default.body,!0),(0,o.default)(i,h.default.show,H),i))},u.default.createElement(_.default,null))):null,p.default.departments?u.default.createElement(S.Path,{paths:[w.Route.DEPARTMENTS],name:"Departments",shouldWait:0,className:(0,d.default)((a={},(0,o.default)(a,h.default.body,!0),(0,o.default)(a,h.default.show,H),a))},u.default.createElement(y.default,null)):null,p.default.eula?u.default.createElement(S.Path,{paths:[w.Route.CHAT_EULA],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodyEulaPopup",fixed:!0,duration:300,cheap:!0},u.default.createElement("jdiv",{className:h.default.popupFull},u.default.createElement(g.default,{showCallback:function(){},hideCallback:function(){}}))):null,z!==w.Route.DEBUG?null:u.default.createElement(S.Path,{paths:[w.Route.DEBUG],name:"Debug",shouldWait:0,className:(0,d.default)((n={},(0,o.default)(n,h.default.body,!0),(0,o.default)(n,h.default.show,H),n))},u.default.createElement(u.default.Suspense,{fallback:u.default.createElement("jdiv",{className:h.default.loading},(0,O.default)("cb_loading"))},u.default.createElement(D,{online:U,version:I.EnvironmentManager.getVersion(),branch:I.EnvironmentManager.getBranch(),widgetId:W,hasErrors:A.default.getInstance().pageHasErrors(),closeButtonClick:function(){T.Router.next(w.RouterEvent.ToChat)}}))),z!==w.Route.CHAT_SETUP_CALL?null:u.default.createElement(S.Path,{paths:[w.Route.CHAT_SETUP_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodySetupCallPopup",fixed:!0,duration:300,cheap:!0},u.default.createElement("jdiv",{className:h.default.popupFull},u.default.createElement(u.default.Suspense,{fallback:u.default.createElement("jdiv",{className:h.default.loading},(0,O.default)("cb_loading"))},u.default.createElement(L,null)))))};H.propTypes={isOnline:c.default.bool,canRenderCall:c.default.bool.isRequired,showHeaderText:c.default.bool,showBody:c.default.bool,widgetId:c.default.string,isContactFormFocused:c.default.bool,route:c.default.string};var U=(0,s.connect)((function(e){return{isOnline:e.app.isOnline,widgetId:e.settings.system.widgetId,appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,userSettings:e.settings.user,route:e.app.route,callbackEnabled:e.callback.available,isContactFormFocused:e.app.isContactFormFocused}}),{})(H);t.default=U},24824:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(13344)),l=a(n(94184)),u=a(n(45697)),s=function(e){var t,n=e.checked,a=e.error,u=e.onClick;return r.default.createElement("jdiv",{className:(0,l.default)((t={},(0,i.default)(t,o.default.checkbox,!0),(0,i.default)(t,o.default._checked,n),(0,i.default)(t,o.default._error,a),t)),onClick:function(){u&&u()}})};s.propTypes={checked:u.default.bool,error:u.default.bool,onClick:u.default.func,color:u.default.string};var c=r.default.memo(s);t.default=c},99952:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),r=a(n(87672)),o=a(n(59748)),l=a(n(54291)),u=a(n(94184)),s=a(n(45697)),c=a(n(58165)),d=a(n(2336)),f=n(70645),p=n(83093),h=function(e){var t,n=e.onClick,a=e.drag,s=e.callEnabled,h=e.inCall,g=e.show,m=e.ignoreDragHeight;return o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",{className:(0,u.default)((t={},(0,r.default)(t,l.default.wrap,!0),(0,r.default)(t,l.default.__show,g),(0,r.default)(t,l.default.__call,h),t)),dir:"ltr",id:"jivo_action"},o.default.createElement("jdiv",{className:l.default.closeButton,onClick:n,id:"jivo_close_button"},o.default.createElement(c.default,(0,i.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:l.default.closeIcon},(0,f.withLocator)(p.Locator.CLOSE_BUTTON))))),a?o.default.createElement(d.default,{short:s,ignoreHeight:m}):null)};h.propTypes={onClick:s.default.func.isRequired,drag:s.default.bool,callEnabled:s.default.bool,inCall:s.default.bool,show:s.default.bool,ignoreDragHeight:s.default.bool};var g=o.default.memo(h);t.default=g},71059:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(87672)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(58165)),v=a(n(62904)),_=a(n(58061)),y=a(n(75043)),b=n(70645),E=n(83093),C=a(n(2090));function T(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}y.default.name("Button");var w=v.default.bubble_color||"green",S=function(e){(0,d.default)(n,e);var t=T(n);function n(e){return(0,s.default)(this,n),t.call(this,e)}return(0,c.default)(n,[{key:"getRenderData",value:function(){var e,t;return{styles:{button:[(e={button:!0},(0,u.default)(e,"_"+w,!0),(0,u.default)(e,"_disabled",this.props.disabled),(0,u.default)(e,"_medium",this.props.medium),(0,u.default)(e,"__ios",_.default.ios()),e)],inputButton:[(t={inputButton:!0},(0,u.default)(t,"_"+w,!0),(0,u.default)(t,"_disabled",this.props.disabled),(0,u.default)(t,"__mobileChat",this.props.chatMobile),t)]},style:C.default}}},{key:"renderData",value:function(e,t){var n,a,i=this;switch(this.props.type){case"input-button":return h.default.createElement("jdiv",(0,o.default)({},t.inputButton,{onClick:(0,l.default)(n=this.props.click).call(n,this)}),h.default.createElement(m.default,{color:"#fff",iconName:this.props.iconName,className:C.default.buttonIcon}));default:return h.default.createElement("jdiv",(0,o.default)({},t.button,{onPointerDown:(0,l.default)(a=this.props.click).call(a,this),onTouchStart:function(e){e.preventDefault(),_.default.isPointerEnabled()||i.props.click(e)},ref:function(e){i._submitBtn=e}},(0,b.withLocator)(E.Locator[this.props["data-qa-id"]])),h.default.createElement("jdiv",{className:C.default.text},this.props.text))}}}]),n}(g.default);t.default=S},60801:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(25843)),s=a(n(89400)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),p=a(n(214)),h=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(75119)),_=a(n(62652)),y=a(n(62904)),b=a(n(62107)),E=a(n(71059)),C=a(n(22259)),T=n(17674),w=n(85442),S=a(n(94686)),k=n(70645),I=n(83093),A=n(56602),M=n(81189);function x(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var R=a(n(75043)).default.name("Buttons"),O=function(e){(0,f.default)(n,e);var t=x(n);function n(e){var a;return(0,c.default)(this,n),(a=t.call(this,e)).successCallback=e.successCallback||function(){},a.errorCallback=e.errorCallback||function(){},a.focusPopupInput=e.focusPopupInput||function(){},a._submitBtn=null,a._submitBy=null,a}return(0,d.default)(n,[{key:"submitForm",value:function(e){if(e&&(e.preventDefault(),e.stopPropagation(),this._submitBy=e.view?"byClick":"byEnter"),this.props.disabled)R.log("Button is disabled.");else{var t=(0,s.default)(this.props),n={};this.values=!1,b.default.each(t,(function(e){var t;"name"==e.name&&(e.name="client_name");var a="string"==typeof e.value?(0,u.default)(t=e.value).call(t):e.value;n[e.name]=a||null}));var a=this.isValid(t);if(R.log("submitForm",t,a),a.error)e.preventDefault(),this.errorCallback(a.data),this.values=!1;else{var i={};b.default.each(a.data,(function(e){i[e.name]=e.value})),y.default.eula&&!_.default.eula_accepted&&this.countNotEmptyValues(i)?this.values=i:this.resetForm(i)}}}},{key:"componentDidMount",value:function(){var e=this;this.on(_.default,(function(){y.default.eula&&_.default.eula_accepted&&(0,s.default)(e)&&(e.resetForm((0,s.default)(e)),e.values=!1)}))}},{key:"countNotEmptyValues",value:function(e){var t=b.default.without((0,s.default)(b.default).call(b.default,e),null).length;return 1===t&&e.message?0:t}},{key:"cancel",value:function(){M.clientDispatchers.setIsIntroduced(!0),T.Router.next(w.RouterEvent.Cancel)}},{key:"isValid",value:function(e){var t=!1;for(var n in e)if(n){var a=n;"client_name"==n&&(a="name");var i=y.default.contacts_settings[a]&&y.default.contacts_settings[a].required;e[n]&&(S.default[n](e[n].value||"")||(0,A.isEmpty)(e[n].value)&&!i&&"message"!==n?e[n].error=!1:(t=!0,e[n].error=!0))}return{data:e,error:t}}},{key:"resetForm",value:function(e){y.default.eula&&!_.default.eula_accepted&&this.countNotEmptyValues(e)||this.setInfo(e)}},{key:"setInfo",value:function(e){R.log("setInput",e),this._submitBtn.disabled=!0,this.successCallback(e,this._submitBy)}},{key:"getRenderData",value:function(){var e=1===y.default.contacts_ask&&_.default.is_online&&T.Router.getCurrentRoute()===w.Route.INTRODUCE?(0,v.default)("lblSendBefore"):(0,v.default)("lblSend");return y.default.eula&&!_.default.eula_accepted&&(e=(0,v.default)("continue")),{styles:{},style:C.default,data:{text:e}}}},{key:"renderData",value:function(e,t){var n,a=this;return g.default.createElement(g.default.Fragment,null,g.default.createElement(E.default,(0,o.default)({click:(0,l.default)(n=this.submitForm).call(n,this),text:e.text,ref:function(e){a._submitBtn=e},disabled:this.props.disabled},(0,k.withLocator)(I.Locator.CONTACTS_FORM_SUBMIT))))}}]),n}(m.default);t.default=O},44068:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(87672)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(62904)),v=n(99112),_=a(n(36216)),y=a(n(58061)),b=n(70645),E=n(83093),C=a(n(75043)),T=a(n(22259));function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}C.default.name("Input");var S=function(e){(0,d.default)(n,e);var t=w(n);function n(e){var a;(0,s.default)(this,n);var i=(a=t.call(this,e)).props.name;return"client_name"===i&&(i="name"),a.state={text:_.default.client_info[a.props.name]?_.default.client_info[a.props.name]:"",error:e.error,key:i},a.onBlur=e.onBlur||function(){},a.onFocus=function(){a.setState({error:!1}),e.onFocus&&e.onFocus()},a.handleChange=function(t,n){n.target.value!==a.props.value&&e.handleChange&&e.handleChange(t,n)},a._input=null,a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this._input&&(this._input.value=this.props.value)}},{key:"getType",value:function(e){switch(e){case"phone":return"tel";case"email":return"email";default:return"text"}}},{key:"setValue",value:function(e){this._input.value=e,this.handleChange(this.props.name,{target:{value:e,required:this.props.required}})}},{key:"needRender",value:function(){return m.default.contacts_settings&&m.default.contacts_settings[this.state.key]&&m.default.contacts_settings[this.state.key].show||this.props.show}},{key:"getRenderData",value:function(){var e;return{styles:{inputField:[(e={inputField:!0,_error:this.props.submited?this.props.error:this.props.submited},(0,u.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,u.default)(e,"__mobile",y.default.mobileOrTablet()),(0,u.default)(e,"__valid",this.props.valid),(0,u.default)(e,"__bluredEmpty",!(this._input&&this._input.value)),e)]},style:T.default,data:{placeholder:this.props.placeholder+(this.props.required||m.default.contacts_settings[this.state.key].required?"*":"")}}}},{key:"renderData",value:function(e,t){var n,a,i=this;if(this.needRender())return h.default.createElement("jdiv",{className:T.default.fieldWrap},h.default.createElement("input",(0,o.default)({},t.inputField,{type:this.getType(this.state.key),autoComplete:this.getType(this.state.key),onKeyPress:function(e){e.stopPropagation(),v.getNextSiblingNodeFocus.call(i,e)},onBlur:(0,l.default)(n=this.onBlur).call(n,this),onFocus:(0,l.default)(a=this.onFocus).call(a,this),placeholder:e.placeholder,onInput:function(e){e.stopPropagation(),i.handleChange.call(i,i.props.name,e)},onKeyUp:function(e){e.stopPropagation(),i.handleChange.call(i,i.props.name,e)},onKeyDown:function(e){e.stopPropagation()},ref:function(e){i._input=e}},(0,b.withLocator)(E.Locator["CONTACTS_FORM_".concat(this.state.key.toUpperCase())]),{maxLength:"email"==this.state.key?255:null})))}}]),n}(g.default);t.default=S},43986:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(87672)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(62904)),v=a(n(36216)),_=a(n(58061)),y=n(99112),b=n(70645),E=n(83093),C=a(n(75043)),T=a(n(22259));function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}C.default.name("InputChat");var S=function(e){(0,d.default)(n,e);var t=w(n);function n(e){var a;(0,s.default)(this,n);var i=(a=t.call(this,e)).props.name;return"client_name"===i&&(i="name"),a.state={text:v.default.client_info[a.props.name]?v.default.client_info[a.props.name]:"",error:e.error,key:i},a.onFocus=function(t){a._focused=!0,a.setState({error:!1}),e.onFocus&&e.onFocus(t)},a.onBlur=function(t){a._focused=!1,e.onBlur&&e.onBlur(t)},a.handleChange=function(t,n){a.setState({error:!1}),e.handleChange(t,n),e.onChange(t,n)},a.onSubmit=function(){e.onSubmit&&e.onSubmit(a.state.key,e.error)},a._input=null,a._focused=null,a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this._input&&(this._input.value=this.props.value)}},{key:"componentWillReceiveProps",value:function(e){this._input&&(this._input.value=e.value)}},{key:"getType",value:function(e){switch(e){case"phone":return"tel";case"email":return"email";case"name":return"name";default:return"text"}}},{key:"needRender",value:function(){return m.default.contacts_settings&&m.default.contacts_settings[this.state.key]&&m.default.contacts_settings[this.state.key].show}},{key:"getRenderData",value:function(){var e,t=this._input&&this.props.valid&&""!==this._input.value;return{styles:{inputField:[(e={inputField:!0,_error:this.props.submited?this.props.error:this.props.submited},(0,u.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,u.default)(e,"__mobile",_.default.mobileOrTablet()),(0,u.default)(e,"__valid",t),(0,u.default)(e,"__bluredEmpty",!(this._input&&this._input.value)),(0,u.default)(e,"__inputChat",!0),e)]},style:T.default,data:{isValid:t,placeholder:this.props.placeholder+(m.default.contacts_settings[this.state.key].required?"*":"")}}}},{key:"renderData",value:function(e,t){var n=this;if(this.needRender()){var a,i,r=this.props.hint&&this._input&&(""!==this._input.value||_.default.ie()&&this._focused);return h.default.createElement("jdiv",{className:T.default.fieldWrap},r?h.default.createElement("jdiv",{className:T.default.hint},e.placeholder):null,h.default.createElement("input",(0,o.default)({},t.inputField,{type:this.getType(this.state.key),name:this.state.key,autoComplete:this.getType(this.state.key),onKeyPress:function(e){e.stopPropagation(),e.keyCode&&13==e.keyCode&&e.currentTarget.blur(),y.getNextSiblingNodeFocus.call(n,e)},onBlur:(0,l.default)(a=this.onBlur).call(a,this),onFocus:(0,l.default)(i=this.onFocus).call(i,this),placeholder:e.placeholder,onInput:function(e){e.stopPropagation(),n.handleChange.call(n,n.props.name,e)},onKeyUp:function(e){e.stopPropagation(),n.handleChange.call(n,n.props.name,e)},onKeyDown:function(e){e.stopPropagation()},disabled:this.props.disabled,title:e.placeholder,ref:function(e){n._input=e}},(0,b.withLocator)(E.Locator["CONTACTS_FORM_".concat(this.state.key.toUpperCase())]),{maxLength:"email"==this.state.key?255:null})),e.isValid?h.default.createElement("jdiv",{className:T.default.iconValid}):null)}}}]),n}(g.default);t.default=S},98077:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(59748)),h=a(n(60021)),g=a(n(75043)),m=a(n(75119)),v=n(56602),_=a(n(77244)),y=a(n(58061)),b=a(n(31636));function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}g.default.name("IntroduceButton");var C=function(e){(0,c.default)(n,e);var t=E(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={},a.scrollToForm=e.scrollToForm||function(){},a}return(0,s.default)(n,[{key:"getRenderData",value:function(){return{styles:{scrollForm:[{scrollForm:!0,__hide:this.props.hide,__ad:(0,v.showAd)(),__mobile:y.default.mobileOrTablet()}]},style:b.default}}},{key:"renderData",value:function(e,t){var n,a=this;return p.default.createElement("jdiv",(0,o.default)({},t.scrollForm,{onPointerDown:(0,l.default)(n=this.scrollToForm).call(n,this),onTouchStart:function(e){e.preventDefault(),y.default.isPointerEnabled()||a.scrollToForm(e)}}),p.default.createElement("jdiv",{className:b.default.textToForm},p.default.createElement(_.default,{icon:"1f44b-1f3fb",alone:!1,className:"emojiMessages",style:!0})," ",(0,m.default)("lblIntroduceRequest")))}}]),n}(h.default);t.default=C},19301:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(60021)),h=a(n(75043)),g=a(n(58165)),m=a(n(97865)),v=n(17674),_=n(85442);function y(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}h.default.name("CloseButton");var b=function(e){(0,s.default)(n,e);var t=y(n);function n(e){return(0,l.default)(this,n),t.call(this,e)}return(0,u.default)(n,[{key:"componentDidMount",value:function(){}},{key:"getRenderData",value:function(){return{styles:{},style:m.default,data:{}}}},{key:"handleClick",value:function(e){e.stopPropagation(),v.Router.next(_.RouterEvent.Cancel),this.props.onClose(e)}},{key:"renderData",value:function(e,t){var n;return f.default.createElement("jdiv",{className:m.default.popupClose,onClick:(0,o.default)(n=this.handleClick).call(n,this)},f.default.createElement(g.default,{className:m.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"}))}}]),n}(p.default);t.default=b},96884:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(87672)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(75119)),v=a(n(58061)),_=n(70645),y=n(83093),b=a(n(22259));function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var C=function(e){(0,d.default)(n,e);var t=E(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e))._textarea=null,a.handleChange=e.handleChange||function(){},a}return(0,c.default)(n,[{key:"onInput",value:function(e){e.stopPropagation(),e.target.value!==this.props.value&&this.handleChange.call(this,"message",e)}},{key:"getRenderData",value:function(){var e;return{styles:{fieldWrap:[{fieldWrap:!0}],inputField:[(e={inputField:!0},(0,u.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,u.default)(e,"__textarea",!0),(0,u.default)(e,"_error",this.props.error),(0,u.default)(e,"__mobile",v.default.mobileOrTablet()),(0,u.default)(e,"__bluredEmpty",!this.props.value),e)]},style:b.default}}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement("jdiv",t.fieldWrap,h.default.createElement("textarea",(0,o.default)({},t.inputField,{value:this.props.value||void 0,maxLength:"1000",onInput:(0,l.default)(n=this.onInput).call(n,this),onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},placeholder:(0,m.default)("lblYourMessage")+"*","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){a._textarea=e}},(0,_.withLocator)(y.Locator.CONTACTS_FORM_INPUT))))}}]),n}(g.default);t.default=C},12907:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(54103)),l=a(n(5872)),u=a(n(77766)),s=a(n(87672)),c=a(n(51942)),d=a(n(26394)),f=a(n(69198)),p=a(n(51379)),h=a(n(214)),g=a(n(66380)),m=a(n(59748)),v=a(n(59748)),_=a(n(60021)),y=a(n(62652)),b=a(n(69961)),E=a(n(62904)),C=a(n(62107)),T=a(n(75119)),w=n(56602),S=n(99112),k=a(n(58061)),I=a(n(94184)),A=a(n(71155)),M=a(n(58165)),x=n(33367),R=n(63242),O=n(70645),N=n(83093);function D(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var L=a(n(75043)).default.name("Copyright"),P=(0,w.getUtmLink)("label_tooltip"),B=(0,T.default)("businessCopyright").split("{0}"),j=B[0],F=B[1],H=function(e){(0,p.default)(n,e);var t=D(n);function n(e){var a;if((0,d.default)(this,n),(a=t.call(this,e)).state={enabled:!0,show:!1,hidden:!1},a.custom_copyright=window.parent.document.getElementById("jivo_copyright"),a.custom_copyright&&a.props.refWrap){var i=window.parent.document.createElement("div");i.id="jivo_copyright_corner",a.custom_copyright_corner=i,a.custom_copyright_corner.className="jivo-"+E.default.widget_orientation,a.custom_copyright.appendChild(a.custom_copyright_corner),x.Monitoring.telemetry(R.TelemetryName.SITE_CUSTOM_COPYRIGHT)}return a}return(0,f.default)(n,[{key:"componentDidMount",value:function(){var e=this;if(L.log("mounted"),this.on(y.default,(function(){"label"==y.default.route!==e.state.enabled&&e.setState({enabled:"label"==y.default.route})})),k.default.mobileOrTablet()&&this.isChat()&&!this.props.bottom){var t=0;this.on(b.default,(function(){e.state.typing!==t&&e.setState({hidden:b.default.typing}),t=b.default.typing}))}if(this.custom_copyright){var n;if(C.default.each(this.custom_copyright.childNodes,(function(e){"A"===e.tagName&&(n=e)})),n){var a=document.createElement("jdiv");a.className=A.default.customWrap,this.custom_copyright.replaceChild(a,n),v.default.render(this.renderLogo(!0),a)}k.default.mobileOrTablet()||((0,w.addListener)(this.custom_copyright,"mouseover",(function(){return e.mouseOver()})),(0,w.addListener)(this.custom_copyright,"mouseout",(function(){return e.mouseOut()})))}}},{key:"getTooltipPosition",value:function(){var e,t,n={top:0,left:0};switch(null!==this.custom_copyright&&this.props.refWrap&&this.props.refWrap()&&(t=(0,S.getElementPosition)(this.props.refWrap())),E.default.widget_orientation){case"left":e=10,n={top:20+(t?t.top:0)+"px",left:40+e+"px"};break;case"right":e="en"===E.default.iconLocale?80:60,n={top:20+(t?t.top:0)+"px",right:"50px"};break;case"bottom":n={bottom:"48px",right:(t?t.windowWidth-t.width-t.left+30:42)+"px"}}return n}},{key:"getCopyStyles",value:function(){var e=this.getTooltipPosition(),t={color:(0,w.getTextColor)(),display:this.state.show?"block":"none",background:(0,w.getGradientBg)(this.props.color,this.props.color2).background};return(0,c.default)(t,e)}},{key:"showCustom",value:function(e){this.custom_copyright&&this.setState({show:e})}},{key:"mouseOver",value:function(){this.showCustom(!0)}},{key:"mouseOut",value:function(){this.showCustom(!1)}},{key:"isChat",value:function(){return"chat"===this.props.type}},{key:"renderLogo",value:function(e){var t,n=E.default.bill_ru?"logo-jivosite":"logo-jivochat",a=y.default.is_online?"#18C139":"#62666c",i=(0,w.getTextColor)(y.default.widget_font_color);this.isChat()&&(i="#323648",a="#18C139");var r=(0,I.default)((t={},(0,s.default)(t,A.default.link,!0),(0,s.default)(t,A.default.__ru,!!E.default.bill_ru),t));return m.default.createElement("a",{href:P,rel:"nofollow noopener",target:"_blank",className:r},e?null:j,m.default.createElement(M.default,{iconName:n,color:i,color2:a,className:A.default.logoIcon}))}},{key:"getRenderData",value:function(){var e,t=[(e={copyright:!0},(0,s.default)(e,"_"+this.props.orientation,!0),(0,s.default)(e,"_light",!1),(0,s.default)(e,"__ru",!!E.default.bill_ru),e),this.props.bg],n={},a={},i=this.props.color2||this.props.color;switch(this.props.orientation){case"right":n={borderLeftColor:i};break;case"left":var r;if(n={borderRightColor:this.props.color},this.props.color2)a.backgroundImage=(0,u.default)(r="linear-gradient(95deg, ".concat(this.props.color2," 20%, ")).call(r,this.props.color," 80%)"),t[1]=a;break;case"bottom":n={borderTopColor:i}}return{styles:{copyright:t,hide:[{hide:!0}],logoIcon:[{logoIcon:!0}],link:[{link:!0,__ru:!!E.default.bill_ru}],text:[{text:!0},{color:this.isChat()?null:(0,w.getTextColor)(y.default.widget_font_color)}],corner:[{corner:!0},n],chatCopyright:[{chatCopyright:!0,__mobile:k.default.mobileOrTablet()||(0,w.isChatPage)(),__tablet:k.default.tablet()||k.default.desktop()&&(0,w.isChatPage)(),__hidden:this.state.hidden,__call:this.props.bottom,__chat:this.isChat(),__top:this.props.top}]},style:A.default}}},{key:"renderData",value:function(e,t){if(this.isChat())return m.default.createElement("jdiv",(0,l.default)({},t.chatCopyright,(0,O.withLocator)(N.Locator.CHAT_COPYRIGHT)),m.default.createElement("jdiv",t.text,this.renderLogo(),F));if(this.custom_copyright){var n=this.getCopyStyles();return this.custom_copyright.className=t.copyright.className,(0,c.default)(this.custom_copyright.style,n),(0,c.default)(this.custom_copyright_corner.style,t.corner.style),m.default.createElement("jdiv",t.hide)}var a,i;return m.default.createElement("jdiv",(0,l.default)({},t.copyright,{onMouseOver:(0,o.default)(a=this.mouseOver).call(a,this),onMouseOut:(0,o.default)(i=this.mouseOut).call(i,this)},(0,O.withLocator)(N.Locator.LABEL_COPYRIGHT_POPUP)),m.default.createElement("jdiv",t.text,this.renderLogo(),F),m.default.createElement("jdiv",t.corner))}}]),n}(_.default);t.default=H},75215:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(2991)),u=a(n(87672)),s=a(n(94198)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),p=a(n(214)),h=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(62904)),_=a(n(62107)),y=n(56602),b=a(n(58061)),E=a(n(69961)),C=a(n(47321)),T=a(n(68806)),w=a(n(12907)),S=a(n(75043)),k=a(n(11897)),I=n(17674),A=n(85442);function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var x=S.default.name("Departments"),R=v.default.departments,O=function(e){(0,f.default)(n,e);var t=M(n);function n(e){var a;return(0,c.default)(this,n),(a=t.call(this,e)).state={textSize:b.default.ios()?T.default.getTextSize():null},a.on(E.default,(function(){E.default.agent_id||C.default.setDepartmentId(null),I.Router.getCurrentRoute()===A.Route.DEPARTMENTS&&I.Router.next(A.RouterEvent.Navigate)})),a}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this;x.log("mounted"),b.default.ios()&&T.default.listenChangeZoom((function(){e.setState({textSize:T.default.getTextSize()})}))}},{key:"onDepartmentSelect",value:function(e){(e=(0,s.default)(e))&&(C.default.setDepartmentId(e),I.Router.next(A.RouterEvent.Navigate),x.log("set department id",e))}},{key:"getRenderData",value:function(){var e=b.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(0,u.default)({main:!0,__logo:(0,y.showAd)(),__mobile:b.default.mobileOrTablet()},"_"+(v.default.bubble_color||"green"),!0)],department:[{department:!0},e]},style:k.default}}},{key:"renderData",value:function(e,t){var n=this;if(!R)return null;var a=(0,l.default)(_.default).call(_.default,R,(function(e){return g.default.createElement("jdiv",(0,o.default)({},t.department,{onClick:function(){n.onDepartmentSelect(e.id)}}),e.name,g.default.createElement("jdiv",{className:k.default.circle}))}));return g.default.createElement(g.default.Fragment,null,(0,y.showAd)()&&g.default.createElement(w.default,{type:"chat",bottom:!0}),g.default.createElement("jdiv",t.main,a))}}]),n}(m.default);t.default=O},2336:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=i(n(18777)),l=a(n(59748)),u=i(n(50712)),s=i(n(94184)),c=i(n(45697)),d=n(14549),f=n(44835),p=function(e){var t,n=e.short,a=e.ignoreHeight,i=(0,l.useRef)(null),c=(0,l.useState)({dragStarted:!1}),p=(0,o.default)(c,2),h=p[0],g=p[1];return l.default.createElement("jdiv",{className:(0,s.default)((t={},(0,r.default)(t,u.default.wrap,!0),(0,r.default)(t,u.default.__short,n),(0,r.default)(t,u.default.__active,h.dragStarted),(0,r.default)(t,u.default.__abTop,(0,f.isAbTop100Enabled)()),t)),ref:i,onMouseDown:function(e){h.dragStarted||(g({dragStarted:!0}),(0,d.startDrag)(e))},onMouseMove:function(e){h.dragStarted&&(0,d.drag)(e,a)},onMouseUp:function(){h.dragStarted&&((0,d.stopDrag)(),g({dragStarted:!1}))},onMouseOut:function(){h.dragStarted&&(g({dragStarted:!1}),(0,d.stopDrag)())}})};p.propTypes={short:c.default.bool,ignoreHeight:c.default.bool};var h=l.default.memo(p);t.default=h},14549:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.drag=t.stopDrag=t.startDrag=void 0;var i,r,o,l,u,s=a(n(94198)),c=n(56602),d=n(99112),f=a(n(45808)),p=n(21224),h=a(n(62904)),g=n(81189),m=n(17674),v=a(n(58061)),_=n(10872),y=n(57018),b=n(5505),E=a(n(75043)).default.name("DragHelper"),C=null,T=function(){return"0"==h.default.widget_padding&&"bottom"===h.default.widget_orientation||"left"===h.default.widget_orientation?"left":"right"},w=function(e){(C=f.default.get(p.Component.SCROLL_CONTAINER))&&C.style&&(C.style.display=e?"block":"none")};t.startDrag=function(e){g.appDispatchers.setIsInDrag(!0),l=e.screenX,u=e.screenY,w(!1);var t,n=f.default.get(p.Component.WIDGET_CONTAINER),a=T();if("right"===a&&null===(0,_.getProperty)("right",n)&&((0,_.setProperty)("right",(t=n,(0,c.getPageWindow)().document.body.clientWidth-(t.offsetLeft||40)-t.offsetWidth+"px"),n),(0,_.setProperty)("left",null,n)),"left"===a&&null!==(0,_.getProperty)("right",n)){var h=n.offsetLeft+"px";(0,_.setProperty)("left",h,n),(0,_.setProperty)("right",null,n)}if("left"===a&&""===(0,_.getProperty)("left",n)){var m=n.offsetLeft||"40px";(0,_.setProperty)("left",m,n),(0,_.setProperty)("right",null,n)}var v=(0,d.getElementPosition)(n),b=n.offsetHeight;i=(0,s.default)((0,_.getProperty)(a,n)),r=(0,s.default)(b),v.minLeft="left"===a?40:30,v.maxLeft=v.windowWidth-v.width-v.minLeft,v.maxLeft-=30,v.minHeight=y.MINIMAL_WIDGET_HEIGHT,v.height=b<v.minHeight?v.minHeight:b,v.maxHeight=(0,c.getPageWindow)().innerHeight-30,o=v};t.stopDrag=function(){E.log("stopDrag"),w(!0);var e=function(){var e=f.default.get(p.Component.WIDGET_CONTAINER),t=(0,s.default)((0,_.getProperty)("height",e));t&&t<y.MINIMAL_WIDGET_HEIGHT&&(t=y.MINIMAL_WIDGET_HEIGHT),t||(t=y.DEFAULT_WIDGET_HEIGHT);var n=(0,_.getProperty)("left",e),a=(0,_.getProperty)("right",e);return g.positionDispatchers.initializePositionStore({height:t+"px",left:n,right:a}),{width:y.CHAT_WIDTH+"px",height:t+"px"}}();g.appDispatchers.setIsInDrag(!1),(0,b._callUserFunction)("onResizeCallback",e)};t.drag=function(e,t){var n=l-e.screenX,a=u-e.screenY,s=T();"left"==s&&(n=-n);var c=o,d=i?i+n:c.minLeft+n,h=f.default.get(p.Component.WIDGET_CONTAINER);d<c.minLeft?(0,_.setProperty)(s,c.minLeft+"px",h):d>c.maxLeft?(0,_.setProperty)(s,c.maxLeft+"px",h):(0,_.setProperty)(s,d+"px",h);var g=r+a;if(g!==c.height&&(g>c.minHeight||g>c.height)&&(m.Router.isIgnoreDragHeightRoute()&&(g=c.height),g>o.maxHeight&&(g=o.maxHeight),o.height=g,t||(0,_.setProperty)("height",g+"px",h)),v.default.safari()&&!v.default.mobileOrTablet()){(0,_.updateKeyframes)(h);var y=(0,_.getSavedLabelPosition)();y&&((0,_.setProperty)("labelright",y.right,h),(0,_.setProperty)("labelleft",y.left,h),(0,_.setProperty)("labelwidth",y.offsetWidth+"px",h))}}},77244:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(81643)),l=a(n(5872)),u=a(n(87672)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(94198)),g=a(n(59748)),m=a(n(60021)),v=a(n(62107)),_=a(n(16083)),y=n(56602),b=a(n(78557));function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var C={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"},T=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,w=String.fromCharCode,S=/\uFE0F/g,k=String.fromCharCode(8205);function I(e,t){return String(e).replace(T,t)}function A(e){var t="string"==typeof e?(0,h.default)(e,16):e;return t<65536?w(t):w(55296+((t-=65536)>>10),56320+(1023&t))}var M=function(e){(0,d.default)(n,e);var t=E(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).icon=e.icon,a.customStyle=e.style||{},a.className=e.className||"",a.type=a.getTypeIcon(e.icon),a}return(0,c.default)(n,[{key:"getTypeIcon",value:function(e){var t=this,n="img";return v.default.each(C,(function(a,i){e!==a&&e!==i||(n="div",e===a&&(t.icon=i))})),n}},{key:"getRenderData",value:function(){var e;return{data:{},styles:{emojiIcon:[(e={emojiIcon:!0},(0,u.default)(e,this.className,this.className),(0,u.default)(e,"__alone",this.props.alone),e)]},style:_.default}}},{key:"renderData",value:function(e,t){var n=encodeURIComponent((0,b.default)(this.icon)),a='url("data:image/svg+xml,'.concat(n,'")'),i=A(C[this.icon]),r=g.default.createElement("jdiv",(0,l.default)({},t.emojiIcon,{draggable:!1,alt:A(this.icon),style:{backgroundImage:"url('".concat((0,y.cdnLinkToEmoji)(this.icon),"')")}}),y.isTextEmojiDisabled?null:A(this.icon)),o=g.default.createElement("jdiv",(0,l.default)({},t.emojiIcon,{style:this.customStyle,"jv-emoji":this.icon}),g.default.createElement("jdiv",{className:_.default.icon,style:{backgroundImage:a},alt:i},y.isTextEmojiDisabled?null:i));return"img"===this.type?r:o}}],[{key:"cdnLinkToEmoji",value:function(e){return(0,y.cdnLinkToEmoji)(e)}},{key:"fromCodePoint",value:function(e){return A(e)}},{key:"toCodePoint",value:function(e,t){return function(e,t){for(var n=[],a=0,i=0,r=0;r<e.length;)a=e.charCodeAt(r++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join(t||"-")}((0,o.default)(e).call(e,k)<0?e.replace(S,""):e,t)}},{key:"parse",value:function(e,t){return function(e,t){return I(e,t)}(e,t)}},{key:"replace",value:function(e,t){return I(e,t)}},{key:"getEmojiList",value:function(){return C}},{key:"getRegExp",value:function(){return T}}]),n}(m.default);t.default=M},78557:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(69861)),r=a(n(22783)),o=a(n(69860)),l=a(n(44544)),u=a(n(12239)),s=a(n(70881)),c=a(n(92380)),d=a(n(74373)),f=a(n(67567)),p=a(n(57737)),h=a(n(14534)),g=a(n(78393)),m=a(n(79378)),v=a(n(5541)),_=a(n(87966)),y=a(n(94475)),b=a(n(45152)),E=a(n(63365)),C=a(n(22426)),T=a(n(56482)),w=a(n(23791));var S=function(e){return{angel:i.default,unicorn_face:r.default,confused:o.default,rage:l.default,imp:u.default,disappointed:s.default,kissing_heart:c.default,yum:d.default,disappointed_relieved:f.default,weary:p.default,grin:h.default,laughing:g.default,wink:m.default,sunglasses:v.default,neutral_face:_.default,winking_eye:y.default,hushed:b.default,thumbsup:T.default,thumbsdown:E.default,smile:C.default,tada:w.default}[e]};t.default=S},40731:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),r=a(n(59748)),o=a(n(77244)),l=a(n(62107)),u=function(){return r.default.createElement("jdiv",null,(0,i.default)(l.default).call(l.default,o.default.getEmojiList(),(function(e,t){return r.default.createElement(o.default,{icon:t})})))};t.default=u},76646:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(51942)),u=a(n(87672)),s=a(n(54103)),c=a(n(33032)),d=a(n(26394)),f=a(n(69198)),p=a(n(51379)),h=a(n(214)),g=a(n(66380)),m=a(n(59748)),v=a(n(60021)),_=a(n(75043)),y=a(n(62652)),b=a(n(47321)),E=a(n(75119)),C=a(n(58061)),T=a(n(68806)),w=a(n(62904)),S=a(n(20748)),k=a(n(43013)),I=n(17674),A=n(85442),M=n(33367),x=n(63242),R=a(n(45808)),O=n(10872),N=n(21224),D=a(n(75959)),L=n(24220);function P(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}_.default.name("EulaPopup");var B=function(e){(0,p.default)(n,e);var t=P(n);function n(e){var a;return(0,d.default)(this,n),(a=t.call(this,e)).state=(0,L.getEulaState)(),a._titleRef=null,a._callRef=null,a}return(0,f.default)(n,[{key:"componentDidUpdate",value:function(){var e=this.getTopOffset();this._textRef&&this._textRef.style&&e&&(this._textRef.style.top=e+"px")}},{key:"componentDidMount",value:function(){var e=this,t=y.default.route;this.on(y.default,(function(){y.default.show_eula&&!y.default.eula_accepted?(e.setState({show:!0,text:y.default.show_eula}),C.default.mobileOrTablet()&&b.default.blurActiveElement()):!y.default.show_eula&&e.state.show&&e.setState({show:!1,text:y.default.show_eula}),t!==y.default.route&&e.setState({show:!1,text:y.default.show_eula})})),T.default.listenChangeZoom((function(){var t=T.default.getTextSize();e.state.textSize!==t&&e.setState({textSize:t})}))}},{key:"submitCheckbox",value:function(){var e=this;this.setState({checked:!this.state.checked}),this.state.checked&&D.default.eulaLink&&(window.open(D.default.eulaLink),D.default.eulaLink=null),(0,c.default)((function(){e.state.checked&&(D.default.acceptEula(),I.Router.next(A.RouterEvent.Submit))}),500)}},{key:"cancel",value:function(e){var t=this;I.Router.next(A.RouterEvent.Cancel),C.default.safari()&&!C.default.mobileOrTablet()&&(0,c.default)((function(){var e=R.default.get(N.Component.WIDGET_CONTAINER);(0,O.updateKeyframes)(e)}),0),(0,c.default)((function(){t.setState({show:!1}),D.default.showEula(!1),e&&M.Monitoring.telemetry(x.TelemetryName.EULA_CANCEL_BTN,{param1:D.default.context})}),200)}},{key:"trackClick",value:function(){M.Monitoring.telemetry(x.TelemetryName.EULA_LINK_CLICKED,{param1:D.default.context})}},{key:"renderAgreement",value:function(){return(0,L.getAgreementText)(this.state.agreementBasis)}},{key:"renderLink",value:function(){var e;return(0,L.getEulaLink)((0,s.default)(e=this.trackClick).call(e,this))}},{key:"renderCancel",value:function(){var e,t=this;return m.default.createElement("jdiv",{className:k.default.cancel,onPointerDown:(0,s.default)(e=this.cancel).call(e,this),onTouchStart:function(e){e.preventDefault(),C.default.isPointerEnabled()||t.cancel(e)}},(0,E.default)("cancel"))}},{key:"getTopOffset",value:function(){return(this.state.text&&this._callRef&&this._callRef.offsetHeight)+(this._titleRef&&this._titleRef.offsetHeight)}},{key:"getRenderData",value:function(){var e,t=C.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{},n="string"==typeof this.state.text;return{styles:{wrap:[(e={eulaPopup:!0,_mobile:C.default.mobile(),_tablet:C.default.tablet()},(0,u.default)(e,"_"+w.default.bubble_color,!(!w.default.bubble_color||"green"===w.default.bubble_color)),(0,u.default)(e,"__call",this.props.callContainer),(0,u.default)(e,"__offlineForm",C.default.mobile()&&this.props.offlineForm),e)],popupContent:[{popupContent:!0},t],textBlock:[{textBlock:!0,__call:n}],text:[{text:!0},(0,l.default)(t,C.default.ios()?{lineHeight:T.default.getLineHeight(1.5)}:{})],title:[{title:!0,__hidden:!n},(0,l.default)(t,C.default.ios()?{lineHeight:T.default.getLineHeight(1.4)}:{})],formText:[{formText:!0},(0,l.default)(t,C.default.ios()?{lineHeight:T.default.getLineHeight(1.375)}:{})],checkbox:[{checkbox:!0,_checked:this.state.checked}],error:[{error:!0},{display:this.state.error?"block":"none"}]},style:k.default,data:{isCallText:n}}}},{key:"renderText",value:function(){return m.default.createElement("jdiv",{className:k.default.scrollText},this.renderAgreement(),this.renderLink())}},{key:"renderData",value:function(e,t){var n,a=this;return w.default.eula?m.default.createElement("jdiv",t.wrap,m.default.createElement("jdiv",t.popupContent,m.default.createElement("jdiv",t.text,m.default.createElement("jdiv",(0,o.default)({},t.title,{dangerouslySetInnerHTML:{__html:this.state.text},ref:function(e){a._callRef=e}})),m.default.createElement("jdiv",(0,o.default)({},t.formText,{ref:function(e){a._titleRef=e}}),m.default.createElement("jdiv",{className:k.default.popupCheckbox},m.default.createElement("jdiv",(0,o.default)({},t.checkbox,{onClick:(0,s.default)(n=this.submitCheckbox).call(n,this)}))),this.state.customTitle),m.default.createElement("jdiv",(0,o.default)({},t.textBlock,{ref:function(e){a._textRef=e}}),C.default.mobileOrTablet()?this.renderText():m.default.createElement(S.default,{position:"relative",railClass:k.default.rail},this.renderText())))),this.renderCancel()):null}}]),n}(v.default);t.default=B},24220:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.trackClick=t.getEulaLink=t.getAgreementText=t.getEulaState=t.getEulaUrl=void 0;var i=a(n(77766)),r=a(n(59748)),o=a(n(75119)),l=n(53172),u=n(33367),s=n(63242),c=function(){var e,t=(0,l.getSystemSettings)();return(0,i.default)(e="".concat(window.parent.location.protocol+t.baseUrl,"/script/eula/")).call(e,t.widgetId)};t.getEulaUrl=c;var d=function(){var e=(0,l.getFeatures)().eula,t={show:!0,checked:!1,text:!1,url:e&&e.externalLink?e.externalLink:c(),agreementBasis:e&&e.customAgreement?e.customAgreement:"законом №152-ФЗ «О персональных данных» от 27.07.2006",textSize:null,customTitle:"Согласен на обработку персональных данных",customLink:"Пользовательского соглашения"};return e&&e.useGdpr&&(t.customTitle=e.customTitle||(0,o.default)("eula_custom_title"),t.customLink=e.titleExternalLink||!1,t.agreementBasis=e.customAgreement||(0,o.default)("eula_custom_agreement")),t};t.getEulaState=d;t.getAgreementText=function(e){var t=(0,l.getFeatures)().eula;return t&&!t.useGdpr?"Ставя отметку, я даю свое согласие на обработку моих персональных данных в соответствии с\n            ".concat(e," и принимаю условия "):"".concat(e," ")};t.getEulaLink=function(e){var t=(0,l.getFeatures)().eula,n=d();return!t.useGdpr||t.useGdpr&&t.externalLink?r.default.createElement("a",{href:t.externalLink||c(),onClick:e,target:"_blank",rel:"noopener noreferrer"},n.customLink):null};t.trackClick=function(){u.Monitoring.telemetry(s.TelemetryName.EULA_LINK_CLICKED,{param1:"call_popup"})}},32832:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),p=a(n(34777)),h=a(n(75119)),g=n(56602),m=a(n(62652)),v=a(n(44992)),_=n(75245),y=n(33367),b=n(63242),E=n(81189),C=a(n(75834)),T=n(53172),w=n(47290),S=n(8565);function k(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var I=a(n(75043)).default.name("FileUpload"),A=function(e){(0,u.default)(n,e);var t=k(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={uploading:!1,privateId:null},a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;I.log("did mount"),this.on(p.default,{uploading:function(t){if(!e.state.uploading){I.warn("uploading:",e.state.privateId);var n=e.state.privateId?e.state.privateId:(0,g.generateGUID)();E.messagesDispatchers.addMessage({type:S.MessageType.MEDIA,from:S.MessageInitiator.CLIENT,body:{icon_type:(0,g.detectType)(t.type),name:t.name,size:t.size,type:t.type},private_id:n}),(0,T.getApp)().isOnline||m.default.chat_started||(m.default.chat_started=!0),e.setState({uploading:!0,privateId:n})}},error:function(t,n){I.log("error",t,e.state.privateId);var a=(0,w.getUploadMessage)(e.state.privateId);a&&(I.log("currentMsg",a),a.set("body",{error:t,name:n.name,type:n.type,size:n.size}),a.set("status",S.MessageStatus.DELIVERED)),e.setState({uploading:!1,privateId:null}),e.restoreInput()},complete:function(t,n){I.warn("complete",e.state.privateId,t,n);var a={file:n,file_name:t.name,file_size:t.size,type:(0,g.detectType)(t.type),mime_type:t.type,thumb:t.imagePreview};"photo"===a.type&&(a.width=t.width,a.height=t.height);var i=(0,g.getUrlEmoji)(t.type,n),r=(0,w.getUploadMessage)(e.state.privateId);r&&r.set("text",i);var o={name:"client_message",message:i,private_id:e.state.privateId,media:a};(0,w.sendMedia)(o),e.setState({uploading:!1,privateId:null}),v.default.play("outgoing_message"),y.Monitoring.telemetry(b.TelemetryName.FILE_UPLOAD_SUCCESS,{param1:t.type})},abort:function(){var t=(0,w.getUploadMessage)(e.state.privateId);t&&t.set("body.error",(0,h.default)("file_upl_cancel")),e.setState({uploading:!1,privateId:null}),e.restoreInput(),y.Monitoring.telemetry(b.TelemetryName.FILE_UPLOAD_CANCELED)}})}},{key:"restoreInput",value:function(){(0,T.getApp)().isOnline||_.messageActions.setInputDisabled(!1)}},{key:"handleChangeFile",value:function(e){if(e.target.files){var t=e.target.files[0];if(I.log("fileinfo:",t),t){var n=(0,g.generateGUID)();t&&t.name&&((0,T.getFeatures)().enableMediaSevice?(0,w.startUploadMedia)(t,n):this.setState({privateId:n},(function(){p.default.getFileInfo(t)}))),e.target.value=""}}}},{key:"handleClick",value:function(e){!(0,T.getApp)().isOnline&&this.props.disabled||(0,w.openIntroduce)(e)}},{key:"render",value:function(){var e=this;return d.default.createElement(C.default,{disabled:this.props.disabled,onClick:this.handleClick,onChange:function(t){e.handleChangeFile(t)},uploading:this.state.uploading})}}]),n}(f.default);t.default=A},75834:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=i(n(2991)),l=a(n(59748)),u=i(n(58165)),s=i(n(70692)),c=i(n(45697)),d=i(n(94184)),f=i(n(34935)),p=(0,o.default)(f.default).call(f.default,(function(e){return"."+e.extension})).join(","),h=function(e){var t,n,a=e.disabled,i=e.onClick,o=e.onChange,c=e.uploading,f=(0,l.useRef)(null),h=(0,d.default)((t={},(0,r.default)(t,s.default.wrap,!0),(0,r.default)(t,s.default.__disabled,a),t)),g=(0,d.default)((n={},(0,r.default)(n,s.default.uploadButton,!0),(0,r.default)(n,s.default.__uploading,c),n));return l.default.createElement("jdiv",{className:h},l.default.createElement(u.default,{iconName:"icon-attach",color:a?"#c9cdd3":"#a3aab5",className:s.default.iconAttach2}),l.default.createElement("jdiv",{className:s.default.uploadFwrap},l.default.createElement("input",{className:g,type:"file",ref:f,onClick:i,onChange:o,disabled:a,accept:p})))};h.propTypes={disabled:c.default.bool.isRequired,onClick:c.default.func.isRequired,onChange:c.default.func.isRequired,uploading:c.default.bool.isRequired};var g=l.default.memo(h);t.default=g},47290:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.startUploadMedia=t.getMediaData=t.getMediaDataFormatted=t.getTextMediaEmoji=t.openIntroduce=t.getUploadMessage=t.sendMedia=void 0;var f=a(n(87672)),p=a(n(77766)),h=a(n(81643)),g=a(n(99357)),m=a(n(81574)),v=n(17674),_=n(85442),y=n(33367),b=n(63242),E=n(92333),C=n(8565),T=n(56602),w=a(n(44992)),S=a(n(62652)),k=n(81189);function I(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}var A=a(n(75043)).default.name("FileUploadHelpers"),M=function(e){var t=m.default.getInstance().managers.connection;t.isOpen()?t.send(e):(t.buffer.contains(e.private_id)||t.buffer.add(e),t.open())};t.sendMedia=M;var x=function(e){return g.default.getMessageByPrivateId(e)};t.getUploadMessage=x;t.openIntroduce=function(e){v.Router.needToShowIntroduceForm()&&(e.preventDefault(),e.stopPropagation(),v.Router.next(_.RouterEvent.ToIntroduce))};var R=function(e){return(0,h.default)(e).call(e,"image")>=0?"📸":(0,h.default)(e).call(e,"video")>=0?"📽️":(0,h.default)(e).call(e,"audio")>=0?"🔉":"📄"};t.getTextMediaEmoji=R;var O=function(e){var t={},n=e.get("body");if(n&&!n.error&&(n.file_url||n.file)){var a,s=!!n.status,c=n.file_url||n.file,d=R(s?n.mime_type:n.type),h=(0,p.default)(a="".concat(d," ")).call(a,c),g=function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=I(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=I(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}({},n);A.warn("getMediaData",s,g,h),g.file=c,delete g.file_url,s?(delete g.loadedSize,delete g.status):g.type=(0,T.detectType)(n.type),t.message=h,t.media=g,A.warn("data to send:",t)}return t};t.getMediaDataFormatted=O;t.getMediaData=function(e){try{return O(e)}catch(e){return y.Monitoring.reportException(e),!1}};t.startUploadMedia=function(e,t){t||(t=(0,T.generateGUID)()),k.messagesDispatchers.addMessage({type:C.MessageType.MEDIA,from:C.MessageInitiator.CLIENT,private_id:t,body:{type:(0,T.detectType)(e.type),file_name:e.name,file_size:e.size,mime_type:e.type,loadedSize:0,status:C.MediaStatus.UPLOADING}});var n=x(t);E.mediaUploader.startUpload(n,e,(function(a){A.warn("file url:",n,e,a);var i={file:a.fullUrl,file_name:e.name,file_size:e.size,type:(0,T.detectType)(e.type),mime_type:e.type,thumb:a.thumbUrl};"photo"===i.type&&(n.set("body.width",e.width),n.set("body.height",e.height)),n.set("body.status",C.MediaStatus.COMPLETE),n.set("body.file",a.fullUrl),n.set("body.thumb",a.thumbUrl),n.set("body.file_size",e.size);var r=(0,T.getUrlEmoji)(e.type,a.fullUrl);n.set("text",r);var o={name:"client_message",message:r,private_id:t,media:i};S.default.chat_started=!0,M(o),w.default.play("outgoing_message"),y.Monitoring.telemetry(b.TelemetryName.FILE_UPLOAD_SUCCESS,{param1:e.type})}))}},47396:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var p=a(n(5872)),h=a(n(2991)),g=a(n(23765)),m=a(n(81643)),v=a(n(20116)),_=a(n(77766)),y=a(n(25843)),b=a(n(33032)),E=a(n(87672)),C=a(n(54103)),T=a(n(26394)),w=a(n(69198)),S=a(n(5824)),k=a(n(51379)),I=a(n(214)),A=a(n(66380)),M=a(n(59748)),x=a(n(60021)),R=a(n(62904)),O=a(n(62652)),N=a(n(36216)),D=n(56602),L=n(17674),P=a(n(58061)),B=a(n(531)),j=a(n(62107)),F=a(n(10505)),H=a(n(94686)),U=a(n(75043)),W=a(n(22755)),z=n(33367),G=n(63242),V=n(70645),q=n(83093),K=(n(37846),n(81189));a(n(81574));function Y(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=Y(Object(a),!0)).call(n,(function(t){(0,E.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=Y(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,A.default)(e);if(t){var i=(0,A.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,I.default)(this,n)}}var X=U.default.name("FormContainer"),$=function(e){(0,k.default)(n,e);var t=J(n);function n(e){var a,i;return(0,T.default)(this,n),(i=t.call(this,e)).successCallback=(0,C.default)(a=i.successCallback).call(a,(0,S.default)(i)),i._form=i.getInitForm(),X.log("init config",i._form),i._submited=!1,i}return(0,w.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=N.default.last_message,n=Z({},N.default.client_info);this.on(N.default,(function(){e._form.message.show&&t!==N.default.last_message&&(e._form.message.value=N.default.last_message?N.default.last_message:"",e.setState({form:e._form}),t=e._form.message.value),(0,B.default)(n,Z({},N.default.client_info))||(e._form=e.getInitForm(),e.setState({form:e._form})),n=Z({},N.default.client_info)})),P.default.mobileOrTablet()||P.default.ie()||L.Router.on("route_change",(function(){(0,b.default)((function(){if(O.default.is_focused&&L.Router.isFormRoute()&&e.base&&e.base.querySelector){var t=e.base.querySelector("input, textarea");t&&t.focus&&t.focus()}}),500)}))}},{key:"getInitForm",value:function(){var e=N.default.client_info||{};return{message:{name:"message",value:N.default.last_message?N.default.last_message:"",error:!1,required:"chat"!=this.props.type,show:"chat"!=this.props.type},client_name:{name:"client_name",value:e.client_name?e.client_name:"",error:!1,required:R.default.contacts_settings.name&&R.default.contacts_settings.name.required,show:R.default.contacts_settings.name&&R.default.contacts_settings.name.show},email:{name:"email",value:e.email?e.email:"",error:!1,required:R.default.contacts_settings.email&&R.default.contacts_settings.email.required,show:R.default.contacts_settings.email&&R.default.contacts_settings.email.show},phone:{name:"phone",value:e.phone?e.phone:"",error:!1,required:R.default.contacts_settings.phone&&R.default.contacts_settings.phone.required,show:R.default.contacts_settings.phone&&R.default.contacts_settings.phone.show}}}},{key:"successCallback",value:function(e,t){var n=this.getData();X.log("SUBMIT CALLBACK",n),j.default.each(this.getData(),(function(e){var t,a="string"==typeof e.value?(0,y.default)(t=e.value).call(t):e.value;n[e.name].value=a||null}));var a=this.isValid(n);if(this._submited=!0,this._form=a.data,a.error){if(X.log("FORM NOT VALID"),this.props.errorCallback(a.data),this.setState({form:a.data}),this.isIntroduceForm()||!O.default.is_online){X.log("checkData",a);var i=[],r={name:0,phone:1,email:2};O.default.is_online||(r.message=3),j.default.each(a.data,(function(e){if(e.error){var t,n,a=e.required?"*":"",o="client_name"==e.name?"name":e.name;i[r[o]]=(0,_.default)(t=(0,_.default)(n="".concat(o)).call(n,a,":")).call(t,e.value)}}));var o=O.default.is_online?G.TelemetryName.CHAT_INTRODUCE:G.TelemetryName.OFFLINE_SENT_FAIL;z.Monitoring.telemetry(o,{param1:"formSubmitFail",param2:(0,D.getContactSettingsInfo)(),param3:(0,v.default)(i).call(i,(function(e){return e})).join(";")})}}else X.log("FORM VALID"),this.isIntroduceForm()&&z.Monitoring.telemetry(G.TelemetryName.CHAT_INTRODUCE,{param1:"formSubmit",param2:(0,D.getContactSettingsInfo)(),param3:t}),K.clientDispatchers.setLastMessage(a.data.message.value||null),this.props.successCallback(a.data)}},{key:"isIntroduceForm",value:function(){var e;return!N.default.is_introduced&&-1!==(0,m.default)(e=[0,-1]).call(e,R.default.contacts_ask)&&O.default.is_online}},{key:"isAnyNotEmpty",value:function(e){var t=this,n=!1;return j.default.each(e,(function(e){!("chat"==t.props.type&&"message"==e.name)&&e.value&&(n=!0)})),n}},{key:"isValid",value:function(){var e=this,t=!1,n=this.getData();return 1===R.default.contacts_ask||this.isAnyNotEmpty(n)||(0,D.isAnyRequired)()?(j.default.each(n,(function(e){e.show&&e.required&&!e.value&&(n[e.name].error=!0),e.required||e.value||(n[e.name].error=!1),e.show&&n[e.name].error&&(t=!0),X.log("item validation:",e)})),{data:n,error:t}):(j.default.each(n,(function(t){"chat"==e.props.type&&"message"==t.name||(n[t.name].error=!0)})),{data:n,error:!0})}},{key:"errorCallback",value:function(){X.log("ERROR CALLBACK")}},{key:"resetForm",value:function(){}},{key:"getData",value:function(){return this._form}},{key:"setError",value:function(e,t){if(e)return this._form[e].error=t}},{key:"getError",value:function(e){if(e)return this._form[e].error}},{key:"getValue",value:function(e){if(e)return this._form[e].value}},{key:"handleData",value:function(e,t){var n=t.target;if(X.log("handleData",e,n.value,(0,g.default)(n.value)),n){var a=n.value;if("email"==e)try{a=F.default.toUnicode(a)}catch(e){}var i=!H.default[e](a)||!a;n.required||n.value||(i=!1),this._form[e]=j.default.extend(this._form[e],{value:a,error:i})}}},{key:"checkValue",value:function(e){var t=this.getValue(e);return!(!t||!H.default[e](t))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0}]},style:W.default}}},{key:"renderData",value:function(e,t){var n,a=this,i=(0,h.default)(n=M.default.Children).call(n,this.props.children,(function(e){var t,n,i={};if(!e)return null;if(e.props&&e.props.name){var r,o=e.props.name;i={handleChange:(0,C.default)(r=a.handleData).call(r,a),error:a.getError(o),value:a.getValue(o),color:R.default.bubble_color||"green",submited:a._submited}}e.props&&e.props.type&&(i={successCallback:(0,C.default)(t=a.successCallback).call(t,a),errorCallback:(0,C.default)(n=a.errorCallback).call(n,a)});return M.default.cloneElement(e,i)})),r=L.Router.isFormRoute()?"form":"jdiv";return M.default.createElement("jdiv",t.main,M.default.createElement(r,(0,p.default)({ref:function(e){a._formRef=e},autocomplete:"on",onSubmit:function(e){e.preventDefault()}},(0,V.withLocator)(q.Locator.CONTACTS_FORM)),i))}}]),n}(x.default);t.default=$},10803:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=n(26213),o=a(n(45697)),l=a(n(28593)),u=n(53406),s=n(47804),c=a(n(58061)),d=n(56602),f=a(n(1330)),p=n(85442),h=function(e){var t=e.isOnline,n=e.pattern,a=e.color,r=e.color2,o=e.powerGradient,h=e.powerButtonColor,g=e.powerButtonPhone,m=e.avatarUrl,v=e.widgetFontColor,_=e.wixAgentDisplayName,y=e.wixAgentTitle,b=e.offlineWidgetLabel,E=e.offlineFormTitle,C=e.route,T=e.joinedAgents,w=e.joinedBots,S=e.agents,k=e.bots,I=e.showHeaderText,A=e.joint,M=e.callbackAvailable,x=e.contactsAsk,R=e.isIntroduced,O=(0,u.getTexts)(t,_,y,b,E,T,S,w,k),N=O.mainText,D=O.subText;return i.default.createElement(l.default,{avatars:(0,u.getAvatars)(m,T,S,w,k),backButton:!c.default.desktop()&&!(0,d.isChatPage)(),background:(0,u.getBackground)(a,r,o,h,c.default.mobileOrTablet()),callButton:(0,u.getCallButton)(g),clickable:(0,u.getClickable)(C),darkText:(0,u.getDarkText)(v),inCall:(0,u.getInCall)(),isIos:c.default.ios(),isTablet:c.default.tablet()||c.default.desktop()&&(0,d.isChatPage)(),isPointer:c.default.isPointerEnabled(),isChatPage:(0,d.isChatPage)(),leaf:c.default.desktop()&&!(0,d.isChatPage)(),leafBackground:r||a,mainText:N,online:t,pattern:(0,u.getPatternUrl)(n),subText:D,onCallClick:s.onCallClick,onCloseClick:s.onCloseClick,onHeaderClick:s.onHeaderClick,onLeafClick:s.onLeafClick,showHeaderText:I,showMenu:(0,u.getShowMenu)(C,A,M,g),menuComponent:i.default.createElement(f.default,{overlay:(0,u.getShowMenuOverlay)(),hideTitle:(0,u.getHideMenuTitle)()}),menuCorner:(0,u.getShowMenuCorner)(),onMenuChatButtonClick:s.onMenuChatButtonClick,onMenuButtonClick:s.onMenuButtonClick,isIntroduce:(0,u.checkIsIntroduce)(C,x,R),isChatMin:C==p.Route.CHAT_MIN})};h.propTypes={isOnline:o.default.bool,pattern:o.default.number,color:o.default.string,color2:o.default.string,powerButtonColor:o.default.string,powerGradient:o.default.bool,powerButtonPhone:o.default.string,avatarUrl:o.default.string,widgetFontColor:o.default.string,wixAgentDisplayName:o.default.string,wixAgentTitle:o.default.string,offlineWidgetLabel:o.default.string,offlineFormTitle:o.default.string,route:o.default.string,joinedAgents:o.default.arrayOf(o.default.number),joinedBots:o.default.arrayOf(o.default.number),agents:o.default.any,bots:o.default.any,showHeaderText:o.default.bool,joint:o.default.any,callbackAvailable:o.default.bool,contactsAsk:o.default.number,isIntroduced:o.default.bool};var g=(0,r.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0],n=t&&t.joinedAgents?t.joinedAgents:[],a=t&&t.joinedBots?t.joinedBots:[];return{isOnline:e.app.isOnline,pattern:e.settings.user.pattern,color:e.settings.user.widgetColor,color2:e.settings.user.widgetColor2,powerButtonColor:e.settings.user.powerButtonColor,powerGradient:e.settings.user.powerGradient,powerButtonPhone:e.settings.user.powerButtonPhone,avatarUrl:e.settings.system.avatarUrl,widgetFontColor:e.settings.user.widgetFontColor,wixAgentDisplayName:e.settings.user.wixAgentDisplayName,wixAgentTitle:e.settings.user.wixAgentTitle,offlineWidgetLabel:e.settings.user.offlineWidgetLabel,offlineFormTitle:e.settings.user.offlineFormTitle,route:e.app.route,joinedAgents:n,joinedBots:a,agents:e.agents,bots:e.bots,joint:e.settings.features.joint,callbackAvailable:e.callback.available,contactsAsk:e.settings.user.contactsAsk,isIntroduced:e.client.isIntroduced}}),{})(h);t.default=g},28593:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(2991)),o=a(n(5872)),l=a(n(18777)),u=a(n(59748)),s=a(n(8126)),c=a(n(94184)),d=a(n(45697)),f=a(n(53897)),p=a(n(16810)),h=a(n(80740)),g=a(n(58165)),m=n(70645),v=n(83093),_=n(47804),y=a(n(27480)),b=n(44835),E=n(63242),C=function(e){var t,n,a,d,C,T,w=e.avatars,S=void 0===w?[]:w,k=e.backButton,I=void 0!==k&&k,A=e.background,M=void 0===A?"#44BB6E":A,x=e.callButton,R=void 0!==x&&x,O=e.clickable,N=void 0!==O&&O,D=e.darkText,L=void 0===D||D,P=e.inCall,B=void 0!==P&&P,j=e.isIos,F=void 0!==j&&j,H=e.isTablet,U=void 0!==H&&H,W=e.isPointer,z=void 0===W||W,G=e.isChatPage,V=void 0!==G&&G,q=e.leaf,K=void 0===q||q,Y=e.leafBackground,Z=void 0===Y?"#44BB6E":Y,J=e.mainText,X=void 0===J?"":J,$=e.onCallClick,Q=e.onCloseClick,ee=e.onHeaderClick,te=e.onLeafClick,ne=e.online,ae=void 0===ne||ne,ie=e.pattern,re=void 0!==ie&&ie,oe=e.subText,le=void 0===oe?"":oe,ue=e.showHeaderText,se=e.showMenu,ce=e.menuComponent,de=e.menuCorner,fe=e.onMenuChatButtonClick,pe=e.onMenuButtonClick,he=e.isIntroduce,ge=e.isChatMin,me=u.default.useState(!1),ve=(0,l.default)(me,2),_e=ve[0],ye=ve[1],be=(0,b.isAbTop100Enabled)(),Ee=function(){return K?u.default.createElement("jdiv",{className:s.default.callIcon}):u.default.createElement(g.default,{color:L?"#272433":"#fff",iconName:"icon-tube",className:s.default.callIcon})},Ce=function(){ye(!1)},Te=(0,c.default)((t={},(0,i.default)(t,s.default.headerBox,!0),(0,i.default)(t,s.default.hideCorners,!1),(0,i.default)(t,s.default.__mobile,!K),t)),we=(0,c.default)((n={},(0,i.default)(n,s.default.header,!0),(0,i.default)(n,s.default._expanded,N),(0,i.default)(n,s.default._light,!L),(0,i.default)(n,s.default._dark,L),(0,i.default)(n,s.default._mobile,!K),(0,i.default)(n,s.default.__ios,F),(0,i.default)(n,s.default._tablet,U),(0,i.default)(n,s.default._offline,!ae),(0,i.default)(n,s.default.showContent,ue),n)),Se=(0,c.default)((a={},(0,i.default)(a,s.default.headerContainer,!0),(0,i.default)(a,s.default.__chatpage,V),a));return u.default.createElement("jdiv",(0,o.default)({className:Te,style:{background:M}},(0,m.withLocator)(v.Locator.HEADER)),u.default.createElement("jdiv",{className:(0,c.default)((0,i.default)({},s.default.pattern,re)),style:{backgroundImage:re||null}},K?u.default.createElement(f.default,(0,o.default)({onClick:te,orientation:"bottom",backgroundColor:Z,online:ae},(0,m.withLocator)(v.Locator.HEADER_LEAF))):null,u.default.createElement("jdiv",{className:we,onPointerDown:ee,onTouchStart:function(e){z||ee(e)}},u.default.createElement("jdiv",{className:Se},function(){if(he)return null;if(!ae||0===S.length||S.length>3)return null;if(1===S.length){var e=S[0].url||null;return u.default.createElement(p.default,(0,o.default)({dark:L,expanded:N,isMobile:!K,inCall:B,url:e},(0,m.withLocator)(v.Locator.HEADER_AGENT_AVATAR)))}var t=(0,r.default)(S).call(S,(function(e){return e.url}));return u.default.createElement(h.default,(0,o.default)({bgColor:M,urls:t,dark:L,expanded:N,inCall:B,isMobile:!K,isTablet:U},(0,m.withLocator)(v.Locator.HEADER_AGENT_AVATAR)))}(),u.default.createElement("jdiv",(0,o.default)({className:s.default.info},(0,m.withLocator)(v.Locator.HEADER_TEXT)),(T=(0,c.default)((C={},(0,i.default)(C,s.default.agentName,!0),(0,i.default)(C,s.default.__agents,!le),(0,i.default)(C,s.default.__call,R),(0,i.default)(C,s.default.__top100,be),C)),u.default.createElement("jdiv",(0,o.default)({className:T},(0,m.withLocator)(v.Locator.HEADER_AGENT_NAME)),X)),le?u.default.createElement("jdiv",(0,o.default)({className:s.default.title},(0,m.withLocator)(v.Locator.HEADER_AGENT_POSITION)),le):null)),be?u.default.createElement("jdiv",{className:(0,c.default)((d={},(0,i.default)(d,s.default.topIcon,!0),(0,i.default)(d,s.default.__call,R),d))},u.default.createElement(y.default,{onClick:function(){},onLinkClick:function(){(0,b.reportTelemetry)(E.TelemetryName.TOP100_LINK_CLICK)},onIconHover:function(){(0,b.reportTelemetry)(E.TelemetryName.TOP100_HOVER,!0)},isChat:!0,popupBackground:M,color:L?"#272433":"#fff",isCall:R,isMobile:!K,isChatMin:ge})):null,!R||se?null:(0,_.isPowerPhone)()?u.default.createElement("a",(0,o.default)({href:(0,_.getPowerPhone)(),className:s.default.callMe,onPointerDown:$,onTouchStart:function(e){z||$(e)}},(0,m.withLocator)(v.Locator.HEADER_CALLBACK_BUTTON)),Ee()):u.default.createElement("jdiv",(0,o.default)({className:s.default.callMe,onPointerDown:$,onTouchStart:function(e){z||$(e)}},(0,m.withLocator)(v.Locator.HEADER_CALLBACK_BUTTON)),Ee()),K||!I?null:u.default.createElement("jdiv",{className:s.default.closeBox,onPointerDown:Q,onTouchStart:function(e){e.preventDefault(),z||Q(e)}},u.default.createElement(g.default,{color:L?"#272433":"#fff",iconName:"icon-close",className:s.default.mobileBack})),se?u.default.createElement("jdiv",(0,o.default)({className:s.default.menuButtonWrap,onPointerDown:function(){ye(!_e),pe&&pe()},onTouchStart:function(e){e.preventDefault(),z||(ye(!_e),pe&&pe())}},(0,m.withLocator)(v.Locator.HEADER_CALLBACK_BUTTON)),K?u.default.createElement("jdiv",{className:s.default.menuIcon}):u.default.createElement(g.default,{color:L?"#272433":"#fff",iconName:"iconHamburger",className:s.default.menuIcon})):null,_e?u.default.createElement("jdiv",{className:s.default.menuWrap},de?u.default.createElement("jdiv",{className:s.default.corner}):null,u.default.cloneElement(ce,{onCancelClick:Ce,onOverlayClick:Ce,onMenuChatButtonClick:function(){fe&&fe(),Ce()}})):null)))};C.propTypes={avatars:d.default.arrayOf(d.default.any),backButton:d.default.bool,background:d.default.string,callButton:d.default.bool,clickable:d.default.bool,darkText:d.default.bool,inCall:d.default.bool,isIos:d.default.bool,isTablet:d.default.bool,isChatPage:d.default.bool,isPointer:d.default.bool,leaf:d.default.bool,leafBackground:d.default.string,mainText:d.default.string,onCallClick:d.default.func,onCloseClick:d.default.func,onHeaderClick:d.default.func,onLeafClick:d.default.func,online:d.default.bool,pattern:d.default.string,subText:d.default.string,showHeaderText:d.default.bool,showMenu:d.default.bool,menuComponent:d.default.oneOfType([d.default.arrayOf(d.default.node),d.default.node,d.default.func]),menuCorner:d.default.bool,onMenuChatButtonClick:d.default.func,onMenuButtonClick:d.default.func,isIntroduce:d.default.bool,isChatMin:d.default.bool};var T=u.default.memo(C);t.default=T},47804:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.onMenuButtonClick=t.onMenuChatButtonClick=t.onLeafClick=t.onHeaderClick=t.onCloseClick=t.onCallClick=t.getPowerPhone=t.isPowerPhone=void 0;var i=n(17674),r=n(85442),o=n(81189),l=n(53172),u=n(33367),s=n(63242),c=n(56602),d=a(n(47321)),f=a(n(58061)),p=a(n(75043)),h=n(42796),g=(n(75245),a(n(40695))),m=n(44835),v=p.default.name("HeaderContainer"),_=function(){return!(0,l.getCallback)().available&&(0,l.getUserSettings)().powerButtonPhone&&(f.default.mobileOrTablet()||(0,c.isChatPage)())};t.isPowerPhone=_;t.getPowerPhone=function(){return"tel:".concat((0,l.getUserSettings)().powerButtonPhone)};t.onCallClick=function(e){v.log("onCallClick",e);var t=i.Router.getCurrentRoute();_()?g.default.trackMobileCallClick():i.Router.getCurrentRoute()===r.Route.CHAT_CALL?i.Router.next(r.RouterEvent.ToChat):i.Router.next(r.RouterEvent.ToCall),t===r.Route.CHAT_MIN&&o.transitionDispatchers.startTransition(h.ScriptName.MAXIMIZE_WIDGET)};t.onCloseClick=function(e){e.preventDefault(),e.stopPropagation(),d.default.closeWidget(),i.Router.next(r.RouterEvent.CloseWindow),u.Monitoring.telemetry(s.TelemetryName.MOBILE_CHAT_CLOSE)};t.onHeaderClick=function(e){var t=i.Router.getCurrentRoute();(0,m.isAbTop100Enabled)()||((0,l.getApp)().isOnline||t!==r.Route.CHAT_CALL)&&i.Router.isMinRoute()&&t!==r.Route.CHAT?(o.appDispatchers.setAppIsFocused(1),i.Router.next(r.RouterEvent.Navigate),t===r.Route.CHAT_MIN&&o.transitionDispatchers.startTransition(h.ScriptName.MAXIMIZE_WIDGET)):(v.log("Ignore header click"),i.Router.next(r.RouterEvent.ToDebug))};t.onLeafClick=function(){i.Router.next(r.RouterEvent.ToDebug)};t.onMenuChatButtonClick=function(){o.appDispatchers.setAppIsFocused(1),i.Router.next(r.RouterEvent.ToChat),u.Monitoring.telemetry(s.TelemetryName.POWERBUTTON_OPEN_CHAT)};t.onMenuButtonClick=function(){i.Router.getCurrentRoute()===r.Route.CHAT_EVAL&&i.Router.next(r.RouterEvent.ToChat)}},53406:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.checkIsIntroduce=t.getHideMenuTitle=t.getShowMenuOverlay=t.getShowMenuCorner=t.getShowMenu=t.getClickable=t.getTexts=t.getInCall=t.getDarkText=t.getCallButton=t.getAvatars=t.getPatternUrl=t.getBackground=void 0;var i=a(n(81643)),r=a(n(77766)),o=(a(n(94473)),a(n(78580))),l=a(n(78914)),u=a(n(2991)),s=n(56602),c=a(n(86999)),d=n(37916),f=a(n(58061)),p=n(17674),h=n(85442),g=a(n(75119)),m=a(n(10505)),v=n(94515),_=n(58165);a(n(75043)).default.name("HeaderHelpers");t.getBackground=function(e,t,n,a,i){var r=c.default.getGradientBg(e,t);return i&&(r=y(n,a,r)),r};var y=function(e,t,n){return e?n:t||"#44BB6E"};t.getPatternUrl=function(e){return e?"url(".concat((0,s.staticUrl)((v.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+e+".svg",!0),")"):null};t.getAvatars=function(e,t,n,a,i){var r=b(t,n),o=b(a,i,!0);return r.length||o.length?r.length?(0,u.default)(r).call(r,(function(t){return{url:t.avatarUrl?E(e,t.avatarUrl):null}})):(0,u.default)(o).call(o,(function(t){return{url:t.avatarUrl?E(e,t.avatarUrl):(0,_.getSvgBgIcon)("iconBot")}})):[]};var b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length>t.length)return[];var a=[];return(0,l.default)(t).call(t,(function(t){(0,o.default)(e).call(e,t.id)&&t.isBot===n&&a.push(t)})),a},E=function(e,t){var n,a;return(0,r.default)(n=(0,r.default)(a="".concat((0,s.getProtocol)())).call(a,e,"/avatars/")).call(n,t)};t.getCallButton=function(e){var t,n=-1!==(0,i.default)(t=[h.Route.DEPARTMENTS,h.Route.CHAT_EULA,h.Route.INTRODUCE]).call(t,p.Router.getCurrentRoute()),a=f.default.mobileOrTablet()&&e;return(d.CallbackUtils.isCallbackEnabled()||a)&&!d.CallbackUtils.isCallActive()&&!n};t.getDarkText=function(e){return"dark"===e};t.getInCall=function(){return d.CallbackUtils.isCallActive()};t.getTexts=function(e,t,n,a,i,r,o,u,c){if(!e)return{mainText:i||a,subText:""};var f=p.Router.getCurrentRoute();if(f===h.Route.DEPARTMENTS)return{mainText:(0,g.default)("lblSelectDep"),subText:""};if(f===h.Route.INTRODUCE&&!d.CallbackUtils.isCallActive()||f===h.Route.CHAT_EULA&&p.Router.getPrevRoute()===h.Route.INTRODUCE)return{mainText:(0,g.default)("lblIntroduceRequestBefore"),subText:""};if((0,s.isWixEditor)()&&(t||n))return{mainText:t||(0,g.default)("lblConnectedToAgent"),subText:n||(0,g.default)("lblOperatorsOnline")};var m=b(r,o,!1),v=b(u,c,!0);if(1===m.length)return{mainText:m[0].name,subText:m[0].title};if(m.length>3)return{mainText:C(),subText:""};if(m.length>1){var _=[];return(0,l.default)(m).call(m,(function(e){_.push(e.name.replace(/ /g," "))})),{mainText:_.join(", "),subText:""}}return v.length?{mainText:v[0].name,subText:v[0].title}:{mainText:(0,g.default)("lblConnectedToAgent"),subText:(0,g.default)("lblOperatorsOnline")}};var C=function(){var e=(0,s.getPageWindow)().location.hostname.replace("www.","");if(""===e)return(0,g.default)("lblOperatorsOnline");try{return m.default.toUnicode(e)}catch(t){return e}};t.getClickable=function(e){return e===h.Route.CHAT_MIN};t.getShowMenu=function(e,t,n,a){var i=t||n||a;return!(!(0,s.isChatPage)()||e===h.Route.CHAT_CALL||!i)};t.getShowMenuCorner=function(){return(0,s.isChatPage)()&&(f.default.tablet()||f.default.desktop())};t.getShowMenuOverlay=function(){return(0,s.isChatPage)()&&f.default.mobile()};t.getHideMenuTitle=function(){return(0,s.isChatPage)()&&(f.default.tablet()||f.default.desktop())};t.checkIsIntroduce=function(e,t,n){return e==h.Route.INTRODUCE||e==h.Route.CHAT_EULA&&1==t&&!n}},46223:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),r=a(n(59748)),o=a(n(45697)),l=a(n(58165)),u=n(70645),s=n(83093),c=(a(n(75043)).default.name("SendIcon"),function(e){var t=e.isMobile,n=e.disabled,a=e.onClick,o=e.hasError,c=e.theme,d=e.styles;e.isPointer;return t&&(c.color=o?"#f1f0f0":c.color),r.default.createElement("jdiv",{onPointerDown:n?null:a,onTouchStart:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),n||a(e)}},r.default.createElement(l.default,(0,i.default)({iconName:t?"mobile-send-button":"send-button",color:c.color,color2:t&&o?"#dedede":"#ffffff",hoverColor:c.hoverColor,className:d.sendButton},(0,u.withLocator)(s.Locator.INPUT_SUBMIT))))});c.propTypes={isMobile:o.default.bool,disabled:o.default.bool,onClick:o.default.func,hasError:o.default.bool,theme:o.default.shape({color:o.default.string,hoverColor:o.default.string}),styles:o.default.shape({sendButton:o.default.string}),isPointer:o.default.bool};var d=r.default.memo(c);t.default=d},78534:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=void 0;var p=i(n(81643)),h=i(n(33032)),g=i(n(25843)),m=i(n(87672)),v=i(n(18777)),_=a(n(59748)),y=i(n(62107)),b=n(26213),E=i(n(45697)),C=n(17674),T=n(85442),w=i(n(12907)),S=i(n(55471)),k=i(n(75591)),I=i(n(58061)),A=i(n(45808)),M=n(21224),x=i(n(94184)),R=i(n(53401)),O=n(43472),N=n(56602),D=n(99112),L=n(24335),P=i(n(73113)),B=i(n(11234)),j=i(n(22905)),F=i(n(46223)),H=n(81189),U=i(n(47321)),W=n(33367),z=n(63242),G=n(70669);function V(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=V(Object(a),!0)).call(n,(function(t){(0,m.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=V(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}var K=i(n(75043)).default.name("InputContainer"),Y=function(e){e.isContactFormFocused;var t,n=e.appStore,a=e.contactsAsk,i=e.disableEmoji,r=e.onInputChangeHeight,o=e.isInputDisabled,l=e.isIntroduced,u=e.disableFiletransfer,s=e.inputText,c=e.agentTyping,d=e.isBotBlocked,f=e.lastMessage,b=(0,_.useRef)(null),E=(0,_.useState)({hasError:!1,text:s||f||"",disabled:!!((0,G.getDisabled)()||o||d)}),V=(0,v.default)(E,2),Y=V[0],Z=V[1],J=(0,_.useState)((0,G.getColorTheme)(Y.disabled)),X=(0,v.default)(J,2),$=(X[0],X[1]),Q=(0,_.useState)(0),ee=(0,v.default)(Q,2),te=ee[0],ne=ee[1],ae=(0,_.useState)(0),ie=(0,v.default)(ae,2),re=ie[0],oe=ie[1],le=(0,_.useState)(0),ue=(0,v.default)(le,2),se=ue[0],ce=ue[1],de=A.default.get(M.Component.AUTORESIZER),fe=(0,G.getIsMobile)();re||oe({run:y.default.throttle((function(e){(0,G.startTyping)(e)}),1e3)}),(0,_.useEffect)((function(){(0,G.checkOfflineForm)(),$((0,G.getColorTheme)(Y.disabled)),(0,L.designerBind)("setBubbleColor",(function(){$((0,G.getColorTheme)(Y.disabled))}));var e=A.default.get(M.Component.INPUT);K.log("init",e),A.default.set(M.Component.AUTORESIZER,new P.default(e,{maxSize:90,minSize:fe?16:60,onResize:function(){!function(){var e=b.current.base;if(e){var t=e.parentNode.offsetHeight;se!==t&&(r&&r(t),ce(t))}}()}})),me(Y.disabled),!fe&&C.Router.isChatInputRoute(n.route)&&e&&!(0,G.isActiveElementFocused)()&&e.focus()}),[]);var pe=function(e){Z((function(t){return q(q({},t),{},{text:e})}))},he=function(e,t){e&&(e.preventDefault(),e.stopPropagation());var i=t||Y.text;K.log("inputSendMessage",i);var r=!!i&&(0,G.replaceEmojiValue)((0,G.getText)(i));if(r){if(H.clientDispatchers.setLastMessage(r),pe(""),1===a&&!l&&O.reduxStore.getState().messages.length&&n.isOnline)return H.appDispatchers.setAppIsFocused(1),C.Router.next(T.RouterEvent.ToIntroduce),pe(""),void H.clientDispatchers.setInputText("");if(!(0,g.default)(r).call(r))return Z((function(e){return q(q({},e),{},{hasError:!0})})),!1;pe(""),H.clientDispatchers.setInputText(""),(0,G.onInputSubmit)(r),(0,h.default)((function(){de&&de.check();var e=A.default.get(M.Component.INPUT);e&&e.focus()}),50),fe&&document.activeElement===b&&e&&e.preventDefault()}},ge=function(e){Y.disabled!==e&&(Z((function(t){return q(q({},t),{},{text:e?"":s,disabled:!!e})})),$((0,G.getColorTheme)(!!e)),me(e))},me=function(e){(0,G.setPlaceholder)((0,G.getPlaceholder)(e,d))},ve=function(e){return e.replace(/[\u202E]/gi,"")},_e=O.reduxStore.getState().settings.features,ye=(0,x.default)((t={},(0,m.default)(t,R.default.input,!0),(0,m.default)(t,R.default.__mobile,fe),(0,m.default)(t,R.default.inputPhone,I.default.windowsPhone()),t)),be=function(){return(0,G.getDisabled)()||o||d?(ge(!0),!0):(ge(!1),!1)},Ee=u||(0,G.isFileUploadDisabled)();return _.default.createElement(_.default.Fragment,null,_.default.createElement("jdiv",{className:ye,style:{display:"block"},ref:function(e){e&&A.default.set(M.Component.CHAT_INPUT,e)}},_.default.createElement(k.default,{text:Y.text,disabled:be(),onInput:function(e){e.stopPropagation();var t=ve(e.target.value);if(""===t)return e.target.value="",""!==Y.text&&Z((function(e){return q(q({},e),{},{text:"",hasError:!0})})),H.clientDispatchers.setInputText(t),void U.default.typingInsight("");Z((function(e){return q(q({},e),{},{text:t,hasError:!1})})),$((0,G.getColorTheme)(!!Y.disabled)),H.clientDispatchers.setInputText(t),(0,h.default)((function(){de&&de.check()}),150),re.run(t),clearTimeout(te),ne((0,h.default)(G.stopTyping,5e3))},onKeyPress:function(e){!function(e,t){var n,a=ve(e.target.value);K.log("onKeyPress",a,t),e.stopPropagation(),Y.text&&(a=Y.text);var i=e.keyCode;if(!fe&&""!==a&&(e.ctrlKey||e.metaKey||e.shiftKey)&&-1!==(0,p.default)(n=[10,13]).call(n,i)){if(!e.shiftKey&&!I.default.edge()){var r=(0,D.addNewLine)(e.target,a);r&&(Z((function(e){return q(q({},e),{},{text:r})})),H.clientDispatchers.setInputText(r))}return!1}13===i?(e.preventDefault(),he(e,a)):8===i&&""===a&&(Z((function(e){return q(q({},e),{},{text:""})})),H.clientDispatchers.setInputText(""))}(e,Y.text)},onFocus:G.onFocus,onPaste:function(e){fe&&Z((function(e){return q(q({},e),{},{hasError:!1})})),(0,G.onPaste)(e)},disableFileUpload:Ee,ref:b}),fe&&(0,N.showAd)()?_.default.createElement(w.default,{type:"chat"}):null,fe&&1==_e.typingInsight?_.default.createElement(S.default,{show:c,isMobile:fe}):null,_.default.createElement(F.default,{isMobile:fe,disabled:be(),onClick:he,hasError:Y.hasError,theme:(0,G.getColorTheme)(Y.disabled),styles:R.default,isPointer:I.default.isPointerEnabled()})),_.default.createElement(B.default,{disabled:be(),disableFileUpload:Ee,insertEmoji:function(e){if(n.isOnline||!Y.disabled){var t=e.target.getAttribute("jv-emoji");if(null!==t){var a=":"+t+":";if(Y.text&&0===Y.text.length)he(null,a),re.run(a);else{var i=Y.text+a;Z((function(e){return q(q({},e),{},{text:i})})),re.run(i),H.clientDispatchers.setInputText(i)}W.Monitoring.telemetry(z.TelemetryName.EMOJI_INSERT_SMILE),(0,h.default)((function(){(0,G.afterEmojiInserted)(de),H.appDispatchers.setAppIsFocused(1)}),150)}}},isPopupMenuVisible:!(!I.default.desktop()||(0,N.isChatPage)()||!O.reduxStore.getState().messages.length),isOnline:n.isOnline,disableEmoji:fe||i}),(0,G.isSocialButtonEnabled)()?_.default.createElement(j.default,null):null)};Y.propTypes={appStore:E.default.shape({isOnline:E.default.bool.isRequired,route:E.default.string.isRequired,isFocused:E.default.number.isRequired}).isRequired,contactsAsk:E.default.number,isContactFormFocused:E.default.bool,onInputChangeHeight:E.default.func,isInputDisabled:E.default.bool,disableEmoji:E.default.bool,isIntroduced:E.default.bool,disableFiletransfer:E.default.bool,inputText:E.default.string,agentTyping:E.default.number,isBotBlocked:E.default.bool,lastMessage:E.default.string};var Z=(0,b.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0];return{appStore:e.app,contactsAsk:e.settings.user.contactsAsk,disableEmoji:e.settings.features.disableEmoji,isContactFormFocused:e.app.isContactFormFocused,isInputDisabled:e.app.isInputDisabled,isIntroduced:e.client.isIntroduced,disableFiletransfer:!!e.settings.features.disableFiletransfer,inputText:e.client.inputText,agentTyping:t?t.agentTyping:0,isBotBlocked:(0,G.isBotMessageBlocked)(e.messages),lastMessage:e.client.isIntroduced||e.app.isOnline?null:e.client.lastMessage}}),{})(Y);t.default=Z},75591:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),r=a(n(87672)),o=a(n(59748)),l=a(n(53401)),u=a(n(94184)),s=a(n(45697)),c=n(70645),d=n(83093),f=a(n(45808)),p=n(21224),h=function(e){var t,n=e.text,a=e.disabled,s=e.onInput,h=e.onFocus,g=e.onPaste,m=e.onKeyPress,v=e.disableFileUpload,_=(0,u.default)((t={},(0,r.default)(t,l.default.tdTextarea,!0),(0,r.default)(t,l.default.__filedisabled,v),t));return o.default.createElement("jdiv",{className:_},o.default.createElement("textarea",(0,i.default)({maxLength:"1000",className:(0,u.default)((0,r.default)({},l.default.inputField,!0)),key:"inputField",onInput:s,onKeyPress:m,onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},onFocus:h,onPaste:g,value:a?"":n,disabled:a,autoComplete:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){e&&f.default.set(p.Component.INPUT,e)}},(0,c.withLocator)(d.Locator.INPUT))))};h.propTypes={text:s.default.string,disabled:s.default.bool,onInput:s.default.func.isRequired,onFocus:s.default.func.isRequired,onPaste:s.default.func.isRequired,onKeyPress:s.default.func.isRequired,disableFileUpload:s.default.bool};var g=o.default.memo(h);t.default=g},75779:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=n(26213),o=a(n(45697)),l=a(n(78534)),u=(a(n(75043)).default.name("InputWrap"),function(e){var t=e.onInputChangeHeight;return i.default.createElement(l.default,{onInputChangeHeight:t})});u.propTypes={onInputChangeHeight:o.default.func};var s=(0,r.connect)((function(e){return{}}),{})(u);t.default=s},70669:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getColorTheme=function(e){var t=l.default.bubble_color||"green";e&&(t="disabled");switch(t){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:"#0b82f7",hoverColor:"#086bcd"};case"grey":return{color:"#445669",hoverColor:"#303f4e"};case"green":default:return{color:"#18c139",hoverColor:"#12a730"}}},t.getPlaceholder=function(e,t){var n="";if(e){if(n=(0,u.default)("offlineBlockedInputPlaceholder"),l.default.maintenance&&(n=(0,u.default)("maintenanceBlockedPlaceholder")),t&&(n=(0,u.default)("botListPickerBlock")),S.default.getInstance().managers.feature.isEnabled(T.Feature.RECAPTCHA)){var a=S.default.getInstance().managers.recaptcha;a&&a.isBlocked()&&(n=(0,u.default)("maintenanceBlockedPlaceholder"))}}else n=s.default.mobileOrTablet()?(0,u.default)("lblMessageHere"):(0,u.default)("lblEnterMessageHere");return n},t.getDisabled=function(){if(l.default.maintenance)return!0;return(0,c.isOfflineCanSend)()},t.getText=M,t.replaceEmoji=x,t.startTyping=function(e){if(e){var t=M(e);A.log("startTyping",t),f.default.clientTyping(t),f.default.typingInsight(t)}},t.stopTyping=function(){A.log("stopTyping"),f.default.clientTyping(!1)},t.setCursorEnd=R,t.replaceEmojiValue=function(e){return e.replace(d.default.getRegExp()," $& ")},t.isFileUploadDisabled=function(){return!((!l.default.bots||p.default.agent_id)&&m.default.isFileUploadEnabled())},t.onInputSubmit=function(e){h.messageActions.sendClientMessage(e),f.default.typingInsight(""),f.default.clientTyping(!1),g.default.play("outgoing_message")},t.setPlaceholder=function(e){if(e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),v.Router.getCurrentRoute()!==_.Route.LABEL){var t=y.default.get(b.Component.INPUT);t&&t.setAttribute("placeholder",e);var n=y.default.get(b.Component.AUTORESIZER);n&&n.check()}},t.onFocus=function(){A.log("onFocus");var e=y.default.getComponent(b.Component.SCROLL_CONTAINER);e&&e.setIgnore(!1);s.default.ipad()&&s.default.osVersion()&&11.2==s.default.osVersion()&&!s.default.chromeIOS()&&"portrait"===E.default.getOrientation()&&!E.default.isSiteOptimizedForMobile&&(0,o.default)((function(){var e,t=(0,C.getPageWindow)(),n=t.document,a=n.scrollingElement.scrollTop,i=n.getElementById("jivo-iframe-container");a>0&&(n.scrollingElement.scrollTop=a,i.setAttribute("style",(0,r.default)(e="".concat(i.style.cssText," top: ")).call(e,-1*a,"px !important")));(0,C.removeEvent)(t.document,"visibilitychange",O),(0,C.addListener)(t.document,"visibilitychange",O)}),500)},t.onPaste=function(e){if(m.default.isFileUploadEnabled()&&!v.Router.needToShowIntroduceForm()){var t=e.clipboardData;if(t&&t.files&&t.files.length){e.preventDefault();var n=t.files[0];(0,k.getFeatures)().enableMediaSevice?(0,I.startUploadMedia)(n):m.default.getFileInfo(t.files[0])}}},t.ipadVisibilityChange=O,t.afterEmojiInserted=function(e){e&&e.check();var t=y.default.get(b.Component.INPUT);t&&(t.focus(),R(t,t.value))},t.isSocialButtonEnabled=function(){return l.default.joint&&!s.default.mobileOrTablet()&&!f.default.isChatContactForm()&&!(0,C.isChatPage)()},t.checkOfflineForm=function(){h.messageActions.handleContactsForm()},t.isBotMessageBlocked=t.isActiveElementFocused=t.getIsMobile=void 0;var i=a(n(94473)),r=a(n(77766)),o=a(n(33032)),l=a(n(62904)),u=a(n(75119)),s=a(n(58061)),c=n(63465),d=a(n(77244)),f=a(n(47321)),p=a(n(69961)),h=n(75245),g=a(n(44992)),m=a(n(34777)),v=n(17674),_=n(85442),y=a(n(45808)),b=n(21224),E=a(n(68806)),C=n(56602),T=n(37846),w=n(99112),S=(a(n(99357)),a(n(81574))),k=n(53172),I=n(47290),A=a(n(75043)).default.name("InputHelpers");function M(e){return l.default.disable_emoji?e:x(e)}function x(e){return e.replace(/:\w+:/g,(function(e){var t=e.replace(/:/g,"");return d.default.getEmojiList()[t]?d.default.fromCodePoint(d.default.getEmojiList()[t]):e}))}function R(e,t){e.setSelectionRange&&e.setSelectionRange(t.length+2,t.length+2)}function O(){"visible"===document.visibilityState&&(0,C.hasClass)((0,C.getPageWindow)().document.documentElement,"jivo-mobile-overlay")&&((0,o.default)((function(){var e=y.default.get(b.Component.INPUT);e&&e.blur()}),500),(0,C.removeEvent)((0,C.getPageWindow)().document,"visibilitychange",O))}t.getIsMobile=function(){return s.default.mobileOrTablet()||(0,C.isChatPage)()};t.isActiveElementFocused=function(){var e=(0,C.getPageWindow)().document.activeElement;return!!e&&(0,w.isInput)(e)};t.isBotMessageBlocked=function(e){var t;return!!(0,i.default)(t=e||[]).call(t,(function(e){return"keyboard"==e.type&&e.body&&1==e.body.force_reply}))}},75020:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(58165)),l=a(n(78162)),u=a(n(45697)),s=a(n(40731)),c=a(n(7636)),d=a(n(94184)),f=function(e){var t,n=e.opened,a=void 0!==n&&n,u=e.disabled,f=void 0!==u&&u,p=e.width,h=void 0===p?227:p,g=e.height,m=void 0===g?182:g,v=e.offsetRight,_=void 0===v?15:v,y=e.onClick,b=e.onItemClick;return r.default.createElement("jdiv",{className:l.default.emojiWrap,onClick:f?null:y},r.default.createElement(o.default,{iconName:"icon-emoji",color:f?"#c9cdd3":"#a3aab5",className:(0,d.default)((t={},(0,i.default)(t,l.default.iconEmoji,!0),(0,i.default)(t,l.default.__disabled,f),t))}),r.default.createElement(c.default,{show:a,onClick:b,width:h,height:m,offsetRight:_},r.default.createElement(s.default,null)))};f.propTypes={opened:u.default.bool.isRequired,onClick:u.default.func.isRequired,onItemClick:u.default.func.isRequired,width:u.default.number,height:u.default.number,offsetRight:u.default.number,disabled:u.default.bool};var p=r.default.memo(f);t.default=p},11234:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var p=i(n(87672)),h=i(n(18777)),g=a(n(59748)),m=i(n(45697)),v=i(n(94184)),_=i(n(58061)),y=n(56602),b=i(n(32832)),E=n(33367),C=n(63242),T=i(n(75020)),w=i(n(44345)),S=i(n(9805)),k=i(n(76645));function I(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=I(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=I(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}var M=i(n(75043)).default.name("InputIconsPure"),x=function(e){var t,n=e.disabled,a=void 0!==n&&n,i=e.disableFileUpload,r=void 0!==i&&i,o=e.insertEmoji,l=e.isPopupMenuVisible,u=e.isOnline,s=e.disableEmoji,c=(0,g.useState)({emojiListOpened:!1,menuOpened:!1,link:{fileName:"",url:""}}),d=(0,h.default)(c,2),f=d[0],m=d[1];M.log(f);var I=function e(){M.log("closeMenu"),(0,y.removeEvent)((0,y.getPageWindow)(),"click",e),m((function(e){return A(A({},e),{},{menuOpened:!1})}))},x=function(e){M.log("menuClick"),e.stopPropagation(),a||(f.menuOpened||(0,y.addListener)((0,y.getPageWindow)(),"click",I),m((function(e){return A(A({},e),{},{menuOpened:!e.menuOpened,emojiListOpened:!1,link:S.default.getInstance().getMessagesAsHTML()})})),E.Monitoring.telemetryOnce(C.TelemetryName.MORE_CLICK))},R=function e(){M.log("closeEmojiList"),(0,y.removeEvent)((0,y.getPageWindow)(),"click",e),m((function(e){return A(A({},e),{},{emojiListOpened:!1})}))},O=function(e){M.log("toggleEmojiList"),e.stopPropagation(),!u&&a||(f.emojiListOpened||(0,y.addListener)((0,y.getPageWindow)(),"click",R),m((function(e){return A(A({},e),{},{emojiListOpened:!e.emojiListOpened,menuOpened:!1})})),f.emojiListOpened&&E.Monitoring.telemetryOnce(C.TelemetryName.EMOJI_OPEN_SMILE_LIST))},N=(0,v.default)((t={},(0,p.default)(t,k.default.iconPanel,!0),(0,p.default)(t,k.default.__mobile,_.default.mobileOrTablet()||(0,y.isChatPage)()),t));return g.default.createElement("jdiv",{className:N},function(){if(l)return g.default.createElement(w.default,{show:f.menuOpened,disabled:a,link:f.link,onClick:x,onItemClick:function(){E.Monitoring.telemetryOnce(C.TelemetryName.DOWNLOAD_CHAT_LOG_CLICK)}})}(),function(){if(!r)return g.default.createElement(b.default,{disabled:a})}(),function(){if(!s)return g.default.createElement(T.default,{disabled:a,opened:f.emojiListOpened,onClick:O,onItemClick:o,offsetRight:(e=!r,l&&!e?15:l&&e?45:l||e?15:0)});var e}())},R=x.propTypes={disabled:m.default.bool.isRequired,disableFileUpload:m.default.bool.isRequired,insertEmoji:m.default.func.isRequired,isOnline:m.default.bool,isPopupMenuVisible:m.default.bool,disableEmoji:m.default.bool};t.componentProps=R;var O=g.default.memo(x);t.default=O},7636:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(53597)),l=a(n(94184)),u=a(n(45697)),s=function(e){var t,n=e.show,a=void 0===n||n,u=e.width,s=void 0===u?100:u,c=e.height,d=void 0===c?100:c,f=e.offsetRight,p=void 0===f?0:f,h=e.children,g=e.onClick;return r.default.createElement("jdiv",{className:(0,l.default)((t={},(0,i.default)(t,o.default.popup,!0),(0,i.default)(t,o.default.show,!!a),t)),style:{width:"".concat(s,"px"),height:"".concat(d,"px"),right:"".concat(p,"px"),top:"-".concat(38+d,"px")},onClick:g},r.default.createElement("jdiv",{className:o.default.childrenWrap},h),r.default.createElement("jdiv",{className:o.default.pip,style:{left:"".concat(2+p,"px")}}))};s.propTypes={show:u.default.bool.isRequired,width:u.default.number.isRequired,onClick:u.default.func.isRequired,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]).isRequired,height:u.default.number,offsetRight:u.default.number};var c=r.default.memo(s);t.default=c},44345:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(48305)),l=a(n(58165)),u=a(n(45697)),s=a(n(94184)),c=a(n(75119)),d=function(e){var t,n,a=e.disabled,u=e.onClick,d=e.onItemClick,f=e.link,p=e.show;return r.default.createElement("jdiv",{className:o.default.menuWrap},r.default.createElement("jdiv",{onClick:u},r.default.createElement(l.default,{iconName:"icon-more",color:a?"#c9cdd3":"#a3aab5",hoverColor:a?null:"#a3aab5",disabled:a,className:(0,s.default)((t={},(0,i.default)(t,o.default.iconMenu,!0),(0,i.default)(t,o.default.__disabled,a),t))})),r.default.createElement("jdiv",{className:(0,s.default)((n={},(0,i.default)(n,o.default.menu,!0),(0,i.default)(n,o.default.show,!!p),n))},r.default.createElement("jdiv",{className:o.default.menuItem,onClick:d},r.default.createElement("a",{download:f.fileName,href:f.url,target:"_blank",rel:"nofollow noopener noreferrer"},(0,c.default)("downloadChatText"))),r.default.createElement("jdiv",{className:o.default.pip})))};d.propTypes={show:u.default.bool.isRequired,onClick:u.default.func.isRequired,onItemClick:u.default.func.isRequired,link:u.default.shape({fileName:u.default.string.isRequired,url:u.default.string.isRequired}).isRequired,disabled:u.default.bool};var f=r.default.memo(d);t.default=f},97280:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(87672)),s=a(n(2991)),c=a(n(33032)),d=a(n(26394)),f=a(n(69198)),p=a(n(51379)),h=a(n(214)),g=a(n(66380)),m=a(n(59748)),v=a(n(60021)),_=a(n(62107)),y=a(n(47321)),b=a(n(62904)),E=a(n(36216)),C=a(n(58061)),T=a(n(58165)),w=a(n(20748)),S=a(n(75043)),k=a(n(22259));function I(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var A=b.default.departments,M=S.default.name("DepartmensSelect"),x=function(e){(0,p.default)(n,e);var t=I(n);function n(e){var a;if((0,d.default)(this,n),(a=t.call(this,e)).state={showList:!1,department_name:A&&A.length?A[0].name:""},E.default.department_id){var i=a.findDepartmentById(E.default.department_id);i&&(a.state.department_name=i.name)}return a._focused=!1,a}return(0,f.default)(n,[{key:"componentDidMount",value:function(){M.log("mounted")}},{key:"toggleDepartments",value:function(e){e.preventDefault(),this.setState({showList:!this.state.showList})}},{key:"findDepartmentById",value:function(e){return _.default.findWhere(A,{id:e})}},{key:"onDepartmentSelect",value:function(e,t){this.setState({showList:!1,department_name:t}),y.default.setDepartmentId(e)}},{key:"onBlurPopup",value:function(){var e=this;(0,c.default)((function(){e._focused||e.setState({showList:!1})}),1300),this._focused=!1}},{key:"onEnterPopup",value:function(){M.log("onEnterPopup"),this._focused=!0}},{key:"getItems",value:function(){var e=this;return(0,s.default)(_.default).call(_.default,A,(function(t){var n=t.id===E.default.department_id?k.default.itemSelected:k.default.item;return m.default.createElement("jdiv",{className:n,onClick:function(){return e.onDepartmentSelect(t.id,t.name)}},t.name)}))}},{key:"renderList",value:function(){return A.length>3?m.default.createElement(w.default,{railClass:k.default.rail,hideTracksWhenNotNeeded:!1},this.getItems()):this.getItems()}},{key:"getRenderData",value:function(){var e;return{styles:{currentItem:[(e={currentItem:!0,_open:this.state.showList},(0,u.default)(e,"_"+b.default.bubble_color||0,!0),(0,u.default)(e,"__mobile",C.default.mobileOrTablet()),e)],selectPopup:[{selectPopup:!0,__ios:C.default.ios(),__scroll:A.length>3},{display:this.state.showList?"block":"none"}]},style:k.default}}},{key:"renderData",value:function(e,t){var n,a,i;return m.default.createElement("jdiv",{className:k.default.fieldWrap},m.default.createElement("jdiv",{className:k.default.select,onMouseLeave:(0,l.default)(n=this.onBlurPopup).call(n,this),onMouseEnter:(0,l.default)(a=this.onEnterPopup).call(a,this)},m.default.createElement("jdiv",(0,o.default)({},t.currentItem,{onClick:(0,l.default)(i=this.toggleDepartments).call(i,this)}),this.state.department_name,m.default.createElement(T.default,{iconName:"icon-v",color:"#8B9096",hoverColor:"#222D38",className:k.default.iconSelect})),m.default.createElement("jdiv",t.selectPopup,this.renderList())))}}]),n}(v.default);t.default=x},66107:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(33032)),u=a(n(54103)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(62107)),v=a(n(75119)),_=a(n(62904)),y=n(56602),b=a(n(62652)),E=a(n(36216)),C=a(n(58061)),T=a(n(47396)),w=a(n(44068)),S=a(n(96884)),k=a(n(60801)),I=a(n(97280)),A=a(n(58165)),M=a(n(12907)),x=(n(53172),n(81189)),R=a(n(47321)),O=a(n(75043)),N=a(n(30890)),D=n(17674),L=n(85442),P=n(21224),B=a(n(45808)),j=n(10872);function F(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var H=O.default.name("Introduce"),U=_.default.departments,W=U&&U.length>0,z=function(e){(0,d.default)(n,e);var t=F(n);function n(e){var a;(0,s.default)(this,n),(a=t.call(this,e)).state={show:!0,anon:!0};var i=0;return _.default.contacts_settings&&m.default.each(_.default.contacts_settings,(function(e){e.show&&i++})),i>=2&&(a.state.anon=!1),a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e;(H.log("mounted"),_.default.eula&&!b.default.eula_accepted)&&D.Router.on("submit_eula_success",(0,u.default)(e=this.processEula).call(e,this))}},{key:"componentDidUnmount",value:function(){H.log("unmount",this.formData)}},{key:"processEula",value:function(e){if(H.log("Introduce submit_eula_success",e),D.Router.off("submit_eula_success"),e===L.Route.INTRODUCE){var t=this.formData||!!this.fc&&this.fc._form;this.sendFormData(t)}}},{key:"sendFormData",value:function(e){if(H.warn("sendFormData",e),!e)return H.log("Not found formData");if(x.clientDispatchers.setIsIntroduced(!0),1===_.default.contacts_ask){var t=this.getIntroduceData(e);e.message&&e.message.value&&(t.message=e.message.value),x.clientDispatchers.setLastMessage(null),R.default.setClientContactInfo(t,!1,!0)}}},{key:"getIntroduceData",value:function(e){var t={};return m.default.each(e,(function(e){t[e.name]=e.value})),t}},{key:"successCallback",value:function(e){H.warn("successCallbackIntroduce",e),W&&!E.default.department_id&&R.default.setDepartmentId(_.default.departments[0].id),this.formData=e,_.default.eula&&!b.default.eula_accepted||this.sendFormData(this.formData),D.Router.next(L.RouterEvent.Submit),C.default.safari()&&!C.default.mobileOrTablet()&&(0,l.default)((function(){var e=B.default.get(P.Component.WIDGET_CONTAINER);(0,j.updateKeyframes)(e)}),0)}},{key:"errorCallback",value:function(e){H.log("errorCallbackintroduce",e)}},{key:"renderAnon",value:function(){if(this.state.anon&&!C.default.mobileOrTablet())return h.default.createElement("jdiv",{className:N.default.avatarBox},h.default.createElement(A.default,{iconName:"icon-anonymous",className:N.default.iconAnonymous}))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__mobile:C.default.mobileOrTablet()||(0,y.isChatPage)()},{display:this.state.show?"block":"none"}]},style:N.default}}},{key:"renderData",value:function(e,t){var n,a,i=this;return h.default.createElement("jdiv",(0,o.default)({},t.main,{ref:function(e){B.default.set(P.Component.INTRODUCE,e)}}),(0,y.showAd)()&&h.default.createElement(M.default,{type:"chat",bottom:!0}),h.default.createElement(T.default,{successCallback:(0,u.default)(n=this.successCallback).call(n,this),errorCallback:(0,u.default)(a=this.errorCallback).call(a,this),ref:function(e){i.fc=e}},this.renderAnon(t),h.default.createElement(w.default,{name:"client_name",placeholder:(0,v.default)("lblIntroduceName")}),h.default.createElement(w.default,{name:"phone",placeholder:(0,v.default)("lblYourPhone")}),h.default.createElement(w.default,{name:"email",placeholder:(0,v.default)("lblYourEmail")}),W?h.default.createElement(I.default,null):"",h.default.createElement(S.default,{name:"message"}),h.default.createElement(k.default,{type:"submit"})))}}]),n}(g.default);t.default=z},46707:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=i(n(78580)),l=i(n(18777)),u=a(n(59748)),s=n(26213),c=i(n(45697)),d=i(n(29816)),f=i(n(32822)),p=i(n(31722)),h=n(42796),g=n(85442),m=n(21224),v=i(n(45808)),_=n(24335),y=n(56602),b=n(95561),E=n(44835),C=(i(n(75043)).default.name("LabelContainer"),function(e){var t,n,a=e.userSettings,i=e.features,s=e.appStore,c=e.callback,C=e.social,T=e.billRu;(0,u.useEffect)((function(){}),[]);var w=(0,E.getLabelButtons)(a,i,s,c,C),S=(0,u.useState)(!0),k=(0,l.default)(S,2),I=k[0],A=k[1];return(0,o.default)(t=[g.Route.HIDDEN,g.Route.CHAT_MIN]).call(t,s.route)||(0,y.isChatPage)()?null:u.default.createElement(u.default.Fragment,null,i.apiInvitation?u.default.createElement(f.default,{onClose:function(){A(!0)},onShow:function(){A(!1)}}):null,(0,y.isCustomLabel)()?null:u.default.createElement(p.default,{name:m.Component.LABEL,startCallbacks:(n={},(0,r.default)(n,h.ScriptName.CLOSE_WIDGET,(function(){A(!0)})),(0,r.default)(n,h.ScriptName.OPEN_WIDGET,(function(){A(!0)})),(0,r.default)(n,h.ScriptName.MIN_WIDGET,(function(){A(!1)})),n),endCallbacks:(0,r.default)({},h.ScriptName.OPEN_WIDGET,(function(){A(!1)})),style:{display:"block",zIndex:2147483646,position:"fixed"},duration:"left"===a.widgetOrientation?"600ms":"300ms",animationPostfix:a.widgetOrientation},u.default.createElement(d.default,{ad:(0,E.getAdProp)(),background:(0,E.getBackgroundProp)(a),buttons:w,designer:_.isDesignerEditor,onButtonsClick:function(){(0,b.showChat)(s.isOnline,g.RouterEvent.Navigate)},online:s.isOnline,onLogoClick:function(){(0,b.showChat)(s.isOnline,g.RouterEvent.Navigate)},orientation:a.widgetOrientation,padding:a.widgetPadding,textStyle:(0,E.getTextStyle)(a),color:a.widgetColor,color2:a.widgetColor2,ref:function(e){e&&v.default.set(m.Component.LABEL,e)},showText:!0,text:(0,E.getTextProp)(s,a),billRu:T,show:I,onLabelHover:b.initSocial,top100:!!(0,E.isAbTop100Enabled)()})))});C.propTypes={appStore:c.default.shape({isOnline:c.default.bool.isRequired,route:c.default.string.isRequired}).isRequired,callback:c.default.any.isRequired,features:c.default.shape({apiInvitation:c.default.bool}).isRequired,social:c.default.any.isRequired,userSettings:c.default.shape({widgetOrientation:c.default.string.isRequired,widgetColor:c.default.string.isRequired,widgetColor2:c.default.string,widgetPadding:c.default.string.isRequired}).isRequired,billRu:c.default.bool.isRequired};var T=(0,s.connect)((function(e){return{appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,userSettings:e.settings.user,billRu:e.settings.system.billRu}}),{})(C);t.default=T},29816:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=void 0;var p=i(n(51942)),h=i(n(87672)),g=a(n(59748)),m=i(n(71731)),v=i(n(45697)),_=i(n(94184)),y=i(n(53897)),b=i(n(12907)),E=i(n(59821)),C=i(n(27480)),T=i(n(58165)),w=i(n(12844)),S=n(10872);function k(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=k(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=k(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}var A=i(n(75043)).default.name("LabelPure"),M=function(e){var t,n=e.ad,a=e.background,i=e.buttons,r=e.designer,o=e.onButtonsClick,l=e.online,u=e.onLogoClick,s=e.orientation,c=e.padding,d=e.textStyle,f=e.color,v=e.color2,k=e.text,M=e.billRu,x=e.show,R=e.onLabelHover,O=e.top100,N=(0,g.useRef)(null),D=(0,g.useRef)(null);(0,g.useLayoutEffect)((function(){if(N.current){var e=I({},B());(0,p.default)(N.current.style,e),(0,S.saveLabelPosition)(I(I({},e),{},{offsetWidth:N.current.offsetWidth}))}}));var L,P=function(){var e=N.current&&N.current.offsetWidth,t=N.current&&N.current.offsetHeight,n="rotate(-90deg) translate(20px, 0)",a=Math.round(e/2-t/2);if(!e||!t)return{};if("bottom"===s){if("0"===c)return{left:"40px",bottom:"0px"};if("50"===c)return{right:"calc(50% - ".concat(a,"px)"),bottom:"0px"};if("100"===c)return{right:"30px",bottom:"0px"}}if("left"===s){if("50"===c)return{left:"-".concat(a,"px"),top:"50%",transform:n};if("100"===c)return{left:"-".concat(a,"px"),bottom:"".concat(a,"px"),transform:n}}if("right"===s){if("50"===c)return{right:"-".concat(a,"px"),top:"50%",transform:n};if("100"===c)return{right:"-".concat(a,"px"),bottom:"".concat(a,"px"),transform:n}}},B=function(){return A.log("getWrapStyle",P()),I({background:a},P())};return x?g.default.createElement("jdiv",{ref:N,className:(0,_.default)((t={},(0,h.default)(t,m.default.label,!0),(0,h.default)(t,m.default["_"+s],!0),(0,h.default)(t,m.default._designer,r||!1),(0,h.default)(t,"notranslate",!0),t)),style:B(),id:"jvlabelWrap"},!l&&g.default.createElement(T.default,{iconName:"envelope-offline",color:d.color,className:m.default.labelStatus}),i&&g.default.createElement("jdiv",{className:m.default.hoverl,onClick:o,onMouseOver:R},g.default.createElement("jdiv",{className:m.default.lbContainer},g.default.createElement(w.default,i))),g.default.createElement("jdiv",{className:(0,_.default)((L={},(0,h.default)(L,m.default.text,!0),(0,h.default)(L,m.default._offline,!l),(0,h.default)(L,m.default._noAd,!n),(0,h.default)(L,m.default.contentTransitionWrap,!0),L)),style:d},k),n&&g.default.createElement("jdiv",{className:m.default.copy,onMouseOver:function(){D.current&&D.current.mouseOver()},onMouseOut:function(){D.current&&D.current.mouseOut()}},g.default.createElement(E.default,{leafColor:l?"#18C139":"#62666c",onClick:u,orientation:s,ru:M,textColor:d.color})),O?g.default.createElement(C.default,{onClick:u,isChat:!1}):null,g.default.createElement("jdiv",{className:m.default.leafCont},g.default.createElement(y.default,{backgroundColor:v||f,online:l,orientation:s})),g.default.createElement("jdiv",{className:m.default.copyContainer},g.default.createElement(b.default,{ref:D,bg:{background:a},color:f,color2:v,orientation:s,refWrap:function(){return N.current}}))):null};M.propTypes={ad:v.default.bool.isRequired,background:v.default.string.isRequired,buttons:v.default.shape({buttons:v.default.arrayOf(v.default.shape({icon:v.default.string,info:v.default.string,social:v.default.shape({href:v.default.string.isRequired,type:v.default.string.isRequired}),onClick:v.default.func,show:v.default.bool.isRequired,title:v.default.string}).isRequired),orientation:v.default.string}),designer:v.default.bool.isRequired,onButtonsClick:v.default.func,online:v.default.bool.isRequired,onLogoClick:v.default.func,orientation:v.default.string.isRequired,padding:v.default.string.isRequired,textStyle:v.default.any,color:v.default.string,color2:v.default.string,text:v.default.string,billRu:v.default.bool,show:v.default.bool,onLabelHover:v.default.func,top100:v.default.bool};var x=M;t.default=x},95561:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initSocial=t.hideInvitation=t.showChat=void 0;var i=n(81189),r=a(n(47321)),o=a(n(40695)),l=n(75245),u=n(33367),s=n(63242),c=n(17674),d=n(85442),f=n(42796),p=n(53172);t.showChat=function(e,t){if(i.appDispatchers.setAppIsFocused(1),i.appDispatchers.setChatOpenByClient(!0),c.Router.next(t),i.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),t!==d.RouterEvent.toCall){e?o.default.trackChatOpenedByClick():o.default.trackOfflineFormOpenedByClick(),l.messageActions.addMessagesOnOpen(e);var n=(0,p.getSystemSettings)().botmode?{param4:1}:null;u.Monitoring.telemetry(s.TelemetryName.WIDGET_CLICK,n)}};t.hideInvitation=function(){c.Router.next(d.RouterEvent.CloseWindow),u.Monitoring.telemetry(s.TelemetryName.INVITE_CLOSE)};t.initSocial=function(){r.default.initSocial()}},44835:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.reportTelemetry=t.isAbTop100Enabled=t.getLabelButtons=t.getTextStyle=t.getTextProp=t.getBackgroundProp=t.getAdProp=t.getAnimationPostfix=void 0;var i=a(n(77766)),r=n(56602),o=a(n(62652)),l=n(36143),u=n(85442),s=n(75245),c=n(33367),d=n(63242),f=n(51139),p=a(n(75119)),h=a(n(86999)),g=a(n(40695)),m=n(81189),v=n(95561),_=n(53172),y=a(n(58061));a(n(75043)).default.name("Label helpers");t.getAnimationPostfix=function(e){!l.RouterUtils.isChatMinAvailable()&&e.widgetOrientation};t.getAdProp=function(){return!R()&&(0,r.showAd)()};t.getBackgroundProp=function(e){return h.default.getGradientBg(e.widgetColor,e.widgetColor2)};t.getTextProp=function(e,t){return e.isOnline?t.onlineWidgetLabel:t.offlineWidgetLabel};t.getTextStyle=function(e){var t=e.fontType.split(" "),n=(0,r.getTextColor)(e.widgetFontColor);return{fontSize:e.fontSize+"px",fontFamily:e.fontFamily+", Arial",fontWeight:"bold"===t[0]?"bold":null,fontStyle:"bold"!==t[0]?t[0]:t[1]||null,color:n}};t.getLabelButtons=function(e,t,n,a,i){var r=[];y.default.supportsAbc()&&t.joint&&t.joint.im&&r.push(S(t.joint.im.joint_id)),i.vk&&r.push(E(n,t,i,e)),i.fb&&r.push(C(n,t,i,e));var o=!(!t.joint||!t.joint.wa)&&t.joint.wa;return a.available&&r.push(T(n,a,e)),o&&r.push(w(o)),(i.vk||i.fb||a.available||o)&&r.push(k(n,a,i,o)),{buttons:r,orientation:e.widgetOrientation}};var b=function(e){var t=e.target.getAttribute("jv-social-type");g.default.trackSocial(t),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS+t)},E=function(e,t,n,a){return{show:n.vk,social:{type:"vk",href:A(t)},title:(0,p.default)("label_vk_text"),info:x(e,a),onClick:function(e){e.stopPropagation(),b(e)}}},C=function(e,t,n,a){return{show:n.fb,social:{type:"fb",href:M(t)},title:(0,p.default)("label_fb_text"),info:x(e,a),onClick:function(e){e.stopPropagation(),b(e)}}},T=function(e,t,n){return{icon:"callback",onClick:function(t){t.stopPropagation(),m.userDispatchers.setCallHeaderText(null),(0,v.showChat)(e.isOnline,u.RouterEvent.ToCall),g.default.trackCallClick(),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_CALL)},show:t.available,title:I(n,t)}},w=function(e){return{icon:"wa",onClick:function(t){t.stopPropagation(),window.open("https://wa.me/"+e),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_WA)},show:!0,title:"WhatsApp"}},S=function(e){return{icon:"im",onClick:function(t){t.stopPropagation(),window.open("sms://open?service=iMessage&recipient=urn:biz:".concat(e,"&biz-intent-id=click_in_jivo_desktop")),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS+"_IM")},show:!0,title:(0,p.default)("lbAbcText")}},k=function(e,t,n,a){return{icon:"chat",onClick:function(t){t.stopPropagation(),o.default.is_focused=1,s.messageActions.addPrechatMessage(),(0,v.showChat)(e.isOnline,u.RouterEvent.Navigate),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_CHAT)},show:!!(n.vk||n.fb||t.available||a),title:e.isOnline?(0,p.default)("cw_typeInChat"):(0,p.default)("lblLeaveMessage")}},I=function(e,t){return t.isDelayed?(0,p.default)("callback_delayed_button_submit"):(0,i.default)(n=(0,i.default)(a="".concat((0,p.default)("cw_callAfter"),"\n")).call(a,e.callback.time," ")).call(n,(0,f.getTextSeconds)(e.callback.time),"!");var n,a},A=function(e){return e.joint&&e.joint.vk&&e.joint.vk.joint_id?"https://vk.com/im?sel=-"+e.joint.vk.joint_id:null},M=function(e){return e.joint&&e.joint.fb&&e.joint.fb.joint_id?"https://www.facebook.com/messages/t/"+e.joint.fb.joint_id:null},x=function(e,t){return e.isOnline?(0,p.default)("social_text_"+(t.socialResponse||1)):null},R=function(){return!!(0,_.getFeatures)().enableTop100};t.isAbTop100Enabled=R;t.reportTelemetry=function(e,t){t?c.Monitoring.telemetryOnce(e):c.Monitoring.telemetry(e)}},2183:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=a(n(73525)),o=a(n(45697)),l=a(n(94184)),u=function(e){var t=e.icon,n=e.info,a=e.social,o=e.onClick,u=e.show,s=e.title;return!u||!a&&!t||a&&t?null:i.default.createElement("jdiv",{className:r.default.labelButton,onClick:o},a&&i.default.createElement("a",{className:(0,l.default)([r.default.text,r.default[a.type]]),onClick:o,target:"_blank",rel:"noopener noreferrer nofollow","jv-social-type":a.type,href:a.href},s&&i.default.createElement("jdiv",{className:r.default.title},s),n&&i.default.createElement("jdiv",{className:r.default.info},n)),t&&i.default.createElement("jdiv",{className:(0,l.default)([r.default.text,r.default[t]])},s&&i.default.createElement("jdiv",{className:r.default.title},s)))};u.propTypes={icon:o.default.string,info:o.default.string,social:o.default.shape({href:o.default.string.isRequired,type:o.default.string.isRequired}),onClick:o.default.func,show:o.default.bool.isRequired,title:o.default.string};var s=i.default.memo(u);t.default=s},12844:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),r=a(n(2991)),o=a(n(87672)),l=a(n(59748)),u=a(n(52156)),s=a(n(2183)),c=a(n(94184)),d=a(n(45697)),f=function(e){var t,n,a=e.buttons,d=e.orientation;return a.length>0?l.default.createElement("jdiv",{className:(0,c.default)((t={},(0,o.default)(t,u.default.labelButtons,!0),(0,o.default)(t,u.default["_"+d],!0),t))},(0,r.default)(a).call(a,(function(e,t){return l.default.createElement(s.default,(0,i.default)({key:t},e))})),l.default.createElement("jdiv",{className:(0,c.default)((n={},(0,o.default)(n,u.default.buttonsCorner,!0),(0,o.default)(n,u.default[d+"Corner"],!0),n))})):null};f.propTypes={buttons:d.default.arrayOf(d.default.shape({icon:d.default.string,info:d.default.string,social:d.default.shape({href:d.default.string.isRequired,type:d.default.string.isRequired}),onClick:d.default.func,show:d.default.bool.isRequired,title:d.default.string}).isRequired),orientation:d.default.string.isRequired};var p=l.default.memo(f);t.default=p},76775:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54103)),u=a(n(33032)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(34197)),v=n(57018),_=a(n(58165)),y=a(n(96747)),b=n(66481);function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var C=a(n(75043)).default.name("LabelInvitation"),T=function(e){(0,d.default)(n,e);var t=E(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={agent:a.props.agent,text:a.props.text,invitation:a.props.invitation,fade:!1,textHeight:0,route:a.props.route},a}return(0,c.default)(n,[{key:"componentDidUpdate",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0}),(0,u.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}},{key:"renderAvatar",value:function(e){if(!this.props.text)return null;var t=this.props.agent,n=t.avatar_url?{backgroundImage:"url(".concat(t.avatar_url,")")}:{};return h.default.createElement("jdiv",e.avatar,h.default.createElement("jdiv",{className:m.default.avatarImg,style:n}),h.default.createElement("jdiv",e.agentName,t.display_name))}},{key:"getRenderData",value:function(){var e=this.props.text&&this.props.text.length<v.PROACTIVE_TEXT_LIMIT;return{styles:{popupWrap:[{popupWrap:!0,__show:this.props.show}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!this.state.fade&&this.props.show,__short:e,__longText:this.state.textHeight>v.PROACTIVE_MAX_HEIGHT}],text:[{text:!0}],textBox:[{textBox:!0}],agentName:[{agentName:!0}]},style:m.default,data:{text:this.props.text?this.props.text:null}}}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement("jdiv",t.popupWrap,h.default.createElement("jdiv",(0,o.default)({},t.popupBlock,{onClick:function(e){a.props.onOpen(e,"popup")}}),this.renderAvatar(t),h.default.createElement("jdiv",{className:m.default.closeBlock,onClick:(0,l.default)(n=this.closePopup).call(n,this)},h.default.createElement(_.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:m.default.closePopupIcon})),h.default.createElement("jdiv",t.text,h.default.createElement("jdiv",(0,o.default)({},t.textBox,{ref:function(e){a._popupText=e}}),h.default.createElement(y.default,{text:e.text,onLinkClick:function(e){C.log("onLinkCLick"),(0,b.sendUrlClickTelemetry)()}})))))}}]),n}(g.default);t.default=T},32822:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=n(26213),o=a(n(45697)),l=a(n(76775)),u=n(57539),s=n(85442),c=n(8479),d=n(66481),f=function(e){var t=e.appStore,n=e.systemSettings,a=e.onShow,r=e.onClose;return t.route===s.Route.LABEL_INVITATION&&a(),i.default.createElement(u.Path,{paths:[s.Route.LABEL_INVITATION],name:"LabelInvitation",transition:"Fade",duration:300,withMountTransition:!0,withUnmountTransition:!0,cheap:!0},i.default.createElement(l.default,{show:!0,route:t.route,text:(0,c.getLabelInvitationText)(),agent:(0,c.getLabelInvitationAgent)(n),invitation:(0,c.getLabelInvitation)(),onOpen:function(){(0,d.openInvitation)(t.isOnline)},onClose:function(){(0,d.closeInvitation)(),r()}}))};f.propTypes={appStore:o.default.shape({route:o.default.string,isOnline:o.default.bool.isRequired}).isRequired,systemSettings:o.default.any.isRequired,onClose:o.default.func,onShow:o.default.func};var p=(0,r.connect)((function(e){return{appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,systemSettings:e.settings.system,userSettings:e.settings.user}}),{})(f);t.default=p},66481:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.sendUrlClickTelemetry=t.closeInvitation=t.openInvitation=void 0;var a=n(95561),i=n(60906),r=n(17674),o=n(85442),l=n(33367),u=n(63242);t.openInvitation=function(e){(0,a.showChat)(e,o.RouterEvent.Navigate),i.ApiInvitationsManager.markInvitationsRead()};t.closeInvitation=function(){r.Router.next(o.RouterEvent.CloseWindow),l.Monitoring.telemetry(u.TelemetryName.INVITE_CLOSE)};t.sendUrlClickTelemetry=function(){i.ApiInvitationsManager.sendUrlClickTelemetry()}},8479:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getLabelInvitationAgent=t.getLabelInvitation=t.getLabelInvitationText=void 0;var i=a(n(77766)),r=n(56602),o=a(n(99357));t.getLabelInvitationText=function(){var e=o.default.getLastUnreadApiInvitation();return e&&e.get("text")||""};t.getLabelInvitation=function(){var e=o.default.getLastUnreadApiInvitation();return e?e.toJSON():null};t.getLabelInvitationAgent=function(e){var t=o.default.getLastUnreadApiInvitation(),n=t&&t.get("body")||{};if(n.avatar_url){var a,l,u=(0,i.default)(a=(0,i.default)(l="".concat((0,r.getProtocol)())).call(l,e.avatarUrl,"/avatars/")).call(a,n.avatar_url);n.avatar_url=u}return n}},52673:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(5711)),l=a(n(68806)),u=a(n(94184)),s=a(n(45697)),c=function(e){var t,n=e.onPointerDown,a=e.landscape,s=e.isPointer,c=function(e){n&&n(e)};return r.default.createElement("jdiv",{className:(0,u.default)((t={},(0,i.default)(t,o.default.wrap,!0),(0,i.default)(t,o.default._extraPadding,l.default.getUserZoom()>1),(0,i.default)(t,o.default._aboveAll,a),t)),onPointerDown:function(e){return c(e)},onTouchStart:function(e){e.preventDefault(),s||c(e)}},a?r.default.createElement("jdiv",{className:o.default.image}):null)};c.propTypes={onPointerDown:s.default.func.isRequired,landscape:s.default.bool.isRequired,isPointer:s.default.bool.isRequired};var d=r.default.memo(c);t.default=d},53897:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),r=a(n(87672)),o=a(n(59748)),l=a(n(68691)),u=a(n(58165)),s=a(n(58061)),c=a(n(45697)),d=a(n(94184)),f=n(70645),p=function(e){var t,n=e.backgroundColor,a=e.onClick,c=e.online,p=e.orientation,h=e["data-qa-id"];return s.default.mobileOrTablet()?null:o.default.createElement("jdiv",(0,i.default)({className:(0,d.default)((t={},(0,r.default)(t,l.default.leaf,!0),(0,r.default)(t,l.default["_"+p],!0),t)),onClick:a||null},(0,f.withLocator)(h)),o.default.createElement(u.default,{color:n,color2:c?"#18C139":"#5e5f61",iconName:c?"leafBottom":"leafBottomOffline",className:l.default.cssLeaf}))};p.propTypes={backgroundColor:c.default.string.isRequired,onClick:c.default.func,online:c.default.bool.isRequired,orientation:c.default.string.isRequired,"data-qa-id":c.default.string};var h=o.default.memo(p);t.default=h},59821:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(58165)),l=a(n(60284)),u=a(n(45697)),s=a(n(94184)),c=function(e){var t,n,a=e.ru,u=e.leafColor,c=e.onClick,d=e.orientation,f=e.textColor;return r.default.createElement("jdiv",{className:(0,s.default)((t={},(0,i.default)(t,l.default.logo,!0),(0,i.default)(t,l.default["_"+d],!0),t))},r.default.createElement("jdiv",{className:l.default.hoverBox,onClick:function(e){c(e,!0)}}),r.default.createElement(o.default,{iconName:a?"logo-jivosite":"logo-jivochat",color:f,color2:u,className:(0,s.default)((n={},(0,i.default)(n,l.default.logoIcon,!0),(0,i.default)(n,l.default.__ru,a),n))}),r.default.createElement("jdiv",{className:l.default.fallback}))};c.propTypes={ru:u.default.bool.isRequired,leafColor:u.default.string.isRequired,onClick:u.default.func.isRequired,orientation:u.default.string.isRequired,textColor:u.default.string.isRequired};var d=r.default.memo(c);t.default=d},96747:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),r=a(n(78580)),o=a(n(59748)),l=a(n(45697)),u=a(n(7886)),s=a(n(13245)),c=n(33367),d=n(63242),f=a(n(71168)),p=function e(t){var n=t.text,a=t.nodes,l=t.onLinkClick,p=n?(0,u.default)(n):a||[],h=function(e){return o.default.createElement(s.default,{text:e})},g=function(){return o.default.createElement("br",null)},m=function(t){return 1===t.block.length&&"image"===t.block[0].type?(t.block[0].linkUrl=t.url,E(t.block[0])):o.default.createElement("a",{target:"_blank",onClick:function(){l?l():c.Monitoring.telemetry(d.TelemetryName.MARKDOWN_LINK_CLICK,{param1:t.url})},rel:"nofollow noopener noreferrer",href:t.url},o.default.createElement(e,{nodes:t.block,onLinkClick:l}))},v=function(t){return o.default.createElement("strong",null,o.default.createElement(e,{nodes:t.block}))},_=function(t){return o.default.createElement("em",null,o.default.createElement(e,{nodes:t.block}))},y=function(t){var n=t.bullet||null;return o.default.createElement("jdiv",{className:f.default.list},n," ",o.default.createElement(e,{nodes:t.block}))},b=function(t){return o.default.createElement("s",null,o.default.createElement(e,{nodes:t.block}))},E=function(e){var t,n,a,i=e.linkUrl&&((0,r.default)(t=e.linkUrl).call(t,"youtube")||(0,r.default)(n=e.linkUrl).call(n,"youtu.be")),l=!i&&(0,r.default)(a=e.url).call(a,".gif");return o.default.createElement("a",{href:e.linkUrl||e.url,title:e.alt,target:"_blank",rel:"nofollow noopener noreferrer",className:f.default.imageLink},o.default.createElement("img",{src:e.url,title:e.alt,alt:e.alt,loading:"lazy",className:f.default.image}),l?o.default.createElement("jdiv",{className:f.default.mediaType},"GIF"):null,i?o.default.createElement("jdiv",{className:f.default.mediaType},"Youtube"):null)};return o.default.createElement(o.default.Fragment,null,(0,i.default)(p).call(p,(function(e){return function(e){switch(e.type){case"text":return h(e.text);case"break":return g(e);case"bold":return v(e);case"italic":return _(e);case"strike":return b(e);case"list":return y(e);case"link":return m(e);case"image":return E(e);default:return null}}(e)})))};p.propTypes={text:l.default.string,nodes:l.default.any,onLinkClick:l.default.func};var h=p;t.default=h},13245:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),r=a(n(81643)),o=a(n(3649)),l=a(n(59036)),u=a(n(78914)),s=a(n(59748)),c=a(n(45697)),d=a(n(77244)),f=function(e){var t=e.text,n=function e(t){var n=[],a=t.match(/\r|\n/);if(a){var i=(0,o.default)(t).call(t,0,a.index),r=(0,o.default)(t).call(t,a.index+1);n.push({text:i,type:"text"}),n.push({type:"br"}),n.push.apply(n,(0,l.default)(e(r)))}else n.push({text:t,type:"text"});return n},a=function(e){if("br"===e.type)return[e];var t=[],n=[];if(d.default.parse(e.text,(function(e){var t=d.default.toCodePoint(e);n.push({icon:e,code:t})})),n.length>0){var a=e.text;(0,u.default)(n).call(n,(function(e){var n=(0,r.default)(a).call(a,e.icon);t.push({text:(0,o.default)(a).call(a,0,n),type:"text"}),t.push({type:"emoji",icon:e.icon,code:e.code}),a=a.replace(e.icon,""),a=(0,o.default)(a).call(a,n)})),t.push({text:a,type:"text"})}else t.push(e);return t},c=function(e){return s.default.createElement(s.default.Fragment,null,e)},f=function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement("br",null))},p=function(e){var t=e.code;return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.default,{icon:t,className:"emojiMessages"}))},h=function(e){var t=[],i=n(e,t);return(0,u.default)(i).call(i,(function(e){t.push.apply(t,(0,l.default)(a(e)))})),t}(t);return s.default.createElement(s.default.Fragment,null,(0,i.default)(h).call(h,(function(e){return function(e){switch(e.type){case"text":return c(e.text);case"br":return f();case"emoji":return p(e);default:return c(e.text)}}(e)})))};f.propTypes={text:c.default.string,children:c.default.oneOfType([c.default.arrayOf(c.default.node),c.default.node])};var p=f;t.default=p},90140:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(87672)),l=a(n(77766)),u=a(n(5872)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(8717)),v=a(n(68806)),_=a(n(99357)),y=a(n(8282)),b=a(n(69961)),E=a(n(58061)),C=a(n(62904)),T=a(n(45808)),w=n(21224),S=n(56602),k=a(n(16810)),I=a(n(80743)),A=n(8565);function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var x=function(e){(0,d.default)(n,e);var t=M(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={textSize:v.default.getTextSize(),transparent:e.isPreview},a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;v.default.listenChangeZoom((function(){var t=v.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"isLastMessage",value:function(){var e=_.default.getLastMessage(),t=T.default.getComponent(w.Component.SCROLL_CONTAINER);return!(!this.base||!t)&&(!this.base.nextSibling&&e.get("type")===A.MessageType.MESSAGE&&(e.get("from")===A.MessageInitiator.AGENT||"bot"===e.get("from"))&&t.animated)}},{key:"renderAvatar",value:function(e,t){if(t.msgAgent){var n,a;if(t.isBot)return h.default.createElement("jdiv",(0,u.default)({},e.avatarBox,{title:t.agentName}),h.default.createElement(I.default,{url:t.msgAgent.avatar_url?t.msgAgent.avatar_url:null}));var i=t.msgAgent.avatar_url,r=i?(0,l.default)(n=(0,l.default)(a="".concat((0,S.getProtocol)())).call(a,C.default.avatar_url,"/avatars/")).call(n,i):null;return h.default.createElement("jdiv",(0,u.default)({},e.avatarBox,{title:t.agentName}),h.default.createElement(k.default,{dark:!0,expanded:!1,inChat:!0,isMobile:E.default.mobileOrTablet(),inCall:!1,url:r}))}}},{key:"getRenderData",value:function(){var e,t,n=this.props.messages[0];t=this.props.messages&&n.get("type")===A.MessageType.INVOICE?"while":C.default.bubble_color||"green";var a=null,i=n.get("from_id"),r=y.default.getAgentById(i);r&&(r=r.toJSON());var l="bot"===n.get("from");if(n.get("type")===A.MessageType.PROACTIVE&&(r=n.get("body")&&n.get("body").agent_id?n.get("body"):b.default),l){var u=y.default.getBotById(i);u&&(r=u.toJSON())}r&&(a=r.display_name);var s=E.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(e={main:!0,_mobile:E.default.mobileOrTablet()},(0,o.default)(e,"__"+t,!1),(0,o.default)(e,"_transparent",this.state.transparent),(0,o.default)(e,"_noagent",!n.get("from_id")&&!l),e),s],agentName:[{agentName:!0}],avatarBox:[{avatarBox:!0,__isAnimated:this.isLastMessage()}]},style:m.default,data:{msgAgent:r,agentName:a,isBot:l}}}},{key:"renderData",value:function(e,t){return h.default.createElement("jdiv",t.main,e.isBot||e.agentName?h.default.createElement("jdiv",t.agentName,e.isBot?h.default.createElement(h.default.Fragment,null,e.agentName||"Bot",h.default.createElement("jdiv",{className:m.default.botBadge},"bot")):e.agentName):"",this.renderAvatar(t,e),h.default.createElement("jdiv",{className:m.default.content},this.props.children))}}]),n}(g.default);t.default=x},68205:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(87672)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(58061)),h=a(n(62904)),g=a(n(90140)),m=a(n(8717)),v=n(8565);function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=_(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"getRenderData",value:function(){var e,t,n=this.props.messages[0];t=this.props.messages&&n.get("type")===v.MessageType.INVOICE?"while":h.default.bubble_color||"green";var a=p.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(e={main:!0,_mobile:p.default.mobileOrTablet()},(0,o.default)(e,"__"+t,!1),(0,o.default)(e,"_transparent",this.state.transparent),(0,o.default)(e,"_noagent",!0),e),a],agentName:[{agentName:!0}],avatarBox:[{avatarBox:!0,__isAnimated:this.isLastMessage()}]},style:m.default,data:{msgAgent:null,agentName:null}}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.main,e.agentName?f.default.createElement("jdiv",t.agentName,e.agentName):"",f.default.createElement("jdiv",{className:m.default.content},this.props.children))}}]),n}(g.default);t.default=y},43738:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(87672)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(60021)),h=a(n(62904)),g=a(n(58061)),m=a(n(68806)),v=a(n(74336)),_=n(8565);function y(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var b=function(e){(0,s.default)(n,e);var t=y(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).state={textSize:m.default.getTextSize()},a}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e=this;m.default.listenChangeZoom((function(){var t=m.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"getRenderData",value:function(){var e,t=g.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null,n=this.props.messages[0];return e=this.props.messages&&n.get("type")===_.MessageType.INVOICE?"while":h.default.bubble_color||"green",{styles:{main:[(0,o.default)({main:!0,_mobile:g.default.mobileOrTablet()},"__"+e,!0),t],time:[{time:!0,_mobile:g.default.mobileOrTablet()},t]},style:v.default}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.main,f.default.createElement("jdiv",{className:v.default.content},this.props.children))}}]),n}(p.default);t.default=b},33104:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var p=a(n(5872)),h=a(n(77766)),g=a(n(87672)),m=a(n(78914)),v=a(n(33032)),_=a(n(54103)),y=a(n(59340)),b=a(n(26394)),E=a(n(69198)),C=a(n(51379)),T=a(n(214)),w=a(n(66380)),S=a(n(59748)),k=a(n(60021)),I=a(n(58061)),A=a(n(62107)),M=a(n(62904)),x=n(56602),R=a(n(47321)),O=a(n(62652)),N=a(n(36216)),D=a(n(36421)),L=a(n(55471)),P=a(n(99357)),B=a(n(69961)),j=a(n(67966)),F=a(n(8282)),H=a(n(531)),U=a(n(16810)),W=a(n(12907)),z=n(17674),G=n(85442),V=a(n(45808)),q=a(n(98077)),K=n(21224),Y=a(n(96153)),Z=a(n(75043)),J=n(75245),X=a(n(75119)),$=n(8565),Q=n(24335),ee=n(33367),te=n(63242),ne=n(63465),ae=n(99112),ie=n(77347),re=a(n(80743)),oe=a(n(57371)),le=a(n(58234));function ue(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=ue(Object(a),!0)).call(n,(function(t){(0,g.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=ue(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function ce(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,w.default)(e);if(t){var i=(0,w.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,T.default)(this,n)}}var de=Z.default.name("MessagesMain"),fe=I.default.mobileOrTablet()||(0,x.isChatPage)(),pe=K.Component.CHAT_INPUT,he=function(e){(0,C.default)(n,e);var t=ce(n);function n(e){var a;return(0,b.default)(this,n),(a=t.call(this,e)).state={messagesGroups:(0,ie.getMessagesGroup)(),lastEdit:null,hideScrollButton:!0,bottom:fe?50:106,diff:0,lastAgent:null,show:!1,showMore:!1,forceUpdate:!1},a._container=null,a._scroll=null,a._lastHeight=0,a}return(0,E.default)(n,[{key:"updateMessages",value:function(e,t){var n=this;de.log("updateMessages",e,t),t&&(0,ie.cleanTempProactive)(),this.setState({messagesGroups:(0,ie.getMessagesGroup)(),lastEdit:e?(0,y.default)(e.toJSON()):null,lastAgent:(0,ne.getLastAgent)()},(function(){if(n.state.show){var t=e&&e.toJSON();if((0,ne.setLastAgentScroll)(n._scroll))return n.checkShowBadge(),void de.log("ignore anims and scroll to bottom");var a=t&&t.type===$.MessageType.PROACTIVE,i=P.default.getFirstMessage();if(a&&i&&!i.get("msg_id")&&i.get("type")==$.MessageType.PROACTIVE||n._scroll&&n._scroll.getIgnore())de.log("Ignore scroll for proactive update");else if((0,ne.isProactivePrechat)())de.log("Need ignore for prechat and big proactives");else if(Q.isDesignerEditor)n.scrollToBottom();else if(n._scroll&&n._scroll.view&&!n._scroll.hasScroll()&&t&&t.from==$.MessageInitiator.FORM&&t.body&&t.body.inited)de.log("No scroll, animate form");else{var r=n._scroll&&n._scroll.view&&n._scroll.getScrollDiff();0===r&&n._container&&(r=n._container.clientHeight-n._lastHeight),n._lastHeight=n._container.clientHeight,de.log("diff",r,n._lastHeight),r&&r<600&&r!==n._lastHeight?(r<0&&(r=0),n.setState({diff:r>>0})):(de.log("scroll bottom on update message"),n.scrollToBottom())}}})),this.readMessages()}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,H.default)(e,this.props)||!(0,H.default)(t,this.state)}},{key:"componentDidMount",value:function(){var e,t,n=this;de.log("mount"),this.showMessages(),I.default.mobileOrTablet()&&z.Router.isChatInputRoute(z.Router.getCurrentRoute())&&this.readMessages(),j.default.on("all",(function(){n.setState({messagesGroups:(0,ie.getMessagesGroup)(),lastAgent:(0,ne.getLastAgent)()}),n.readMessages()}));var a=(0,_.default)(e=this.updateMessages).call(e,this);P.default.on("create",(function(e,t){a&&a.call(n,e,t),n.getBottom(n.props.inputHeight);var i=e&&e.toJSON();i&&i.from===$.MessageInitiator.CLIENT&&(n._scroll&&n._scroll.setIgnore(!1),n.setState({showMore:!1,showBadge:!1})),i&&i.from===$.MessageInitiator.AGENT&&n.state.showMore&&n.needShowMore()&&(0,ne.setLastAgentScroll)(n._scroll)&&n.checkShowBadge()}));var i=A.default.debounce((0,_.default)(t=this.updateMessages).call(t,this),200);P.default.on("update",(0,_.default)(i).call(i,this)),F.default.on("update",(function(){n.setState({messagesGroups:(0,ie.getMessagesGroup)(),lastAgent:(0,ne.getLastAgent)(),forceUpdate:!n.state.forceUpdate})})),z.Router.on("route_change",(function(e){z.Router.isChatInputRoute(z.Router.getPrevRoute())||(n.showMessages(),n.readMessages(),fe&&e===G.Route.LABEL&&n._scroll&&n._scroll.setIgnore(!1))})),this.on(D.default,{update:function(){n.readMessages()}}),fe||this.readMessages(),this._container=V.default.get(K.Component.MESSAGES_CONTAINER),this._scroll=V.default.getComponent(K.Component.SCROLL_CONTAINER),de.log("initScroll:",this._scroll),!M.default.maintenance&&(0,ne.isOfflineCanSend)()&&0===P.default.getFormMessage().length&&J.messageActions.startFormSequence((0,X.default)("offlineIntroductionText")),M.default.maintenance&&J.messageActions.addMaintenanceMessage(),(0,Q.designerBind)("setBubbleColor",(function(){n.forceUpdate()}))}},{key:"showMessages",value:function(){var e=this,t=V.default.getComponent(K.Component.SCROLL_CONTAINER);t&&this.base&&(0,v.default)((function(){e.setState({show:!0}),t&&t.setIgnore(!1),I.default.mobileOrTablet()?!(0,ne.setLastAgentScroll)(e._scroll)&&e.scrollToBottom():e.scrollToBottom()}),50)}},{key:"checkShowBadge",value:function(){de.log("checkShowBadge"),this._scroll&&this.needShowMore()&&this._scroll.getIgnore()&&this.setState({showMore:!0,showBadge:P.default.getAgentMessages().length>1||P.default.getMessagesByType($.MessageType.PRECHAT).length>0})}},{key:"getBottom",value:function(e){var t=this,n=fe?56:106,a=e||n;a<n&&(a=n),fe&&(0,x.showAd)()&&(a+=20);var i=!(!fe||!this._scroll);return i&&this.props.isContactFormFocused&&(a=0),this.state.bottom!==a&&this.setState({bottom:a},(function(){i&&!t.props.isContactFormFocused&&t._scroll.scrollToBottom()})),a}},{key:"isInputVisible",value:function(e){if(e)return"none"!==e.style.display}},{key:"scrollToBottom",value:function(){this._scroll&&this._scroll.view&&(de.log("scrollToBottom"),this._scroll.getIgnore()?de.log("Ignore scroll to bottom, input focused."):this._scroll.scrollToBottom())}},{key:"readMessages",value:function(){if(D.default.isActive){var e=[],t=P.default.getUnreadMessage();(0,m.default)(t).call(t,(function(t){t.set("status",$.MessageStatus.READ);var n=t.get("msg_id");null!==n&&e.push(n)}));var n=P.default.getOfflineUnreadProactive();n.length&&(0,m.default)(n).call(n,(function(e){e.set("status",$.MessageStatus.READ)})),e.length&&this.isChatInput()&&R.default.agentMessageRead(e)}}},{key:"isChatInput",value:function(){return z.Router.isChatInputRoute(z.Router.getCurrentRoute())}},{key:"scrollToForm",value:function(){var e=(0,ie.getScrollToFormState)(O.default.is_online);e&&(this.scrollToBottom(),this.setState(se(se({},e),{},{lastAgent:(0,ne.getLastAgent)()})))}},{key:"renderScrollToForm",value:function(){var e,t=P.default.getFormMessage();if(!N.default.is_introduced&&t.length)return S.default.createElement(q.default,{hide:this.state.hideScrollButton,scrollToForm:(0,_.default)(e=this.scrollToForm).call(e,this),scrollContainer:this._scroll})}},{key:"needShowMore",value:function(){return!!this._scroll&&(this._scroll&&this._scroll.base&&this._scroll.getScrollDiff()>=40)}},{key:"onScrollEnd",value:function(){var e={};this.needShowMore()?e.showMore=!0:(e.showMore=!1,e.showBadge=!1);var t=P.default.getFormMessage();if(!N.default.is_introduced&&t.length){var n=V.default.get(K.Component.CHAT_INTRODUCE);if(n){var a=(0,ae.isScrolledIntoView)(n,this._scroll);a!==this.state.hideScrollButton&&(e.hideScrollButton=a)}this.setState(e)}else this.setState(e)}},{key:"onWrapTouch",value:function(e){if(I.default.mobileOrTablet()&&z.Router.getCurrentRoute()!==G.RouteList.LABEL){var t=(0,x.getPageWindow)().document.activeElement,n=V.default.get(pe);(0,ae.isTextArea)(t)&&this.isInputVisible(n)&&!(0,ae.isParentA)(e)&&(de.log("onWrapTouch",t),(0,v.default)((function(){t.blur()}),300))}}},{key:"onMoreClick",value:function(){this._scroll&&(this._scroll.setIgnore(!1),this.scrollToBottom()),ee.Monitoring.telemetry(te.TelemetryName.MORE_BTN_CLICK,{param1:j.default.get("text")?1:0})}},{key:"isShowAvatar",value:function(){return!!(this._scroll&&this._scroll.animated>0&&(0,ne.getLastAgent)())}},{key:"onTransitionEnd",value:function(e,t){var n=this;"transform"===e.propertyName&&0!==t&&(de.log("Container animation end:",t),this.setState({diff:0},(function(){n.scrollToBottom()})),this._scroll.animated=!1)}},{key:"getOffset",value:function(){var e=null;return this._scroll&&(e=(0,ae.isNoScroll)(this._scroll,this._container)?"".concat(-1*this.state.diff||0,"px"):null),e}},{key:"getRenderData",value:function(){var e=this.getOffset();return this._scroll&&(this._scroll.animated=this.state.diff),{styles:{main:[{main:!0,__mobile:fe,__ad:(0,x.showAd)()},{bottom:"".concat(this.getBottom(this.props.inputHeight),"px"),opacity:1}],wrap:[{wrap:!0}],container:[{container:!0,__tablet:I.default.tablet()||I.default.desktop()&&(0,x.isChatPage)()},{transform:this.state.diff?"translateY(".concat(-1*this.state.diff,"px)"):"translateY(0)",bottom:e||0,transition:0===this.state.diff?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}],avatarShadow:[{avatarShadow:!0,__mobile:fe,__show:this.isShowAvatar()},{marginBottom:this.getBottom(this.props.inputHeight)}]},style:Y.default}}},{key:"renderData",value:function(e,t){var n,a,i,r,o,l=this,u=B.default.bot_id>0;return S.default.createElement("jdiv",t.main,this.renderScrollToForm(t),S.default.createElement("jdiv",(0,p.default)({},t.wrap,{onPointerDown:(0,_.default)(n=this.onWrapTouch).call(n,this),onTouchStart:function(e){I.default.isPointerEnabled()||l.onWrapTouch(e)},ref:function(e){l._main=e}}),S.default.createElement(le.default,{messagesGroups:this.state.messagesGroups,onMessagesAnimationEnd:function(e,t){l.onTransitionEnd(e,t)},onScrollEnd:A.default.debounce((0,_.default)(a=this.onScrollEnd).call(a,this),200),diff:this.state.diff,bottomOffset:this.getOffset()}),1!=M.default.typing_insight||fe?null:S.default.createElement(L.default,{show:this.props.agentTyping,isMobile:fe}),(0,x.showAd)()&&!fe?S.default.createElement(W.default,{type:"chat"}):null,S.default.createElement("jdiv",t.avatarShadow,u?S.default.createElement(re.default,{url:B.default.avatar_url?B.default.avatar_url:null}):S.default.createElement(U.default,{inChat:!0,dark:!0,isMobile:I.default.mobileOrTablet(),isTablet:I.default.tablet(),url:B.default.avatar_url?(0,h.default)(i=(0,h.default)(r="".concat((0,x.getProtocol)())).call(r,M.default.avatar_url,"/avatars/")).call(i,B.default.avatar_url):null})),S.default.createElement(oe.default,{color:M.default.bubble_color,show:this.state.showMore&&!this.props.isInDrag,showBadge:this.state.showBadge,onClick:(0,_.default)(o=this.onMoreClick).call(o,this)})))}}]),n}(k.default);t.default=he},58234:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2991)),o=i(n(87672)),l=i(n(18777)),u=a(n(59748)),s=i(n(62107)),c=n(26213),d=i(n(45697)),f=i(n(94184)),p=n(21224),h=i(n(20748)),g=i(n(71093)),m=i(n(58061)),v=i(n(45808)),_=n(56602),y=n(8565),b=i(n(76644)),E=i(n(72961)),C=i(n(39401)),T=i(n(63686)),w=i(n(54280)),S=i(n(22620)),k=i(n(53256)),I=i(n(55903)),A=i(n(37117)),M=i(n(28412)),x=i(n(45423)),R=i(n(17031)),O=i(n(74819)),N=i(n(29832)),D=i(n(96153)),L=i(n(75043)).default.name("MessagesPure"),P=function(e){var t,n,a=e.messagesGroups,i=e.onMessagesAnimationEnd,c=e.onScrollEnd,d=e.diff,P=e.bottomOffset,B=(0,u.useState)({messagesCount:a.length}),j=(0,l.default)(B,2),F=(j[0],j[1],t={},(0,o.default)(t,y.MessageType.MESSAGE,E.default),(0,o.default)(t,y.MessageType.PROACTIVE,E.default),(0,o.default)(t,y.MessageType.SEPARATOR,b.default),(0,o.default)(t,y.MessageType.INVOICE,C.default),(0,o.default)(t,y.MessageType.COBROWSE,T.default),(0,o.default)(t,y.MessageType.SYSTEM,w.default),(0,o.default)(t,y.MessageType.INVITE,w.default),(0,o.default)(t,y.MessageType.PREFORM,w.default),(0,o.default)(t,y.MessageType.SOCIAL,S.default),(0,o.default)(t,y.MessageType.MEDIA,I.default),(0,o.default)(t,y.MessageType.EMAIL,k.default),(0,o.default)(t,y.MessageType.FORM,A.default),(0,o.default)(t,y.MessageType.TEMPORARY,M.default),(0,o.default)(t,y.MessageType.FOR_TEST,R.default),(0,o.default)(t,y.MessageType.PRECHAT,x.default),(0,o.default)(t,y.MessageType.BOT,E.default),(0,o.default)(t,y.MessageType.LISTPICKER,O.default),(0,o.default)(t,y.MessageType.WEB_RTC_CALL,N.default),t);(0,u.useEffect)((function(){L.log("init")}),[]);var H=m.default.mobileOrTablet()?40:30,U=(0,f.default)((n={},(0,o.default)(n,D.default.container,!0),(0,o.default)(n,D.default.__tablet,m.default.tablet()),n));return u.default.createElement(h.default,{onScrollStop:s.default.debounce(c,200),className:D.default.scroll,autoHide:!0,id:"scrollbar-container",scrollMarginTop:(0,_.showAd)()?H:0,railClass:D.default.rail,ref:function(e){e&&v.default.set(p.Component.SCROLL_CONTAINER,e)}},u.default.createElement("jdiv",{className:U,onTransitionEnd:function(e){i(e,d)},ref:function(e){e&&v.default.set(p.Component.MESSAGES_CONTAINER,e)},style:{transform:d?"translateY(".concat(-1*d,"px)"):"translateY(0)",bottom:P||0,transition:0===d?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}},(0,r.default)(a).call(a,(function(e,t){var n=e[0]instanceof g.default?e[0].toJSON():e[0];if(n.type==y.MessageType.MEDIA&&n.body&&n.body.type==y.MessageType.STICKER&&(n.type=y.MessageType.MESSAGE),n.type==y.MessageType.MEDIA&&n.body&&n.from_id&&n.body.type==y.MessageType.COBROWSE&&(n.type=y.MessageType.COBROWSE),n.type){var a=F[n.type];return u.default.createElement(a,{messages:e,key:t})}}))))};P.propTypes={messagesGroups:d.default.array.isRequired,onMessagesAnimationEnd:d.default.func.isRequired,onScrollEnd:d.default.func.isRequired,diff:d.default.number,bottomOffset:d.default.string};var B=(0,c.connect)((function(e){return{messages:e.messages}}),{})(P);t.default=B},22952:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=n(26213),o=a(n(45697)),l=a(n(33104)),u=(a(n(75043)).default.name("MessagesWrap"),function(e){var t=e.route,n=e.isInDrag,a=e.isContactFormFocused,r=e.inputHeight,o=e.agentTyping;return i.default.createElement(l.default,{route:t,isInDrag:n,isContactFormFocused:a,inputHeight:r,agentTyping:o})});u.propTypes={route:o.default.string,isContactFormFocused:o.default.bool,isInDrag:o.default.bool,inputHeight:o.default.number};var s=(0,r.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0];return{route:e.app.route,isInDrag:e.app.isInDrag,isContactFormFocused:e.app.isContactFormFocused,agentTyping:t?t.agentTyping:0}}),{})(u);t.default=s},63686:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=i(n(33032)),l=i(n(18777)),u=a(n(59748)),s=i(n(45026)),c=i(n(94184)),d=i(n(45697)),f=i(n(45127)),p=i(n(27968)),h=i(n(75119)),g=i(n(62904)),m=i(n(58061)),v=i(n(90140)),_=n(33367),y=n(63242),b=n(17674),E=n(85442),C=i(n(8282)),T=(i(n(75043)).default.name("CobrowseMessage"),function(e){var t,n,a=e.messages,i=a[0].toJSON();if(!i.from_id&&"highlight"!==i.body.type)return null;var d=(0,u.useState)(i.body.error),T=(0,l.default)(d,2),w=T[0],S=T[1],k=a[0].toJSON(),I=k.updated_ts,A=(0,f.default)(I||k.created_ts,"dd.mm.yy H:MM:ss"),M=k.body.hash,x=k.body.page_url,R=null;k.from_id&&(R=k.from_id,k.text=k.body.text,M=k.body.address,x=k.body.url);var O=function(e){e||(a[0]&&a[0].set("body.error",!0),S(!0))},N=function(e){w||(e.preventDefault(),function(){var e;if(R){var t=C.default.getAgentById(R);t&&(e=t.toJSON())}var n=function(){p.default.getCobrowseData(M,x,k.text,e,O)};m.default.mobileOrTablet()?(b.Router.next(E.RouterEvent.CloseWindow),(0,o.default)((function(){n()}),1e3)):n()}(),_.Monitoring.telemetry(y.TelemetryName.COBROWSE_CLICK_BUTTON))};return u.default.createElement(v.default,{messages:a},u.default.createElement("jdiv",{className:(0,c.default)((t={},(0,r.default)(t,s.default.main,!0),(0,r.default)(t,s.default["__"+g.default.bubble_color||0],!0),(0,r.default)(t,s.default.__mobile,m.default.mobileOrTablet()),t)),title:A},u.default.createElement("jdiv",{className:s.default.text},k.text?k.text:(0,h.default)("lblDefaultCobrowseComment")),u.default.createElement("jdiv",{className:(0,c.default)((n={},(0,r.default)(n,s.default.showBtn,!0),(0,r.default)(n,s.default.__disabled,w),n)),onPointerDown:N,onTouchStart:function(e){e.preventDefault(),m.default.isPointerEnabled()||N(e)},title:(0,h.default)("lblDefaultCobrowseComment")},(0,h.default)("lblView")),w?u.default.createElement("jdiv",{className:s.default.error},(0,h.default)("cobrowseError")):null,u.default.createElement("jdiv",{className:s.default.time},(0,f.default)(I||k.created_ts,"H:MM"))))});T.propTypes={messages:d.default.any};var w=u.default.memo(T);t.default=w},5057:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=a(n(59748)),l=i(n(94184)),u=i(n(45697)),s=i(n(75119)),c=i(n(71059)),d=i(n(58061)),f=i(n(22259)),p=i(n(42085)),h=(i(n(75043)).default.name("EmailMessage"),function(e){var t,n,a,i=e.message,u=e.email,h=e.submit,g=e.disabled,m=e.error,v=e.lineHeight,_=e.bubbleColor,y=e.textSize,b=e.onEmailSubmit,E=e.onEmailType,C=(0,o.useRef)(null),T=(0,l.default)((t={},(0,r.default)(t,p.default.box,!0),(0,r.default)(t,p.default.__finished,h),(0,r.default)(t,p.default.__mobile,d.default.mobileOrTablet()),(0,r.default)(t,p.default.__ios,d.default.ios()||d.default.safari()),t)),w=(0,l.default)((n={},(0,r.default)(n,p.default.emailBlock,!0),(0,r.default)(n,p.default._error,m),n)),S=(0,l.default)((a={},(0,r.default)(a,f.default.inputField,!0),(0,r.default)(a,f.default["_"+_],!0),(0,r.default)(a,f.default.__emailChat,!0),(0,r.default)(a,f.default._error,m),a)),k={lineHeight:d.default.ios()?v:null,"-webkit-text-size-adjust":d.default.ios()?y:"none"};return o.default.createElement("jdiv",{className:T},h?o.default.createElement("jdiv",{className:p.default.emailFinished,style:{display:h?"block":"none"}},o.default.createElement("jdiv",{className:p.default.emailText,style:k},(0,s.default)("social_success_email").replace("_EMAIL_",u))):o.default.createElement("jdiv",{className:p.default.form},o.default.createElement("jdiv",{className:p.default.emailText,style:k},i),o.default.createElement("form",{className:w,autoComplete:"on",onSubmit:function(e){e.preventDefault()}},o.default.createElement("jdiv",{className:p.default.fieldWrap},o.default.createElement("input",{type:"email",autoComplete:"email",onKeyUp:function(e){E&&E(e,C.current)},placeholder:(0,s.default)("lblYourEmail"),className:S,maxLength:"255",ref:C}),o.default.createElement(c.default,{disabled:g,click:function(e){b&&b(e,C.current)},type:"input-button",iconName:"icon-ok-white"})))))});h.propTypes={message:u.default.string,email:u.default.string,submit:u.default.bool,disabled:u.default.bool,error:u.default.bool,lineHeight:u.default.string,bubbleColor:u.default.string,textSize:u.default.string,onEmailSubmit:u.default.func,onEmailType:u.default.func};var g=o.default.memo(h);t.default=g},53256:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=void 0;var p=i(n(87672)),h=i(n(18777)),g=a(n(59748)),m=n(26213),v=i(n(45697)),_=i(n(5057)),y=i(n(94686)),b=n(81189),E=n(17674),C=n(85442),T=n(97547),w=n(38687);function S(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=S(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=S(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}i(n(75043)).default.name("EmailMessageWrap");var I=function(e){var t=e.messages,n=e.clientEmail,a=e.bubbleColor,i=e.eulaAccepted,r=e.eulaEnabled,o=e.appZoom;if(t&&t.length){var l=t[0].toJSON(),u=!!n,s=(0,g.useState)({error:!1,submit:u&&i,textSize:(0,w.getTextSize)(o)}),c=(0,h.default)(s,2),d=c[0],f=c[1];(0,g.useEffect)((function(){u&&i&&(f(k(k({},d),{},{error:!1,submit:!0})),(0,T.emailIntroduce)(n))}),[i,n]);var p=function(e){var t=e.value;return!(""===t||!y.default.email(t))},m=function(e){var t=e.value;b.clientDispatchers.setClientEmail(t),r&&!i?E.Router.next(C.RouterEvent.Submit,{context:"messageEmail"}):(f(k(k({},d),{},{error:!1,submit:!0})),(0,T.emailIntroduce)(t))};return g.default.createElement(_.default,{message:l.text,email:n,submit:d.submit,disabled:!1,error:d.error,lineHeight:(0,w.getLineHeight)(1.5,o),bubbleColor:a,textSize:(0,w.getTextSize)(o),onEmailSubmit:function(e,t){e&&e.preventDefault(),t&&p(t)?m(t):f(k(k({},d),{},{error:!0,submit:!1}))},onEmailType:function(e,t){var n=p(t);n&&e.keyCode&&13==e.keyCode?m(t):f(k(k({},d),{},{error:!n}))}})}};I.propTypes={messages:v.default.array,isIntroduced:v.default.bool,clientEmail:v.default.string,bubbleColor:v.default.string,eulaAccepted:v.default.bool,eulaEnabled:v.default.bool,appZoom:v.default.number};var A=(0,m.connect)((function(e){return{isIntroduced:e.client.isIntroduced,clientEmail:e.client.email,bubbleColor:e.settings.features.bubbleColor,eulaEnabled:!!e.settings.features.eula,eulaAccepted:e.client.eulaAccepted,appZoom:e.zoom.app}}))(I);t.default=A},97547:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.emailIntroduce=void 0;var i=a(n(62652)),r=a(n(36216)),o=a(n(62904)),l=a(n(40695)),u=a(n(99357)),s=a(n(47321)),c=n(33367),d=n(63242);t.emailIntroduce=function(e){var t={client_name:r.default.client_info.client_name,phone:r.default.client_info.phone,email:e,description:r.default.client_info.description,accept_eula:o.default.eula&&i.default.eula_accepted||null};s.default.setClientContactInfo(t,!0),u.default.trigger("update"),l.default.trackSystemMessageEmailSubmitted(),c.Monitoring.telemetry(d.TelemetryName.EMAIL_MESSAGE_SUBMITTED)}},37117:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var p=a(n(2991)),h=a(n(89400)),g=a(n(5872)),m=a(n(54103)),v=a(n(33032)),_=a(n(20116)),y=a(n(47302)),b=a(n(87672)),E=a(n(26394)),C=a(n(69198)),T=a(n(51379)),w=a(n(214)),S=a(n(66380)),k=a(n(59748)),I=a(n(60021)),A=a(n(75119)),M=a(n(62904)),x=a(n(47321)),R=a(n(58061)),O=a(n(62107)),N=a(n(62652)),D=a(n(36216)),L=a(n(6991)),P=a(n(68806)),B=a(n(99357)),j=n(56602),F=a(n(45808)),H=n(21224),U=a(n(47396)),W=a(n(43986)),z=a(n(77244)),G=a(n(60801)),V=a(n(531)),q=n(8565),K=n(17674),Y=n(85442),Z=a(n(75043)),J=a(n(68853)),X=n(75245),$=n(36143),Q=n(33367),ee=n(63242),te=n(5505),ne=n(81189);function ae(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=ae(Object(a),!0)).call(n,(function(t){(0,b.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=ae(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,S.default)(e);if(t){var i=(0,S.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,w.default)(this,n)}}var oe=Z.default.name("ContactForm"),le=L.default.getJoints(),ue=function(e){(0,T.default)(n,e);var t=re(n);function n(e){var a;(0,E.default)(this,n),(a=t.call(this,e))._steps={},2===M.default.contacts_ask&&N.default.is_online&&!(0,j.isEmailOrPhoneRequired)()&&(M.default.contacts_settings.email={show:!0,required:!0}),N.default.is_online||(0,j.isEmailOrPhoneRequired)()||(!M.default.contacts_settings.email.show&&M.default.contacts_settings.phone.show?M.default.contacts_settings.phone={show:!0,required:!0}:M.default.contacts_settings.email={show:!0,required:!0}),a._totalSteps=a.getSteps();var i=a.props.messages[0],r=i.get("body")&&i.get("body").inited,o=D.default.is_introduced;return a.state={submited:o,step:3,steps:a._steps,social:a.canRenderSocial(),showForm:o||r,showMessage:o||r,focused:o||r,lastValue:null},a._formData=null,a._formContainer=null,a._introduceText=null,a}return(0,C.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,V.default)(this.state,t)||!(0,V.default)(this.props,e)}},{key:"componentDidMount",value:function(){var e=this;oe.log("mount",this.props),$.RouterUtils.needToShowEula()&&K.Router.on("submit_eula_success",(function(){e.successCallback(e._formData)})),this.on(D.default,(function(){var t={};e.canRenderSocial()||(t.social=!1),D.default.is_introduced&&!e.state.submited&&(t=ie(ie({},t),{},{submited:!0,showForm:!0,focused:!0}),e.checkAllStepsValid()),e.setState(t)}));var t=this.props.messages[0],n=t.get("body")&&t.get("body").inited;D.default.is_introduced&&!n||(this.setState({showForm:!0}),t&&!n&&t.set("body",{inited:!0})),D.default.is_introduced&&this.checkAllStepsValid(),K.Router.on("route_change",(function(){e.ignoreScroll(!1)}));var a=B.default.getFormMessage();a.length&&a[0].on("created_ts",(function(){(0,y.default)(B.default).call(B.default),B.default.trigger("update")}))}},{key:"getSteps",value:function(){var e=this,t=1;return(0,_.default)(O.default).call(O.default,M.default.contacts_settings,(function(n,a){if(n.show){var i=t++;e._steps[a]={keyName:a,e:n,step:i}}return!0===n.show})).length}},{key:"checkAllStepsValid",value:function(){var e=this;O.default.each(this._steps,(function(t){var n=e._formContainer.checkValue(e.getStepName(t.keyName));e._steps[t.keyName].valid=n})),this.setState({step:this._totalSteps,steps:this._steps})}},{key:"getStepName",value:function(e){return"name"===e?"client_name":e}},{key:"getClientInfo",value:function(e){return{client_name:e.client_name.value,phone:e.phone.value,email:e.email.value}}},{key:"successCallback",value:function(e){var t=this;if(oe.log("successChatIntroduce",e),this._formData=e,e&&!e.error){if($.RouterUtils.needToShowEula())return void K.Router.next(Y.RouterEvent.ToEula,{context:"chatIntroduce"});var n=(0,j.getPageWindow)().document.activeElement;R.default.mobile()&&n&&"function"==typeof n.blur&&n.blur();var a=F.default.refs.ScrollContainer;this.setState({submited:!0},(function(){var n=t.getClientInfo(e);if(!N.default.is_online){a&&a.setIgnore(!1),X.messageActions.setInputDisabled(!1);var i=null;if(!D.default.is_introduced){ne.clientDispatchers.setClientEmail(n.email||null),ne.clientDispatchers.setClientPhone(n.phone||null),ne.clientDispatchers.setClientName(n.name||n.client_name||null),ne.clientDispatchers.setClientDescription(n.description||null);var r=B.default.getOfflineTmpMessage();r&&r.get("text")&&(n.message=r.get("text"),i=r.get("private_id")),ne.clientDispatchers.setIsIntroduced(!0)}x.default.setClientContactInfo(n,!1,!0,i);var o=X.messageActions.getOfflineSuccessText();return o&&X.messageActions.systemMessageOnce(o),(0,te._callUserFunction)("onOfflineFormSubmit"),void Q.Monitoring.telemetryOnce(ee.TelemetryName.NEWOFFLINE_FORM_SUBMIT)}a&&a.setIgnore(!1),D.default.is_introduced?x.default.setIntroduce(n):(x.default.setClientContactInfo(n,!1,!0),ne.clientDispatchers.setIsIntroduced(!0))}))}}},{key:"errorCallback",value:function(e){oe.log("errorCallbackintroduce",e),this._formData=e,this.setState({submited:!1,steps:this._steps})}},{key:"blurPopupInput",value:function(e){oe.log("blurPopupInput",this.state.submited),this.ignoreScroll(!1);var t=this._formContainer.checkValue(this.getStepName(e));this._steps[e].valid=t,this.setState({steps:this._steps})}},{key:"focusPopupInput",value:function(){oe.log("focusPopupInput"),this.ignoreScroll(!0),this.state.focused||(this.setState({focused:!0}),Q.Monitoring.telemetryOnce(ee.TelemetryName.CHAT_INTRODUCE,{param1:"formFocused"}))}},{key:"ignoreScroll",value:function(e){var t=F.default.getComponent(H.Component.SCROLL_CONTAINER);t&&t.setIgnore(e)}},{key:"focusFirstInput",value:function(){if(oe.log("focusFirstInput",this._formContainer),this._formContainer&&this._formContainer.base){this.focusPopupInput();var e=this._formContainer.base.querySelector("input");(0,v.default)((function(){if(e.focus(),!R.default.mobileOrTablet()){var t=B.default.getLastMessage(),n=F.default.getComponent(H.Component.SCROLL_CONTAINER);n&&t&&t.get("type")===q.MessageType.FORM&&n.scrollToBottom()}}),300)}}},{key:"processSocial",value:function(e){if(R.default.mobileOrTablet()){var t=le.links,n=t.fbUrl,a=t.vkUrl;window.open("fb"===e?n:a)}else L.default.setPopupMode(e),K.Router.next(Y.RouterEvent.ToSocial),Q.Monitoring.telemetry(ee.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"click_"+e})}},{key:"canRenderSocial",value:function(){return N.default.chat_started&&!R.default.mobileOrTablet()&&!(0,j.hasIntegration)(D.default.has_integration)&&(le.links.fbUrl||le.links.vkUrl)}},{key:"renderSocial",value:function(e){var t,n,a=this,i=le.links,r=i.fbUrl,o=i.vkUrl;if(this.canRenderSocial())return k.default.createElement("jdiv",(0,g.default)({},e.socialText,{ref:function(e){a._social=e}}),(0,A.default)("introduce_social")+" ",o?k.default.createElement("jdiv",{className:J.default.link,onClick:(0,m.default)(t=this.processSocial).call(t,this,"vk")},(0,A.default)("social_vk")):null,o&&r?" "+(0,A.default)("introduce_or")+" ":null,r?k.default.createElement("jdiv",{className:J.default.link,onClick:(0,m.default)(n=this.processSocial).call(n,this,"fb")},"Facebook"):null)}},{key:"getPlaceholder",value:function(e){switch(e){case"name":return(0,A.default)("lblIntroduceName");case"email":return(0,A.default)("lblYourEmail");case"phone":return(0,A.default)("lblYourPhone")}}},{key:"onChange",value:function(e,t){var n=this;if(t&&t.key)switch(t.key){case"Meta":case"Shift":case"Control":case"Alt":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}this.setState({submited:!1,lastValue:t.target.value},(function(){n.checkAllStepsValid()}))}},{key:"getFormHeight",value:function(){if(this._mainContainer&&this._formContainer){var e=this._formContainer.base.clientHeight||null;return this.state.focused?e:null}return null}},{key:"getIntroduceHeight",value:function(){return this._introduceText?this.state.showMessage?this._introduceText.clientHeight:null:void 0}},{key:"renderFormInputs",value:function(){var e=this,t=(0,h.default)(O.default).call(O.default,this._steps),n=O.default.sortBy(t,(function(e){return e.step}));return(0,p.default)(n).call(n,(function(t,n){var a,i,r;return k.default.createElement(W.default,{name:e.getStepName(t.keyName),placeholder:e.getPlaceholder(t.keyName),onBlur:(0,m.default)(a=e.blurPopupInput).call(a,e,t.keyName),onFocus:(0,m.default)(i=e.focusPopupInput).call(i,e),onChange:(0,m.default)(r=e.onChange).call(r,e),valid:e.state.steps[t.keyName].valid,hint:e.state.focused,key:n})}))}},{key:"getRenderData",value:function(){var e={lineHeight:R.default.ios()?P.default.getLineHeight(1.5):null};return{styles:{box:[{box:!0,__noanim:D.default.is_introduced||R.default.mobileOrTablet(),__tablet:R.default.tablet()||R.default.desktop()&&(0,j.isChatPage)()}],mainWrap:[{mainWrap:!0,__submited:this.state.submited,__show:this.state.showForm,__focus:this.state.focused}],main:[(0,b.default)({main:!0,__submited:this.state.submited,__show:!0,__focus:this.state.focused},"__"+M.default.bubble_color||0,!0),{height:this.state.focused&&!this.state.submited?this.getFormHeight():null}],successMessage:[{successMessage:!0,__submited:D.default.is_introduced||this.state.submited}],introduceText:[{introduceText:!0,__show:!0,__submited:!0}],content:[{content:!0},e],socialText:[{socialText:!0,__show:!0},e],buttonWrapper:[{buttonWrapper:!0,__show:this.state.submited,__fadeOut:!this.state.submited}],submitSuccess:[{submitSuccess:!0,__show:this.state.submited}]},style:J.default}}},{key:"renderData",value:function(e,t){var n,a,i,r,o,l=this;return k.default.createElement("jdiv",t.box,k.default.createElement("jdiv",(0,g.default)({},t.mainWrap,{ref:function(e){l._introduceMain=e}}),k.default.createElement("jdiv",(0,g.default)({},t.main,{title:"",ref:function(e){l._mainContainer=e}}),!this.state.focused&&k.default.createElement("jdiv",{className:J.default.overlay,onPointerUp:function(e){e.preventDefault(),l.focusFirstInput()},onTouchStart:function(e){e.preventDefault(),R.default.isPointerEnabled()||l.focusFirstInput()}}),k.default.createElement(U.default,{successCallback:(0,m.default)(n=this.successCallback).call(n,this),errorCallback:(0,m.default)(a=this.errorCallback).call(a,this),route:this.props.route,type:"chat",submited:this.state.submited,ref:function(e){l._formContainer=e,e&&F.default.set(H.Component.CHAT_INTRODUCE,e)}},this.renderFormInputs(),k.default.createElement(G.default,{type:"submit",focusPopupInput:(0,m.default)(i=this.focusPopupInput).call(i,this),onBlur:(0,m.default)(r=this.blurPopupInput).call(r,this),onFocus:(0,m.default)(o=this.focusPopupInput).call(o,this),disabled:this.state.submited}),this.state.focused&&k.default.createElement("jdiv",t.buttonWrapper,k.default.createElement("jdiv",t.submitSuccess,k.default.createElement(z.default,{icon:"1f389",alone:!1,className:"emojiMessages",style:!0})," ",(0,A.default)("lblThanks"))))),this.renderSocial(t)))}}]),n}(I.default);t.default=ue},39401:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),p=a(n(9950)),h=a(n(68494));function g(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=g(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,l.default)(n,[{key:"render",value:function(e,t){var n=this.props.messages[0].toJSON().body;return"yandex"===n.type?d.default.createElement(p.default,{messages:this.props.messages}):"tinkoffInvoice"===n.type?d.default.createElement(h.default,{messages:this.props.messages}):void 0}}]),n}(f.default);t.default=m},68494:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(60021)),h=a(n(75119)),g=a(n(90140)),m=a(n(58165)),v=a(n(45127)),_=a(n(58061)),y=a(n(71297));function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var E=function(e){(0,s.default)(n,e);var t=b(n);function n(e){return(0,l.default)(this,n),t.call(this,e)}return(0,u.default)(n,[{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,_tinkoff:!0}],invoice:[{message:!0,__success:"SUCCESS"===this.props.messages[0].get("body").status}]},style:y.default}}},{key:"renderData",value:function(e,t){var n=this.props.messages[0].toJSON(),a=n.body,i=(0,v.default)(n.created_ts,"dd.mm.yy H:MM:ss");return f.default.createElement(g.default,{messages:this.props.messages},f.default.createElement("jdiv",(0,o.default)({},t.main,{title:i}),f.default.createElement("jdiv",t.invoice,f.default.createElement("jdiv",{className:y.default.successIcon}),f.default.createElement("jdiv",{className:y.default.info},f.default.createElement("jdiv",{className:y.default.text},(0,h.default)("paymentsInvoice"),a.invoice_id,":"),f.default.createElement("jdiv",{className:y.default.productName},a.comment,","," "),f.default.createElement("jdiv",{className:y.default.amountWrap},f.default.createElement("jdiv",{className:y.default.amount}," "+a.amount),f.default.createElement(m.default,{color:"#222d38",iconName:"icon-ruble",className:y.default.rubleIcon})),f.default.createElement("jdiv",{className:y.default.successText},(0,h.default)("paymentsSuccess"))),f.default.createElement("a",{href:a.payment_url,onPointerDown:function(e){e.preventDefault(),window.open(a.payment_url)},onTouchStart:function(e){e.preventDefault(),_.default.isPointerEnabled()||window.open(a.payment_url)},className:y.default.actionBtn,"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,h.default)("paymentsPay")},f.default.createElement("jdiv",{className:y.default.actionText},(0,h.default)("paymentsPay"))))))}}]),n}(p.default);t.default=E},9950:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(54103)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(59748)),h=a(n(60021)),g=a(n(56602)),m=a(n(90140)),v=a(n(8575)),_=(a(n(18228)),a(n(58061))),y=a(n(75119)),b=a(n(62652)),E=a(n(36216)),C=a(n(62904)),T=a(n(58165)),w=a(n(45127)),S=a(n(71297)),k=a(n(22259)),I=n(17674),A=n(85442),M=a(n(94686)),x=a(n(81574)),R=n(53793),O=a(n(94184)),N=n(81189);function D(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var L=function(e){(0,c.default)(n,e);var t=D(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={isValidEmail:!0,userEmail:a.props.messages[0].get("body").userEmail||""},a._actionBtn=null,a}return(0,s.default)(n,[{key:"proceedToInvoice",value:function(e){var t=M.default.email(this.state.userEmail);if(!t)return e.preventDefault(),void this.setState({isValidEmail:!1});if(C.default.eula&&!b.default.eula_accepted?(e.preventDefault(),I.Router.next(A.RouterEvent.ToEula,{link:e.currentTarget.getAttribute("href"),context:"invoice"})):_.default.tablet()&&window.open(e.currentTarget.getAttribute("href")),t){N.clientDispatchers.setClientEmail(this.state.userEmail);var n=new R.Introduction(E.default.client_info.client_name,E.default.client_info.phone,E.default.client_info.email,E.default.client_info.description,C.default.eula&&b.default.eula_accepted||null),a=x.default.getInstance();if(a){var i=a.managers.connection;i&&i.isOpen()&&i.send(n)}}}},{key:"onChangeYandexEmail",value:function(e){var t=e.target.value,n=this.props.messages[0].toJSON(),a=v.default.parse(n.body.url),i=this._actionBtn;this.setState({userEmail:t}),M.default.email(t)?(this.setState({isValidEmail:!0}),n.body.userEmail=t,i.href=a.protocol+"//"+a.host+a.pathname+g.default.setGetParam("cps_email",t,a.search)):this.setState({isValidEmail:!1})}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0}],invoice:[{message:!0,__success:"confirmed"===this.props.messages[0].get("body").status,__emailError:!this.state.isValidEmail}]},style:S.default}}},{key:"renderData",value:function(e,t){var n,a,i,r=this,u=this.props.messages[0].toJSON(),s=(0,w.default)(u.created_ts,"dd.mm.yy H:MM:ss"),c=u.body,d="confirmed"===c.status;return p.default.createElement(m.default,{messages:this.props.messages},p.default.createElement("jdiv",{className:S.default.main,title:s},p.default.createElement("jdiv",t.invoice,p.default.createElement("jdiv",{className:S.default.successIcon}),p.default.createElement("jdiv",{className:S.default.info},p.default.createElement("jdiv",{className:S.default.text},(0,y.default)("paymentsInvoice"),c.invoiceId,":"),p.default.createElement("jdiv",{className:S.default.productName},c.comment,",",p.default.createElement("jdiv",{className:S.default.amountWrap},p.default.createElement("jdiv",{className:S.default.amount}," "+c.amount),p.default.createElement(T.default,{color:"#222d38",iconName:"icon-ruble",className:S.default.rubleIcon}))),p.default.createElement("jdiv",{className:S.default.successText},(0,y.default)("paymentsSuccess"))),p.default.createElement("a",{onPointerDown:function(e){r.proceedToInvoice(e)},onClick:function(e){r.state.isValidEmail||e.preventDefault()},onTouchStart:function(e){_.default.isPointerEnabled()||r.proceedToInvoice(e)},ref:function(e){r._actionBtn=e},href:c.url,className:(0,O.default)((n={},(0,l.default)(n,S.default.actionBtn,!0),(0,l.default)(n,S.default.__error,!this.state.isValidEmail),n)),"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,y.default)("paymentsPay")},p.default.createElement("jdiv",{className:S.default.actionText},(0,y.default)("paymentsPay")),p.default.createElement("jdiv",{className:S.default.byYandex},(0,y.default)("byYandex"))),!d&&p.default.createElement("jdiv",{className:S.default.emailLabel},(0,y.default)("invoiceEmail")),!d&&p.default.createElement("input",{onInput:(0,o.default)(a=this.onChangeYandexEmail).call(a,this),className:(0,O.default)((i={},(0,l.default)(i,k.default.inputField,!0),(0,l.default)(i,k.default.__ios,_.default.ios()),i)),value:this.state.userEmail,type:"email",placeholder:(0,y.default)("enterEmailPlaceholder")}))))}}]),n}(h.default);t.default=L},38684:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),r=a(n(87672)),o=a(n(59748)),l=a(n(94184)),u=a(n(45697)),s=a(n(96116)),c=a(n(70602)),d=a(n(75043)),f=n(33367),p=n(63242),h=d.default.name("Listpicker"),g=function(e){var t,n,a=e.data,u=void 0===a?{}:a,d=e.onClick;h.log("Listpicker",u);var g=(0,l.default)((t={},(0,r.default)(t,c.default.main,!0),(0,r.default)(t,s.default.__mobile,!1),t));return u.answer_id?null:(u.answer_id=null,o.default.createElement("jdiv",{className:g},o.default.createElement("jdiv",{className:s.default.buttonsWrap},(0,i.default)(n=u.keyboard).call(n,(function(e,t){var n,a=(0,l.default)((n={},(0,r.default)(n,c.default.button,!0),(0,r.default)(n,c.default.__bot,!0),(0,r.default)(n,s.default._disabled,null!==u.answer_id),n));return o.default.createElement("jdiv",{className:a,title:e.title,onClick:function(n){u.answer_id||(h.log("text",e),d&&d(n,t,e.text),f.Monitoring.telemetry(p.TelemetryName.BOT_BUTTON_CLICK))},key:t},e.text)})))))};g.propTypes={data:u.default.object,onClick:u.default.func};var m=g;t.default=m},74819:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),p=a(n(96116)),h=a(n(38684)),g=n(75245),m=n(70669),v=a(n(58061));function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=_(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,l.default)(n,[{key:"getRenderData",value:function(){return{styles:{},style:p.default,data:{}}}},{key:"renderData",value:function(e,t){var n=this.props.messages[0],a=n.get("body"),i=n.get("msg_id");return d.default.createElement(h.default,{data:a,onClick:function(e,t,n){e.preventDefault(),g.messageActions.setListpickerAnswer(i,t),g.messageActions.sendClientMessage(n),v.default.mobileOrTablet()||(0,m.afterEmojiInserted)()}})}}]),n}(f.default);t.default=y},55903:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=(n(53172),a(n(12090))),o=a(n(8704)),l=i.default.memo((function(e){if(e.messages&&e.messages[0]){var t=e.messages[0];if(t.get("body")&&t.get("body").status){var n=t.toJSON();return i.default.createElement(o.default,{messages:e.messages,status:n.body.status,messagePrivateId:n.private_id})}return i.default.createElement(r.default,e)}}));t.default=l},12090:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(87672)),u=a(n(54103)),s=a(n(77766)),c=a(n(78580)),d=a(n(59340)),f=a(n(26394)),p=a(n(69198)),h=a(n(51379)),g=a(n(214)),m=a(n(66380)),v=a(n(59748)),_=a(n(60021)),y=a(n(75119)),b=a(n(90140)),E=a(n(43738)),C=a(n(448)),T=a(n(62904)),w=n(56602),S=a(n(45127)),k=a(n(34777)),I=a(n(58165)),A=a(n(58061)),M=a(n(99357)),x=n(33367),R=n(49485);function O(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var N=a(n(75043)).default.name("MediaMessage"),D=function(e){(0,h.default)(n,e);var t=O(n);function n(e){var a;return(0,f.default)(this,n),(a=t.call(this,e)).state=a.getState(e),a.disableClick=!1,e.messages[0].on("body.file_url",(function(){a.setState(a.getState(a.props))})),a._circle=null,a}return(0,p.default)(n,[{key:"getState",value:function(e){var t=e.messages[0].toJSON().body,n=!1;return(t.sign||t.error)&&(n=!1),(t.file_url||t.file)&&(n=!0),{percentComplete:0,uploading:!n,complete:n,url:!!n&&(t.file_url||t.file),type:!!n&&(t.icon_type||t.type||(0,w.detectType)(t.mime_type)),error:!1,loaded:0,total:n?(t.size||t.file_size)>>0:0,file:!1,imagePreview:t.thumb?t.thumb:null}}},{key:"componentDidMount",value:function(){var e=this;if(!this.state.complete){var t=this.props.messages[0].toJSON().body;!t.name||t.error?this.setState({complete:!1,uploading:!1,error:t.error,file:t}):this.on(k.default,{uploading:function(t){N.log("uploading",t),e.state.complete||e.setState({uploading:!0,percentComplete:0,loaded:0,total:t.size})},error:function(t,n,a){N.log("ERROR:",t),!a&&e.state.complete||e.setState({complete:!1,uploading:!1,error:t,file:n}),e.offListeners()},complete:function(t,n){if(N.log("complete",t,n),!e.state.complete){e.setState({uploading:!1,complete:!0,url:n,type:t.icon_type,error:!1,total:t.size,imagePreview:t.imagePreview?t.imagePreview:null});var a=e.props.messages[0].toJSON().private_id,i=M.default.getMessageByPrivateId(a);N.log("update complete",a,t,n),N.log("media",a,t,n),i&&(i.set("body.file_url",n),i.set("body.thumb",t.imagePreview?t.imagePreview:n),t.width&&(i.set("body.width",t.width),i.set("body.height",t.height)))}e.offListeners()},progress:function(t,n){N.log("progress",t,n);var a=(t/n*100).toFixed(0),i=a,r=e._circle;if(isNaN(i))i=100;else if(r){var o=r.getAttribute("r"),l=(100-i)/100*(Math.PI*(2*o));r.style.strokeDashoffset=l}e.state.complete||e.setState({complete:!1,uploading:!0,error:!1,percentComplete:a,loaded:t,total:n})}})}}},{key:"handleAbort",value:function(){this.state.uploading&&(k.default.abort(),this.setState({error:(0,y.default)("file_upl_cancel"),complete:!1,uploading:!1,file:{}}),this.offListeners())}},{key:"offListeners",value:function(){this.off(k.default,"error"),this.off(k.default,"progress"),this.off(k.default,"complete"),this.off(k.default,"uploading")}},{key:"reportName",value:function(){var e=this.props.messages[0].toJSON();x.Monitoring.telemetryOnce("media_data_name",{param1:(0,d.default)(e||null)})}},{key:"checkPreview",value:function(e,t){return e?(0,R.isNewMedia)(e)?this.state.complete&&(0,c.default)(n=["photo"]).call(n,t):this.state.complete&&k.default.isPreviewImage(e):(this.reportName(),!1);var n}},{key:"isGif",value:function(e){if(!e)return this.reportName(),!1;var t=e.toLowerCase();return/\.(gif)$/i.test(t)}},{key:"isAgentMessage",value:function(){var e=this.props.messages[0].toJSON();return(0,R.isAgentMessage)(e)}},{key:"onLoadPreview",value:function(){}},{key:"onClick",value:function(e){e.preventDefault(),window.open(e.currentTarget.getAttribute("href"))}},{key:"renderPreview",value:function(e){var t,n,a=this,i=this.props.messages[0].toJSON(),r=i.body,o=r.thumb||this.state.imagePreview||this.state.url||this.props.url,l=(0,R.getSize)(r),c=this.isGif(r.file_url||r.file||r.name);(0,R.isNewMedia)(o)&&(r.width<209&&(l.width=r.width,l.height=null),o=(0,s.default)(n="".concat(r.file,"?thumb&width=")).call(n,l.width));var d;return v.default.createElement("jdiv",{className:this.isAgentMessage()?"":C.default.mediaWrapper},v.default.createElement("a",{className:C.default.previewLink,href:this.state.url||this.props.url,onPointerUp:(0,u.default)(t=this.onClick).call(t,this),onTouchStart:function(e){e.preventDefault(),A.default.isPointerEnabled()||a.onClick(e)},title:e,target:"_blank",rel:"nofollow noopener noreferrer"},v.default.createElement("img",{width:l.width,height:l.height,onLoad:(0,u.default)(d=a.onLoadPreview).call(d,a),src:o,title:e,className:C.default.previewMediaPhoto,loading:"lazy"}),c?v.default.createElement("jdiv",{className:C.default.overlayText},"GIF"):null,v.default.createElement("jdiv",{className:C.default.time},(0,S.default)(i.created_ts,"H:MM"))))}},{key:"getRenderData",value:function(){var e=T.default.bubble_color||"green",t=this.props.messages[0].toJSON().body,n=this.state.file.file_url||t.file_url||t.file||t.name;return this.isAgentMessage()&&(e="grey"),{styles:{main:[(0,l.default)({main:!0,_mobile:A.default.mobileOrTablet(),_client:!this.isAgentMessage(),_preview:this.checkPreview(n,t.type)},"_"+e,!0)],icon:[{iconUpload:!0,iconLoading:!0}],mediaComplete:[{mediaComplete:!0,_agent:this.isAgentMessage()}],iconError:[{iconError:!0},{display:this.state.error?"block":"none"}],iconUpload:[{iconUpload:this.state.error?"none":"block"},{display:this.state.complete?"block":"none"}]},style:C.default,data:{color:e,url:n}}}},{key:"renderData",value:function(e,t){var n,a,i=this,r=this.props.messages[0].toJSON(),l=r.body,s=(0,S.default)(r.created_ts,"dd.mm.yy H:MM:ss"),c=this.state.file.file_name||l.file_name||l.name,d=this.state.uploading&&this.state.loaded>1,f=this.isAgentMessage()?b.default:E.default,p=this.checkPreview(e.url,l.type);return v.default.createElement(f,{messages:this.props.messages,isPreview:p},v.default.createElement("jdiv",(0,o.default)({},t.main,{key:this.props.key,title:s}),p?this.renderPreview(c):null,!p&&v.default.createElement(v.default.Fragment,null,v.default.createElement("jdiv",{className:C.default.mediaIcon,onClick:(0,u.default)(n=this.handleAbort).call(n,this),style:{cursor:this.state.uploading?"pointer":"default"}},v.default.createElement("jdiv",{className:C.default.loaderCont,style:{display:this.state.uploading?"block":"none"}},v.default.createElement("svg",{width:"42",height:"42",viewPort:"0 0 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v.default.createElement("circle",{r:"18",cx:"21",cy:"21",fill:"#ffffff",strokeDasharray:"119.38",strokeDashoffset:"0"}),v.default.createElement("circle",{ref:function(e){i._circle=e},className:C.default.loaderBar,r:"18",cx:"21",cy:"21",fill:"transparent",stroke:(0,R.getCircleColor)(e.color),strokeDasharray:"119.38",strokeDashoffset:"0"})),v.default.createElement(I.default,(0,o.default)({color:(0,R.getIconColor)(e.color),iconName:"icon-cancel"},t.icon))),v.default.createElement("jdiv",null,!this.state.error&&v.default.createElement(I.default,(0,o.default)({color:(0,R.getIconColor)(e.color),iconName:"icon-".concat(this.state.type)},t.iconUpload)),!this.isAgentMessage()&&v.default.createElement(I.default,(0,o.default)({color:(0,R.getIconColor)(e.color),iconName:"icon-error"},t.iconError)))),v.default.createElement("jdiv",{className:C.default.mediaText},v.default.createElement("jdiv",{className:C.default.mediaFname,title:c},c),d&&v.default.createElement("jdiv",{className:C.default.mediaPerc},(0,w.humanFileSize)(this.state.loaded)||""," ","/"," ",(0,w.humanFileSize)(this.state.total)||""),this.state.complete&&v.default.createElement("jdiv",t.mediaComplete,(0,w.humanFileSize)(this.state.total)," ",v.default.createElement("a",{href:(0,R.getUrl)(this.state.url),onPointerDown:(0,u.default)(a=this.onClick).call(a,this),onTouchStart:function(e){e.preventDefault(),A.default.isPointerEnabled()||i.onClick(e)},target:"_blank",rel:"noopener noreferrer"},(0,y.default)("file_upl_download"))),this.state.error&&v.default.createElement("jdiv",{className:C.default.mediaComplete},this.state.error)),v.default.createElement("jdiv",{className:C.default.time},(0,S.default)(r.created_ts,"H:MM")))))}}]),n}(_.default);t.default=D},8704:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=void 0;var p=i(n(87672)),h=i(n(77766)),g=i(n(18777)),m=i(n(94473)),v=a(n(59748)),_=n(26213),y=i(n(45697)),b=i(n(94184)),E=i(n(75119)),C=i(n(58165)),T=i(n(90140)),w=i(n(43738)),S=i(n(448)),k=i(n(45127)),I=n(49485),A=n(56602),M=i(n(58061)),x=n(8565),R=n(81189),O=i(n(60822));function N(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=N(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=N(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}var L=i(n(75043)).default.name("MediaMessagePure"),P=function(e){var t,n,a,i=e.messages,r=e.bubbleColor,o=e.messagePrivateId,l=(0,_.useSelector)((function(e){var t=e.messages;return(0,m.default)(t).call(t,(function(e){return e.private_id==o}))}));if(l&&l.body){var u=l.body.file_size,s=l.body.loadedSize,c=(0,v.useRef)(null),d=(0,v.useRef)(null),f=(0,v.useRef)(null),y=(0,v.useRef)(null),N=(0,I.isAgentMessage)(l),P=(0,k.default)(l.created_ts,"dd.mm.yy H:MM:ss"),B=N?T.default:w.default,j=l.body.status||x.MediaStatus.COMPLETE,F=j==x.MediaStatus.UPLOADING,H=j==x.MediaStatus.COMPLETE,U=!(j!=x.MediaStatus.ERROR&&j!=x.MediaStatus.EXPIRED&&!l.body.error);L.warn(l.body);var W=l.body.type,z=l.body.file_name,G=H&&"video"==W,V=H&&l.body.thumb&&"photo"==W||G,q=(0,v.useState)(!0),K=(0,g.default)(q,2),Y=K[0],Z=K[1],J=N?"grey":r||"green",X=(0,I.getUrl)(l.body.file_url||l.body.file);if(!X||/^http?s:\/\//gi.test(X)){var $=function(){return v.default.createElement("jdiv",{className:S.default.time},(0,k.default)(l.created_ts,"H:MM"))},Q=function(e){401==e?ee((0,E.default)("file_upl_expired"),x.MediaStatus.EXPIRED):ee((0,E.default)("file_upl_error"),x.MediaStatus.ERROR)};(0,v.useEffect)((function(){s>=0&&(0,I.setSvgProgress)(H,c,u,s)}),[s]);var ee=function(e,t){L.warn("handleError",e,t);var n=i[0].toJSON().body;R.messagesDispatchers.updateMessageBody(o,D(D({},n),{},{status:t||x.MediaStatus.ERROR,error:e}))},te=function(){(0,I.onLinkClick)(X,(function(e){Q(e)}),(function(){M.default.mobileOrTablet()||window.open((0,I.getUrl)(X),"_blank")}))},ne=(0,b.default)((t={},(0,p.default)(t,S.default.main,!0),(0,p.default)(t,S.default._mobile,M.default.mobileOrTablet()),(0,p.default)(t,S.default._client,!N),(0,p.default)(t,S.default._preview,V),(0,p.default)(t,S.default["_".concat(J)],!0),t)),ae=(0,b.default)((n={},(0,p.default)(n,S.default.iconUpload,!0),(0,p.default)(n,S.default.iconLoading,!0),n)),ie=(0,b.default)((a={},(0,p.default)(a,S.default.mediaComplete,!0),(0,p.default)(a,S.default._agent,N),a));return v.default.createElement(B,{messages:i,isPreview:V},v.default.createElement("jdiv",{className:ne,title:P},V?function(e){var t,n=l,a=n.body,i=n.body.thumb||n.body.file,r=(0,I.getSize)(a),o=(0,I.isFileGif)(a.mime_type);(0,I.isNewMedia)(i)&&a.thumb&&(a.width&&a.width<209&&(r.width=a.width,r.height=null),i=(0,h.default)(t="".concat(n.body.file,"?thumb&width=")).call(t,r.width||209));var u;return v.default.createElement("jdiv",{className:I.isAgentMessage?S.default.clientMediaWrapper:S.default.mediaWrapper},v.default.createElement("a",{className:S.default.previewLink,href:l.body.file,title:e,target:"_blank",rel:"nofollow noopener noreferrer"},G?null:function(){if(L.warn("renderImg",j),j!=x.MessageStatus.EXPIRED)return v.default.createElement("img",{width:r.width,height:r.height,onLoad:function(){},src:i,title:e,className:S.default.previewMediaPhoto,loading:"lazy",ref:d,onError:function(){Q(401)}})}(),o?v.default.createElement("jdiv",{className:S.default.overlayText},"GIF"):null,$()),o&&Y?v.default.createElement("jdiv",{className:S.default.playIcon,onClick:function(e){e.preventDefault(),d&&d.current&&(d.current.src=n.body.file,Z(!1))},ref:f}):null,G?(u=l.body.thumb,v.default.createElement("video",{controls:!0,width:"250",preload:u?"none":null,poster:u||null,title:l.body.file_name,ref:y,onError:u?function(e){}:null},v.default.createElement("source",{src:l.body.file,onError:function(e){L.warn("Video error",e),Q(404)}}),"Video is not supported.")):null)}(z):null,!V&&v.default.createElement("jdiv",null,v.default.createElement("jdiv",{className:S.default.mediaIcon,onClick:function(){ee((0,E.default)("file_upl_cancel"),x.MediaStatus.ERROR)},style:{cursor:F?"pointer":"default"}},v.default.createElement("jdiv",{className:S.default.loaderCont,style:{display:F?"block":"none"},ref:c},v.default.createElement(O.default,{color:J,loaderBarStyle:S.default.loaderBar}),v.default.createElement(C.default,{color:(0,I.getIconColor)(J),iconName:"icon-cancel",className:ae})),v.default.createElement("jdiv",null,!U&&v.default.createElement(C.default,{color:(0,I.getIconColor)(J),iconName:"icon-".concat(l.body.type),className:(0,b.default)((0,p.default)({},S.default.iconUpload,U?"none":"block")),style:{display:H?"block":"none"}}),!N&&v.default.createElement(C.default,{color:(0,I.getIconColor)(J),iconName:"icon-error",className:S.default.iconError,style:{display:U?"block":"none"}}))),v.default.createElement("jdiv",{className:S.default.mediaText},v.default.createElement("jdiv",{className:S.default.mediaFname,title:z},z),F?v.default.createElement("jdiv",{className:S.default.mediaPerc},u?v.default.createElement(v.default.Fragment,null,(0,A.humanFileSize)(s)||"0"," /"," ",(0,A.humanFileSize)(u)||""):null):null,U?v.default.createElement("jdiv",{className:S.default.mediaComplete},l.body.error):null,H?v.default.createElement("jdiv",{className:ie},(0,A.humanFileSize)(u)," ",v.default.createElement("a",{href:X,onClick:function(e){M.default.mobileOrTablet()||(e.preventDefault(),te())},onTouchStart:function(e){te()},target:"_blank",rel:"noopener noreferrer"},(0,E.default)("file_upl_download"))):null),$())))}L.warn("bad url")}else L.error("no message or body",l,i[0])};P.propTypes={messages:y.default.array,messagePrivateId:y.default.string,status:y.default.string,bubbleColor:y.default.string};var B=(0,_.connect)((function(e){return{bubbleColor:e.settings.user.bubbleColor}}),{})(P);t.default=B},60822:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=a(n(45697)),o=n(49485),l=function(e){var t=e.color,n=void 0===t?"green":t,a=e.loaderBarStyle;return i.default.createElement(i.default.Fragment,null,i.default.createElement("svg",{width:"42",height:"42",viewPort:"0 0 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("circle",{r:"18",cx:"21",cy:"21",fill:"#ffffff",strokeDasharray:"119.38",strokeDashoffset:"0"}),i.default.createElement("circle",{className:a,r:"18",cx:"21",cy:"21",fill:"transparent",stroke:(0,o.getCircleColor)(n),strokeDasharray:"119.38",strokeDashoffset:"0"})))};l.propTypes={color:r.default.string,loaderBarStyle:r.default.string};var u=i.default.memo(l);t.default=u},49485:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.setSvgProgress=t.formatOldMedia=t.getApiHost=t.isFileGif=t.isVideo=t.isPreviewImage=t.getUrl=t.onLinkClick=t.isNewMedia=t.isAgentMessage=t.getSize=t.getCircleColor=t.getIconColor=t.calculateAspectRatio=void 0;var i=a(n(78580)),r=n(53172),o=n(57018),l=n(8565),u=a(n(58061)),s=n(94515),c=n(56602),d=n(8565),f=a(n(9669)),p=a(n(75043)).default.name("MediaHelpers"),h=function(e,t,n,a){var i=Math.min(n/e,a/t);return{width:(e*i).toFixed(),height:(t*i).toFixed()}};t.calculateAspectRatio=h;t.getIconColor=function(e){switch(e){case"blue":return"#0b82f7";case"grey":return"#445669";default:return"#18c139"}};t.getCircleColor=function(e){switch(e){case"blue":return"#086bcd";case"grey":return"#303f4e";default:return"#12a730"}};t.getSize=function(e){var t={width:null,height:null};if(e.width&&e.width>o.MAX_IMAGE_WIDTH){var n=h(e.width,e.height,o.MAX_IMAGE_WIDTH,500);return t.width=n.width,t.height=n.height,t}return t.width=e.width,t.height=e.height,t};t.isAgentMessage=function(e){return e.from===l.MessageInitiator.AGENT||e.type===l.MessageType.PROACTIVE};t.isNewMedia=function(e){return!(!(0,i.default)(e).call(e,"https://media")||!(0,i.default)(e).call(e,"jivosite.com"))};t.onLinkClick=function(e,t,n){return f.default.head(e).then((function(){return p.warn("File is ok"),n&&n(),!0})).catch((function(e){return p.error("File is unavaiable",e.response),t&&e.response&&t(e.response.status),!1})),!1};t.getUrl=function(e){return u.default.mobileOrTablet()&&u.default.chromeIOS()?e.replace(/^https?:\/\//i,"googlechrome://"):e};t.isPreviewImage=function(e){if(!e)return!1;var t=e.toLowerCase();return/\.(gif|jpg|jpeg|png|webp)$/i.test(t)};t.isVideo=function(e){return!!e&&/(video\/)/i.test(e.toLowerCase())};t.isFileGif=function(e){if(!e)return!1;var t=e.toLowerCase();return/\.(gif)|\/(gif)$/i.test(t)};t.getApiHost=function(){var e=(0,r.getSystemSettings)().apiHost,t=(0,r.getSystemSettings)().baseUrl;if(s.EnvironmentManager.isProduction())return"https://api.jivosite.com";var n=e?e.replace("code",""):"api"+t.replace("//code","");return(0,c.getProtocol)()+"//"+n};t.formatOldMedia=function(e){return e.name&&(e.file_name=e.name),e.icon_type&&(e.mime_type=e.type,e.type=e.icon_type),e.status||(e.status=e.error?d.MediaStatus.ERROR:d.MediaStatus.COMPLETE),e};t.setSvgProgress=function(e,t,n,a){if(n&&t&&t.current){var i=(a/n*100).toFixed(0),r=t.current.getElementsByTagName("circle")[1];if(e&&(i=100),isNaN(i))r.style.strokeDashoffset=1;else if(r){var o=r.getAttribute("r"),l=(100-i)/100*(Math.PI*(2*o));r.style.strokeDashoffset=l}}}},17031:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(54943)),u=a(n(2991)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(68205)),m=a(n(45127)),v=a(n(95705)),_=a(n(72961)),y=n(76822);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var E=function(e){(0,d.default)(n,e);var t=b(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n,[{key:"isAgentMessage",value:function(){return!0}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement(g.default,{messages:this.props.messages},h.default.createElement("jdiv",t.main,(0,u.default)(n=this.props.messages).call(n,(function(e,n){var i=(0,m.default)(e.get("created_ts"),"dd.mm.yy H:MM:ss"),r=a.formatText(e.get("text")),u=(0,y.checkAlone)(e.get("text")),s=(0,l.default)(t.message);return u?s.className+=" "+v.default._alone:s=t.message,h.default.createElement("jdiv",(0,o.default)({},s,{title:i,key:n}),h.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:r}})))}))))}}]),n}(_.default);t.default=E},87526:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5872)),o=i(n(47302)),l=i(n(18777)),u=a(n(59748)),s=i(n(45697)),c=i(n(75119)),d=n(8565),f=n(75245),p=n(33367),h=n(63242),g=function(e){var t=e.message,n=e.styles,a=e.messagesStore,i=(0,u.useState)(t.get("status")),s=(0,l.default)(i,2),g=s[0],m=s[1];return g==d.MessageStatus.SENT?u.default.createElement("jdiv",n.error,"..."):u.default.createElement("jdiv",n.error,(0,c.default)("error_send"),","," ",u.default.createElement("jdiv",(0,r.default)({},n.resend,{onClick:function(){m(d.MessageStatus.SENT),f.messageActions.sendClientMessage(t.get("text"),t.get("private_id")),t.set("created_ts",(new Date).getTime()),(0,o.default)(a).call(a),t.set("status",d.MessageStatus.SENT),a.trigger("update"),p.Monitoring.telemetry(h.TelemetryName.RESEND_CLICK)}}),(0,c.default)("error_resend")))};g.propTypes={message:s.default.any,styles:s.default.any,messagesStore:s.default.any};var m=u.default.memo(g);t.default=m},28412:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=a(n(72961)),o=a(n(12090)),l=n(53172),u=a(n(8704)),s=i.default.memo((function(e){if(e.messages&&e.messages[0]){var t=e.messages[0];if(t.get("body")&&t.get("body").type){if((0,l.getFeatures)().enableMediaSevice){var n=t.toJSON();return i.default.createElement(u.default,{message:n,status:n.body.status})}return i.default.createElement(o.default,e)}return i.default.createElement(r.default,e)}}));t.default=s},72961:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(2991)),l=a(n(5872)),u=a(n(87672)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(62904)),v=a(n(90140)),_=a(n(43738)),y=a(n(68806)),b=a(n(58061)),E=a(n(45127)),C=n(76822),T=a(n(94184)),w=a(n(75119)),S=n(8565),k=a(n(95705)),I=a(n(96747)),A=n(66481),M=n(53172),x=a(n(87526)),R=a(n(99357));function O(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var N=function(e){(0,d.default)(n,e);var t=O(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={lineHeight:b.default.ios()?y.default.getLineHeight():null,alone:!1},a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;y.default.listenChangeZoom((function(){e.setState({lineHeight:b.default.ios()?y.default.getLineHeight():null})}))}},{key:"getRenderData",value:function(){var e,t=m.default.bubble_color||"green";return{styles:{main:[(0,u.default)({main:!0,__mobile:b.default.mobileOrTablet()},this.isAgentMessage()?"__agent":"__client",!0)],message:[(e={message:!0},(0,u.default)(e,"_"+t,!0),(0,u.default)(e,"_alone",this.state.alone),e),{lineHeight:this.state.lineHeight}],text:[{text:!0},{lineHeight:this.state.lineHeight}],error:[{sendErrorMessage:!0}],resend:[{resend:!0}]},style:k.default,data:{color:t}}}},{key:"isAgentMessage",value:function(){var e=this.props.messages[0].toJSON();return e.from===S.MessageInitiator.AGENT||"bot"===e.from||e.type===S.MessageType.PROACTIVE}},{key:"isBotMessage",value:function(){return"bot"===this.props.messages[0].toJSON().from}},{key:"formatText",value:function(e){return(0,C.formatText)(e,this.props.messages)}},{key:"renderText",value:function(e,t,n,a){return a?this.renderMarkdown(e,t,n):h.default.createElement(h.default.Fragment,null,t?h.default.createElement("jdiv",n.text,h.default.createElement("jdiv",{className:k.default.withEditText,dangerouslySetInnerHTML:{__html:e}}),t):h.default.createElement("jdiv",(0,l.default)({},n.text,{dangerouslySetInnerHTML:{__html:e}})))}},{key:"renderMarkdownText",value:function(e){var t=this.props.messages[0].toJSON();return t.body&&t.body.customerIO?h.default.createElement(I.default,{text:e,onLinkClick:function(){(0,A.sendUrlClickTelemetry)()}}):h.default.createElement(I.default,{text:e})}},{key:"renderMarkdown",value:function(e,t,n){return h.default.createElement("jdiv",n.text,t?h.default.createElement(h.default.Fragment,null,h.default.createElement("jdiv",{className:k.default.withEditText},this.renderMarkdownText(e)),t):this.renderMarkdownText(e))}},{key:"renderError",value:function(e,t,n){var a=!(0,M.getClient)().isIntroduced&&!(0,M.getApp)().isOnline;if(!this.isAgentMessage()&&t&&!a)return h.default.createElement(x.default,{message:n,styles:e,messagesStore:R.default})}},{key:"renderData",value:function(e,t){var n,a=this,i=this.props.messages[0].isAgentMessage()?v.default:_.default;return h.default.createElement(i,{messages:this.props.messages},h.default.createElement("jdiv",t.main,(0,o.default)(n=this.props.messages).call(n,(function(n,i){var r,o=n.get("body"),l=o&&o.customerIO,s=o&&o.is_markdown,c=o&&"listpicker"==o.type,d=a.isBotMessage()&&s||l,f=d?n.get("text"):a.formatText(n.get("text"));c&&(f=o.text||o.title);var p=(0,C.checkAlone)(n.get("text")),g=n.get("from")===S.MessageInitiator.CLIENT,m=n.get("status")===S.MessageStatus.DELETED,v=n.get("status")===S.MessageStatus.NOT_DELIVERED,_=n.get("updated_ts"),y=(0,E.default)(_||n.get("created_ts"),"dd.mm.yy H:MM:ss"),b=(0,T.default)((r={},(0,u.default)(r,k.default.message,!0),(0,u.default)(r,k.default["_"+e.color],!0),(0,u.default)(r,k.default.__alone,p),(0,u.default)(r,k.default.__client,g),(0,u.default)(r,k.default.__deleted,m),r)),I=_&&!m?h.default.createElement("jdiv",{className:k.default.editedText,title:y},"(",(0,w.default)("messageEdit"),")"):null;return h.default.createElement(h.default.Fragment,{key:i},h.default.createElement("jdiv",{className:b,title:y,key:i},m?h.default.createElement("jdiv",t.text,(0,w.default)("messageDeleted")):a.renderText(f,I,t,d),h.default.createElement("jdiv",{className:k.default.time},(0,E.default)(_||n.get("created_ts"),"H:MM"))),a.renderError(t,v,n))}))))}}]),n}(g.default);t.default=N},45423:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(2991)),l=a(n(33032)),u=a(n(26394)),s=a(n(69198)),c=a(n(5824)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(59748)),m=a(n(60021)),v=a(n(62904)),_=a(n(75119)),y=a(n(62107)),b=a(n(77244)),E=n(75245),C=n(33367),T=n(63242),w=n(92097),S=a(n(44992)),k=a(n(40695)),I=n(17674),A=n(85442),M=a(n(45808)),x=n(21224),R=n(70669),O=a(n(58061)),N=n(81189),D=n(56602),L=a(n(70602));function P(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}a(n(75043)).default.name("PrechatMessage");var B=function(e){(0,d.default)(n,e);var t=P(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={hide:!(!O.default.mobileOrTablet()||(0,D.isChatPage)()),phases:a.getPhases()},a.subscribe("updatePrechatText",(function(e){a.setState({phases:a.getPhases(e)})})),M.default.set(x.Component.PRECHAT,(0,c.default)(a)),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this;(0,l.default)((function(){e.setState({hide:!1})}),500)}},{key:"getPhases",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(v.default.options||v.default.enable_prechat){var t=[],n=y.default.sortBy(e||v.default.prechat,"id"),a=3;a=n.length?n.length:3;for(var i=0;i<a;i++){var r=i+1,o=0===i?"":r,l=r<=3?(0,_.default)("prechatText".concat(o)):null;n&&n[i]&&n[i].text&&(l=n[i].text),l&&t.push({id:r,text:l})}return t}}},{key:"sendPhrase",value:function(e,t,n){e.preventDefault(),(0,w.prechatSetUsed)(!0),I.Router.needToShowIntroduceForm()?(N.clientDispatchers.setLastMessage(t),I.Router.next(A.RouterEvent.ToIntroduce)):(E.messageActions.sendClientMessage(t),S.default.play("outgoing_message"),O.default.mobileOrTablet()||(0,R.afterEmojiInserted)()),this.setState({hide:!0}),C.Monitoring.telemetryOnce(T.TelemetryName.PRECHAT,{param1:n,param2:v.default.locale}),k.default.trackPrechatClick(n)}},{key:"replaceEmoji",value:function(e){return b.default.replace(e,(function(e){var t=b.default.toCodePoint(e),n=document.createElement("jdiv");return g.default.render(h.default.createElement(b.default,{icon:t,alone:!1,className:"emojiMessages"}),n),n.childNodes[0].outerHTML}))}},{key:"formatText",value:function(e){return e=y.default.escape(e),e=this.replaceEmoji(e),v.default.disable_emoji||this.replaceEmoji(e),e}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__hide:this.state.hide}]},style:L.default}}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement("jdiv",t.main,(0,o.default)(n=this.state.phases).call(n,(function(e,t){return h.default.createElement("jdiv",{className:L.default.button,onPointerDown:function(n){n.preventDefault(),a.sendPhrase(n,e.text,t+1)},onTouchStart:function(n){n.preventDefault(),O.default.isPointerEnabled()||a.sendPhrase(n,e.text,t+1)},dangerouslySetInnerHTML:{__html:a.formatText(e.text)},key:t})})))}}]),n}(m.default);t.default=B},76644:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),p=a(n(96586)),h=a(n(45127)),g=a(n(75119));function m(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,l.default)(n,[{key:"render",value:function(e,t){var n,a=this.props.messages[0].time,i=new Date(a),r=new Date;return n=i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()?i.getDate()===r.getDate()?(0,g.default)("today"):i.getDate()===r.getDate()-1?(0,g.default)("yesterday"):(0,h.default)(a,"dd.mm.yyyy"):(0,h.default)(a,"dd.mm.yyyy"),d.default.createElement("jdiv",{className:p.default.main},n)}}]),n}(f.default);t.default=v},22620:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(62904)),p=a(n(75043)),h=a(n(58061)),g=a(n(6991)),m=a(n(73796));function v(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}p.default.name("SocialMessage");var _=function(e){(0,u.default)(n,e);var t=v(n);function n(e){var a;(0,o.default)(this,n),a=t.call(this,e);var i=g.default.getSocial();return g.default.isLoginned()&&(a.state={vk:i.vk,fb:i.fb,mode:i.mode}),a}return(0,l.default)(n,[{key:"componentWillMount",value:function(){f.default.joint&&!h.default.mobileOrTablet()||3!=f.default.contacts_ask||this.setState({mode:"email"})}},{key:"render",value:function(){if(this.props.messages&&this.state.mode)return d.default.createElement(m.default,{mode:this.state,classes:this.props.classes})}}]),n}(d.default.Component);t.default=_},32180:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(77766)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(59748)),h=a(n(72961)),g=a(n(75119)),m=n(56602),v=a(n(62904)),_=a(n(58061)),y=a(n(68806)),b=a(n(8282)),E=a(n(61604));function C(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var T=function(e){(0,c.default)(n,e);var t=C(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).message=e.messages[0].toJSON(),a.state={agentInfo:a.getAgentInfo()},a}return(0,s.default)(n,[{key:"getAgentInfo",value:function(){return b.default.getAgentById(this.message.body.from_id)}},{key:"componentDidMount",value:function(){var e=this;b.default.on("update",(function(){e.setState({agentInfo:e.getAgentInfo()})}))}},{key:"getRenderData",value:function(){var e=this.state.agentInfo,t=(0,g.default)("chat_agent_"+this.message.body.action).replace("_AGENT_",e.get("display_name"));return{styles:{main:[{main:!0,_mobile:_.default.mobile()}],text:[{text:!0},{"-webkit-text-size-adjust":_.default.ios()?y.default.getTextSize():null}],avatar:[{avatar:!0}],img:[{img:!0}]},style:E.default,data:{text:t}}}},{key:"renderAvatar",value:function(e){var t,n,a=this.state.agentInfo.get("avatar_url"),i=!!a&&(0,l.default)(t=(0,l.default)(n="".concat((0,m.getProtocol)())).call(n,v.default.avatar_url,"/avatars/")).call(t,a);return i?p.default.createElement("jdiv",(0,o.default)({},e.img,{style:{backgroundImage:"url(".concat(i,")")}})):""}},{key:"renderData",value:function(e,t){return p.default.createElement("jdiv",t.main,"join"===this.message.body.action?p.default.createElement("jdiv",t.avatar,this.renderAvatar(t)):"",p.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:this.formatText(e.text)}})))}}]),n}(h.default);t.default=T},62143:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(87672)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(60021)),h=a(n(68930)),g=a(n(58061)),m=a(n(58165)),v=a(n(68806));function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=_(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).state={textSize:v.default.getTextSize()},a}return(0,u.default)(n,[{key:"getRenderData",value:function(){var e=this.props.messages[0].toJSON(),t=g.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{};return{data:{icon:e.body.name+"Icon"},styles:{main:[(0,o.default)({main:!0,__mobile:g.default.mobileOrTablet()},"__"+e.body.name,!0)],text:[{text:!0,__mobile:g.default.mobileOrTablet()},t]},style:h.default}}},{key:"renderData",value:function(e,t){var n=this.props.messages[0].get("text");return f.default.createElement("jdiv",t.main,f.default.createElement("jdiv",t.text,f.default.createElement(m.default,{iconName:e.icon,className:h.default.callIcon}),n.replace("<br>"," ")))}}]),n}(p.default);t.default=y},54280:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),p=a(n(62143)),h=a(n(33701)),g=a(n(32180));function m(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e,t=this.props.messages[0].get("body");return e=t&&"call"===t.type?p.default:t&&"chat"===t.type?g.default:h.default,d.default.createElement(e,{messages:this.props.messages})}}]),n}(f.default);t.default=v},33701:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(72961)),h=a(n(51407)),g=a(n(58061)),m=a(n(68806)),v=a(n(45127)),_=n(8565),y=n(56602);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var E=function(e){(0,s.default)(n,e);var t=b(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"getRenderData",value:function(){var e=this.props.messages[0].toJSON(),t={main:!0,__mobile:g.default.mobileOrTablet()||(0,y.isChatPage)()};e.body&&e.body.type&&"text"!==e.body.type&&(t["__"+e.body.type]=!0);var n=e.type===_.MessageType.PREFORM;return{styles:{main:[t],text:[{text:!0,__bot:n},{"-webkit-text-size-adjust":g.default.ios()?m.default.getTextSize():"none",lineHeight:g.default.ios()?m.default.getLineHeight():null}]},style:h.default,data:{isBot:n,message:e}}}},{key:"renderData",value:function(e,t){var n=(0,v.default)(e.message.created_ts,"dd.mm.yy H:MM:ss");return f.default.createElement("jdiv",(0,o.default)({},t.main,{title:n}),f.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:this.formatText(this.props.messages[0].get("text"))}})))}}]),n}(p.default);t.default=E},29832:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=a(n(45697)),o=a(n(75119)),l=a(n(90140)),u=a(n(62904)),s=i.default.lazy((function(){return n.e(772).then(n.t.bind(n,54497,7))})),c=function(e){var t=e.messages;return u.default.enable_webrtc_calls?i.default.createElement(l.default,{messages:t},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("jdiv",null,(0,o.default)("cb_loading"))},i.default.createElement(s,{message:t[0]}))):null};c.propTypes={messages:r.default.any};var d=i.default.memo(c);t.default=d},50380:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var p=a(n(87672)),h=a(n(26394)),g=a(n(69198)),m=a(n(51379)),v=a(n(214)),_=a(n(66380)),y=a(n(59748)),b=n(26213),E=a(n(45697)),C=a(n(48938)),T=a(n(58061)),w=a(n(68806)),S=a(n(90362)),k=a(n(91505)),I=a(n(52673)),A=a(n(1330)),M=a(n(5777)),x=n(17674),R=n(85442),O=n(56602),N=n(33149),D=a(n(94184)),L=n(20965),P=n(37916),B=a(n(47321));function j(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=j(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=j(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,_.default)(e);if(t){var i=(0,_.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,v.default)(this,n)}}var U=a(n(75043)).default.name("MobileContainer"),W=function(e){(0,m.default)(n,e);var t=H(n);function n(e){var a;return(0,h.default)(this,n),(a=t.call(this,e)).showState=!1,a.state=F({},(0,N.getCoordinates)()),a._zoomOverlay=null,a}return(0,g.default)(n,[{key:"componentDidMount",value:function(){var e=this;U.log("mount");var t=function(){e.setState(F({},(0,N.getCoordinates)()))};(0,O.addListener)((0,O.getPageWindow)(),"resize",t),w.default.listenChangeZoom(t)}},{key:"componentDidUpdate",value:function(){this.props.route===R.Route.LABEL||T.default.tablet()&&this.props.route===R.Route.MOBILE_MENU||this.props.route===R.Route.HIDDEN?w.default.unblockSite():w.default.blockSite()}},{key:"renderMenuContainer",value:function(){return T.default.tablet()?null:y.default.createElement(M.default,{allowedRoutes:[R.Route.MOBILE_MENU],currentRoute:this.props.route,name:"OmniMenuContainer"},y.default.createElement(A.default,{overlay:!0,onCancelClick:function(e){x.Router.next(R.RouterEvent.CloseWindow)}}))}},{key:"renderLandscapeOverlay",value:function(){return(0,N.shouldRenderLandscapeOverlay)(this.props.route,this.state.landscapeMode)?y.default.createElement(I.default,{onPointerDown:function(){x.Router.next(R.RouterEvent.CloseWindow)},landscape:!0,isPointer:T.default.isPointerEnabled()}):null}},{key:"renderZoomOverlay",value:function(){return(0,N.shouldRenderZoomOverlay)(this.props.route)?y.default.createElement(k.default,null):null}},{key:"renderWidgetContainer",value:function(){var e,t=this,n=P.CallbackUtils.isCallbackEnabled();return y.default.createElement(M.default,{allowedRoutes:(0,N.getAllowedRoutes)(),currentRoute:this.props.route,name:"MobileWidgetContent"},y.default.createElement("jdiv",{className:(0,D.default)((e={},(0,p.default)(e,C.default.mobileContainer,!0),(0,p.default)(e,C.default.__tablet,T.default.tablet()||T.default.desktop()&&(0,O.isChatPage)()),e)),style:{zoom:(0,O.isChatPage)()?null:(0,N.getZoom)(this.props.zoom),zIndex:2147483647,"-webkit-text-size-adjust":T.default.ios()?w.default.getTextSize():null}},y.default.createElement(S.default,{needRenderCloseBtn:!1,needRenderCallContainer:n,needRenderDrag:!1,showCloseButton:!0,showHeaderText:!0,showBody:!0,callbackEnabled:this.props.callbackEnabled,route:this.props.route,onCloseButtonClick:function(){B.default.closeWidget(),t.props.callbackStatus===L.CallStatus.CONNECTED&&x.Router.next(R.RouterEvent.CloseWindow)}})))}},{key:"render",value:function(){return y.default.createElement(y.default.Fragment,null,this.renderWidgetContainer(),this.renderLandscapeOverlay(),this.renderZoomOverlay(),this.renderMenuContainer())}}]),n}(y.default.PureComponent);W.propTypes={chat:E.default.bool,tabletMenu:E.default.bool,callbackEnabled:E.default.bool,route:E.default.string,position:E.default.any,padding:E.default.string,callbackStatus:E.default.oneOfType([E.default.string,E.default.bool]),mobileOrientation:E.default.string,zoom:E.default.number};var z=(0,b.connect)((function(e){return{padding:e.settings.user.widgetPadding,mobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,zoom:e.zoom.app}}),{})(W);t.default=z},33149:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getAllowedRoutes=t.shouldRenderLandscapeOverlay=t.shouldRenderZoomOverlay=t.getZoom=t.getCoordinates=void 0;var i=a(n(81643)),r=a(n(68806)),o=n(56602),l=a(n(58061)),u=n(85442);t.getCoordinates=function(){return{landscapeMode:"landscape"===r.default.getOrientation()}};t.getZoom=function(e){return(0,o.isWixContext)()?1:e};t.shouldRenderZoomOverlay=function(e){return!(0,o.isWixContext)()&&e!==u.Route.HIDDEN};t.shouldRenderLandscapeOverlay=function(e,t){var n,a=-1!==(0,i.default)(n=[u.Route.HIDDEN,u.Route.LABEL]).call(n,e);return!(l.default.tablet()||!t||a)};t.getAllowedRoutes=function(){return[u.Route.CHAT,u.Route.CHAT_CALL,u.Route.CHAT_EULA,u.Route.CHAT_EVAL,u.Route.CHAT_INTRODUCE,u.Route.CHAT_SOCIAL,u.Route.CHAT_MIN,u.Route.DEPARTMENTS,u.Route.INTRODUCE,u.Route.CALL,u.Route.CALL_EULA,u.Route.DEPARTMENTS,u.Route.INTRODUCE,u.Route.DEBUG,u.Route.CHAT_SETUP_CALL]}},6746:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(1068);r(t,"__esModule",{value:!0}),t.default=void 0;var l=i(n(5872)),u=i(n(54103)),s=i(n(77766)),c=i(n(33032)),d=i(n(26394)),f=i(n(69198)),p=i(n(51379)),h=i(n(214)),g=i(n(66380)),m=i(n(59748)),v=i(n(60021)),_=i(n(62904)),y=i(n(68927)),b=n(56602),E=i(n(6991)),C=n(33367),T=n(63242),w=n(57018),S=a(n(58165)),k=n(70645),I=n(83093),A=i(n(58061));function M(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(o(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=o(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}i(n(75043)).default.name("MobilePopup");var x=function(e){(0,p.default)(n,e);var t=M(n);function n(e){var a;return(0,d.default)(this,n),(a=t.call(this,e)).state={agent:a.props.agent,text:a.props.text,fade:!1,textHeight:0,imUrl:!1},a._move=!1,a}return(0,f.default)(n,[{key:"componentDidMount",value:function(){if(E.default.ifIMessageEnabled()){var e=E.default.getJoints();this.setState({imUrl:e.links.imUrl})}this.updateIcon()}},{key:"updateIcon",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0},(function(){(0,c.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}))}},{key:"renderAvatar",value:function(e){var t,n;if(!this.props.popup)return null;var a=this.props.popup.agent,i=a.avatar_url,r=!!a.bot_id&&(0,S.getSvgBgIcon)("iconBot"),o=i?(0,s.default)(t=(0,s.default)(n="".concat((0,b.getProtocol)())).call(n,_.default.avatar_url,"/avatars/")).call(t,i):r,l=o?{backgroundImage:"url(".concat(o,")")}:{};return m.default.createElement("jdiv",e.avatar,m.default.createElement("jdiv",{className:y.default.avatarImg,style:l}),m.default.createElement("jdiv",e.agentName,a.display_name))}},{key:"openImessage",value:function(e){var t=this;(0,c.default)((function(){t.setState({fade:!0}),t.props.onClose&&t.props.onClose(e)}),300),C.Monitoring.telemetry(T.TelemetryName.POWERBUTTON_OPEN+"im")}},{key:"renderImOverlay",value:function(){var e=this;if(this.state.imUrl)return m.default.createElement("a",{className:y.default.imOverlay,href:this.state.imUrl,target:"_blank",rel:"nofollow noopener noreferrer",onPointerUp:function(t){e.openImessage(t)},onTouchStart:function(t){A.default.isPointerEnabled()||e.openImessage(t)}})}},{key:"getRenderData",value:function(){var e=this.props.popup&&this.props.popup.text.length<w.PROACTIVE_TEXT_LIMIT,t="left"===_.default.widget_mobile_orientation;return{styles:{popup:[{popup:!0,__show:this.props.show,__left:t}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!0,__short:e,__longText:this.state.textHeight>w.PROACTIVE_MAX_HEIGHT,__left:t}],popupAnim:[{popupAnim:!0,__show:!this.state.fade&&this.props.show}],text:[{text:!0}],textBox:[{textBox:!0}],agentName:[{agentName:!0}]},style:y.default,data:{text:this.props.popup?this.props.popup.text:null}}}},{key:"onOpenChat",value:function(e){var t=this;this.setState({fade:!0},(function(){(0,c.default)((function(){t.props.onOpen(e,"popup")}),300)}))}},{key:"preventEvent",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"renderData",value:function(e,t){var n,a,i=this;return m.default.createElement("jdiv",t.popup,m.default.createElement("jdiv",(0,l.default)({},t.popupBlock,{onClick:this.preventEvent,onTouchStart:this.preventEvent}),m.default.createElement("jdiv",(0,l.default)({},t.popupAnim,{onPointerUp:function(e){i.state.imUrl||(e.preventDefault(),e.stopPropagation(),i.onOpenChat(e))},onPointerDown:(0,u.default)(n=this.preventEvent).call(n,this),onTouchStart:function(e){i.state.imUrl||A.default.isPointerEnabled()||(e.preventDefault(),i.onOpenChat(e))}}),this.renderImOverlay(),this.renderAvatar(t),m.default.createElement("jdiv",(0,l.default)({className:y.default.closeBlock,onPointerUp:(0,u.default)(a=this.closePopup).call(a,this),onTouchStart:function(e){A.default.isPointerEnabled()||(e.preventDefault(),i.closePopup(e))}},(0,k.withLocator)(I.Locator.MOBILE_POPUP_CLOSE_BUTTON)),m.default.createElement(S.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:y.default.closePopupIcon})),m.default.createElement("jdiv",t.text,m.default.createElement("jdiv",(0,l.default)({},t.textBox,{dangerouslySetInnerHTML:{__html:e.text},ref:function(e){i._popupText=e}}))),this.state.textHeight>w.PROACTIVE_MAX_HEIGHT?m.default.createElement("jdiv",{className:y.default.moreIcon,style:{backgroundImage:"url(".concat((0,S.getSvgBgIcon)("icon-more","#a3aab5"),")")}}):null)))}}]),n}(v.default);t.default=x},57371:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.MoreButton=void 0;var r=i(n(87672)),o=a(n(59748)),l=i(n(45697)),u=i(n(94184)),s=n(63465),c=i(n(58061)),d=i(n(58165)),f=i(n(45808)),p=n(21224),h=i(n(75043)),g=i(n(98513)),m=(h.default.name("MoreButton"),function(e){var t,n,a=e.show,i=e.showBadge,l=void 0!==i&&i,h=e.color,m=e.onClick,v=(0,o.useRef)(null);(0,o.useLayoutEffect)((function(){v.current&&f.default.set(p.Component.MORE_BUTTON,v.current)}));var _=(0,u.default)((t={},(0,r.default)(t,g.default.moreBox,!0),(0,r.default)(t,g.default.__mobile,c.default.mobileOrTablet()),(0,r.default)(t,g.default.__show,a),t)),y=(0,u.default)((n={},(0,r.default)(n,g.default.__show,l),(0,r.default)(n,g.default.moreBadge,!0),n));return o.default.createElement("jdiv",{className:_,onClick:m,ref:v},o.default.createElement(d.default,{iconName:"icon-v",color:"#cccccc",color2:"#0b82f7",hoverColor:(0,s.getThemeColor)(h),className:g.default.moreBtn}),o.default.createElement("jdiv",{className:y}))});t.MoreButton=m,m.propTypes={show:l.default.bool.isRequired,showBadge:l.default.bool,color:l.default.string,onClick:l.default.func};var v=m;t.default=v},73395:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(5872)),r=a(n(2991)),o=a(n(59748)),l=a(n(29947)),u=a(n(94184)),s=a(n(45697)),c=a(n(52673)),d=a(n(12958)),f=a(n(49800)),p=a(n(67345)),h=function(e){var t=e.buttons,n=e.isLandscape,a=e.overlay,s=e.onOverlayClick,h=e.title,g=e.onCancelClick,m=e.cancelButton,v=e.copyright,_=e.copyrightLink,y=e.copyrightIcon,b=e.device,E=e.isPointer,C=e.zoom,T=e.textZoom;if(0===t.length)return null;var w="tablet"!==b?{zoom:C,"-webkit-text-size-adjust":T}:null;return o.default.createElement("jdiv",{className:(0,u.default)(l.default.wrap,l.default[b]),style:w},!a||n?null:o.default.createElement(c.default,{onPointerDown:s,landscape:n,isPointer:E}),o.default.createElement("jdiv",{className:l.default.menuWrap},v?o.default.createElement(p.default,{url:_,icon:y}):null,o.default.createElement("jdiv",{className:l.default.menu},h?o.default.createElement("jdiv",{className:l.default.menuTitle},h):null,(0,r.default)(t).call(t,(function(e,t){return o.default.createElement(d.default,(0,i.default)({},e,{key:t,isPointer:E,afterLinkClick:g}))}))),m?o.default.createElement(f.default,{onClick:g,device:b,isPointer:E}):null))},g=h.propTypes={buttons:s.default.arrayOf(s.default.any),copyright:s.default.bool,copyrightLink:s.default.string,copyrightIcon:s.default.string,isLandscape:s.default.bool,onOverlayClick:s.default.func,cancelButtonText:s.default.string,cancelButton:s.default.bool,device:s.default.string,isPointer:s.default.bool,onCancelClick:s.default.func,overlay:s.default.bool,zoom:s.default.number,textZoom:s.default.string};t.componentProps=g;var m=o.default.memo(h);t.default=m},12958:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(42173)),l=a(n(45697)),u=a(n(58165)),s=a(n(94184)),c=a(n(75043)).default.name("OmniButton"),d=function(e){var t=e.url,n=e.onClick,a=e.trackId,l=e.iconName,d=e.title,f=e.titleColor,p=e.iconColor,h=e.device,g=e.forceIcon,m=e.isPointer,v=e.afterLinkClick,_=function(){var e;return r.default.createElement("jdiv",{className:(0,s.default)(o.default.wrap,o.default[h])},r.default.createElement(u.default,{iconName:l,className:(0,s.default)((e={},(0,i.default)(e,o.default.icon,!0),(0,i.default)(e,o.default.forceIcon,g),e)),color:p}),r.default.createElement("jdiv",{className:o.default.title,style:f?{color:f}:null},d))};return t?r.default.createElement("a",{href:t,target:"_blank",rel:"nofollow noopener noreferrer",className:o.default.link,onPointerDown:function(e){n&&n(e,a,v)},onTouchStart:function(e){m||n&&n(e,a,v)}},_()):r.default.createElement("jdiv",{onPointerUp:function(e){c.log("onPointerDown",t,m),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),n&&n(e,a)},onTouchEnd:function(e){c.log("onTouchStart",t,m),e.preventDefault(),m||n&&n(e,a)}},_())},f=d.propTypes={url:l.default.string,onClick:l.default.func,trackId:l.default.string,iconName:l.default.string,iconColor:l.default.string,title:l.default.string,titleColor:l.default.string,forceIcon:l.default.bool,isPointer:l.default.bool};t.componentProps=f;var p=r.default.memo(d);t.default=p},49800:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(59748)),r=a(n(57415)),o=a(n(45697)),l=a(n(75119)),u=a(n(94184)),s=function(e){var t=e.onClick,n=e.device,a=e.isPointer;if("tablet"===n)return null;var o="android"===n;return i.default.createElement("jdiv",{className:(0,u.default)(r.default.wrap,r.default[n]),onPointerUp:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t(e)},onTouchEnd:function(e){e.preventDefault(),a||t(e)}},o?i.default.createElement("jdiv",{className:r.default.icon},"<"):null,i.default.createElement("jdiv",{className:r.default.text},(0,l.default)("cancel")))},c=s.propTypes={onClick:o.default.func,device:o.default.string};t.componentProps=c;var d=i.default.memo(s);t.default=d},1330:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=n(26213),o=a(n(75119)),l=a(n(73395)),u=n(41199),s=a(n(45697)),c=n(17674),d=n(85442),f=function(e){var t=e.callbackAvailable,n=e.isDelayedCallback,a=e.callTime,r=e.joint,s=e.geoIp,f=e.isOnline,p=e.overlay,h=e.hideTitle,g=e.onCancelClick,m=e.powerButtonPhone,v=e.appZoom,_=e.onOverlayClick,y=e.onMenuButtonClick,b=e.onMenuChatButtonClick,E=e.route,C=(0,u.getDevice)(),T="tablet"!==C,w=(0,u.getCopyrightProps)();return i.default.createElement(l.default,{buttons:(0,u.getButtons)(m,t,n,a,r,s,f,y||u.onMenuItemClick,b||u.onChatClick,u.onCallClick,E),isLandscape:(0,u.getIsLandscape)(),overlay:p,onOverlayClick:function(e){_?_(e):c.Router.next(d.RouterEvent.CloseWindow)},title:!h&&(0,o.default)("powerBtnMenuTitle"),cancelButton:T,onCancelClick:g,copyright:w.show,copyrightLink:w.link,copyrightIcon:w.icon,device:C,isPointer:(0,u.getPointer)(),textZoom:(0,u.getTextSize)(),zoom:(0,u.getZoom)(v)})};f.propTypes={isOnline:s.default.bool,callbackAvailable:s.default.bool,isDelayedCallback:s.default.bool,callTime:s.default.number,joint:s.default.any,geoIp:s.default.string,overlay:s.default.bool,hideTitle:s.default.bool,onCancelClick:s.default.func,powerButtonPhone:s.default.string,appZoom:s.default.number,onOverlayClick:s.default.func,onMenuButtonClick:s.default.func,onMenuChatButtonClick:s.default.func,route:s.default.string};var p=(0,r.connect)((function(e,t){return{isOnline:e.app.isOnline,callbackAvailable:e.callback.available,isDelayedCallback:e.callback.isDelayed,callTime:e.settings.user.callback.time,joint:e.settings.features.joint,geoIp:e.settings.system.geoIp,powerButtonPhone:e.settings.user.powerButtonPhone,appZoom:e.zoom.app,route:e.app.route,overlay:t.overlay,hideTitle:t.hideTitle,onCancelClick:t.onCancelClick,onOverlayClick:t.onOverlayClick,onMenuButtonClick:t.onMenuButtonClick,onMenuChatButtonClick:t.onMenuChatButtonClick}}),{})(f);t.default=p},41199:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getZoom=t.getTextSize=t.onCallClick=t.onMenuItemClick=t.onChatClick=t.getIsLandscape=t.getCallText=t.getPointer=t.getDevice=t.getCopyrightProps=t.getButtons=void 0;var i=a(n(33032)),r=a(n(77766)),o=n(56602),l=a(n(75119)),u=a(n(58061)),s=n(51139),c=a(n(68806)),d=n(75245),f=n(17674),p=n(85442),h=n(81189),g=a(n(47321)),m=n(33367),v=n(63242),_=a(n(40695)),y=n(47804),b=a(n(75043)).default.name("OmniMenuHelpers");t.getButtons=function(e,t,n,a,i,s,c,d,f,p,h){var g=T(),m=[];if(i){if(i.sb&&i.sb.project_id){var v="https%3A%2F%2Fsberdevices.ru%2Fapp%3Fdeeplink%3Dcompanionapp%253A%252F%252Fnavigation%253FpageId%253Dassistant%2526projectId%253D"+i.sb.project_id;m.push({url:"https://sberdevicessaluteapp.page.link?apn=ru.sberbank.sdakit.companion.prod&link="+v,onClick:d,trackId:"sb",iconName:"sb",title:(0,l.default)("omni_sb_link"),device:g})}i.vk&&i.vk.joint_id&&m.push({url:"https://vk.me/club"+i.vk.joint_id,onClick:d,trackId:"vk",iconName:"vk",title:(0,l.default)("social_vk"),device:g}),i.fb&&i.fb.joint_id&&m.push({url:"https://m.me/"+i.fb.joint_id,onClick:d,trackId:"fb",iconName:"fb",title:"Facebook Messenger",device:g}),i.wa&&m.push({url:"https://wa.me/"+i.wa,onClick:d,trackId:"wa",iconName:"wa",title:"WhatsApp",device:g}),i.ig&&i.ig.group_name&&m.push({url:"https://www.instagram.com/"+i.ig.group_name,onClick:d,trackId:"ig",iconName:"igIcon",title:"Instagram",device:g}),i.tg&&i.tg.botname&&m.push({url:C(s)+i.tg.botname,onClick:d,trackId:"tg",iconName:"telegram",iconColor:"#39afe2",title:"Telegram",device:g}),i.vb&&i.vb.botname&&m.push({url:"viber://pa?chatURI="+i.vb.botname,onClick:d,trackId:"vb",iconName:"viber",title:"Viber",device:g}),u.default.supportsIMessage()&&i.im&&i.im.joint_id&&m.push({url:"sms://open?service=iMessage&recipient=urn:biz:".concat(i.im.joint_id,"&biz-intent-id=click_in_jivo"),onClick:d,trackId:"im",iconName:"icon-im",iconColor:"#ff0000",title:(0,l.default)("lblMessagesApp"),device:g})}if(t)m.push({onClick:p,iconName:E(g),iconColor:"#0076ff",title:w(n,a),device:g,forceIcon:!0});else if(e){var _;m.push({url:"tel:".concat(e),onClick:p,iconName:E(g),iconColor:"#0076ff",trackId:"call",title:(0,r.default)(_="".concat((0,l.default)("lblCallMe")," ")).call(_,e),device:g,forceIcon:!0})}return(0,o.isChatPage)()||m.push({onClick:f,iconName:"tablet"===g?"labelChat":"message-text",iconColor:"#05b24b",title:c?(0,l.default)("onlineChat"):(0,l.default)("lblLeaveMessage"),titleColor:"red",device:g}),m};var E=function(e){switch(e){case"ios":return"phone";case"android":return"phone-outgoing";case"tablet":return"callback-btn"}},C=function(e){var t="https://telegram.me/";e&&("RU"==e.split(";")[0]&&(t="tg://resolve/?domain="));return t};t.getCopyrightProps=function(e){return{show:!("tablet"===T()||!(0,o.showAd)()),link:(0,o.getUtmLink)("mobile_menu"),icon:e?"logo-jivosite-white":"logo-jivochat-white"}};var T=function(){return u.default.tablet()||u.default.desktop()&&(0,o.isChatPage)()?"tablet":u.default.ios()?"ios":"android"};t.getDevice=T;t.getPointer=function(){return u.default.isPointerEnabled()};var w=function(e,t){return e?(0,l.default)("callback_delayed_button_submit"):(0,r.default)(n=(0,r.default)(a="".concat((0,l.default)("cw_callAfter")," ")).call(a,t," ")).call(n,(0,s.getTextSeconds)(t),"!");var n,a};t.getCallText=w;t.getIsLandscape=function(){return"landscape"===c.default.getOrientation()};t.onChatClick=function(e){h.appDispatchers.setAppIsFocused(1),h.appDispatchers.setChatOpenByClient(!0),f.Router.next(p.RouterEvent.ToChat),d.messageActions.deleteUnansweredOfflineSystemInvite(),d.messageActions.addPrechatMessage(),d.messageActions.offlineSystemInvite(),g.default.openChatCallbacks(),m.Monitoring.telemetry(v.TelemetryName.POWERBUTTON_OPEN_CHAT)};t.onMenuItemClick=function(e,t,n){b.log("onMenuItemClick",e,t,n),(0,i.default)((function(){(0,o.isChatPage)()?n&&n():f.Router.next(p.RouterEvent.CloseWindow)}),500),_.default.trackMobileSocial(t),m.Monitoring.telemetry(v.TelemetryName.POWERBUTTON_OPEN+t)};t.onCallClick=function(e){b.log("onCallClick"),e&&(e.stopPropagation(),e.stopImmediatePropagation()),(0,y.isPowerPhone)()||(h.appDispatchers.setAppIsFocused(1),f.Router.next(p.RouterEvent.ToCall),d.messageActions.deleteUnansweredOfflineSystemInvite(),d.messageActions.offlineSystemInvite(),g.default.openChatCallbacks()),_.default.trackMobileCallClick(),m.Monitoring.telemetry(v.TelemetryName.POWERBUTTON_OPEN_CALLBACK)};t.getTextSize=function(){return c.default.getTextSize()};t.getZoom=function(e){return u.default.desktop()&&(0,o.isChatPage)()?null:e}},67345:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(26778)),l=a(n(45697)),u=a(n(75119)),s=a(n(58165)),c=a(n(94184)),d=function(e){var t,n=e.url,a=e.icon,l=(0,c.default)((t={},(0,i.default)(t,o.default.logoIcon,!0),(0,i.default)(t,o.default.__ru,"logo-jivosite-white"===a),t));return r.default.createElement("jdiv",{className:o.default.wrap},r.default.createElement("jdiv",{className:o.default.copyright},r.default.createElement("a",{href:n,target:"_blank",rel:"nofollow noopener"},r.default.createElement("jdiv",null,(0,u.default)("service_from")),r.default.createElement(s.default,{iconName:a,color:"#f00",className:l}))))},f=d.propTypes={url:l.default.string,icon:l.default.string};t.componentProps=f;var p=r.default.memo(d);t.default=p},5777:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78580)),r=a(n(59748)),o=a(n(45697)),l=function(e){var t=e.children,n=e.allowedRoutes,a=e.currentRoute;return(0,i.default)(n).call(n,a)?r.default.createElement(r.default.Fragment,null,t):null};l.propTypes={children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node,o.default.func]).isRequired,allowedRoutes:o.default.arrayOf(o.default.string).isRequired,currentRoute:o.default.string.isRequired};var u=r.default.memo(l);t.default=u},81790:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(5872)),r=a(n(77766)),o=a(n(87672)),l=a(n(59748)),u=a(n(42607)),s=a(n(45697)),c=a(n(58165)),d=a(n(1330)),f=a(n(6746)),p=a(n(40917)),h=a(n(94184)),g=n(70645),m=n(83093),v=a(n(58061)),_=n(85442),y=a(n(5777)),b=n(99014),E=(a(n(75043)).default.name("PowerButton"),function(e){var t,n,a,s=e.isCallEnabled,E=e.isTopEnabled,C=e.showLogo,T=e.top,w=e.left,S=e.unReadMessages,k=e.popup,I=e.iconColor,A=e.iconTopColor,M=e.widgetMobileOrientation,x=e.powerButtonColor,R=e.zoom,O=e.linkOverlay,N=e.onOverlayClick,D=e.isOnline,L=e.route,P=e.onClick,B=e.onPopupClick,j=e.onClosePopupClick,F=e.hidden,H=R.user>1.1,U=(t={},(0,o.default)(t,u.default.wrap,!0),(0,o.default)(t,u.default._orientationRight,"right"===M),(0,o.default)(t,u.default._orientationLeft,"left"===M),(0,o.default)(t,u.default._hidden,F),(0,o.default)(t,"__jivoMobileButton",!H),t),W={};H?W.transform=(0,r.default)(n=(0,r.default)(a="translate(".concat(w,"px,")).call(a,T,"px) scale(")).call(n,R.app,")"):1!==R.app&&(W.zoom=R.app);var z=!1;return l.default.createElement("jdiv",(0,i.default)({className:(0,h.default)(U),style:W},(0,g.withLocator)(m.Locator.POWER_BUTTON)),k?l.default.createElement(f.default,{show:!0,popup:k,onOpen:B,onClose:j}):null,O?l.default.createElement("a",{className:u.default.overlay,href:O,target:v.default.chromeIOS()?"_self":"_blank",rel:"nofollow noopener noreferrer",onPointerDown:N}):null,l.default.createElement("jdiv",{className:(0,h.default)((0,o.default)({},u.default.button,!0)),style:{background:x},onPointerDown:function(){z=!1},onPointerMove:function(){z=!0},onPointerUp:function(e){P(e),(0,b.reportOpenTelemetry)("from_touch")},onTouchStart:function(){v.default.isPointerEnabled()||(z=!1)},onTouchMove:function(){v.default.isPointerEnabled()||(z=!0)},onTouchEnd:function(e){z||v.default.isPointerEnabled()||(P(e),(0,b.reportOpenTelemetry)("from_touch"))}},S?l.default.createElement("jdiv",{className:u.default.messagesLabel},l.default.createElement("jdiv",{className:u.default.badge},S)):null,l.default.createElement(y.default,{allowedRoutes:[_.Route.LABEL],currentRoute:L,name:"Icons"},l.default.createElement(p.default,{showLogo:C,isCallEnabled:s,isTopEnabled:E,iconColor:I,powerButtonColor:A,isOnline:D})),l.default.createElement(y.default,{allowedRoutes:[_.Route.MOBILE_MENU],currentRoute:L,name:"CloseIcon"},l.default.createElement("jdiv",{className:u.default.closeIconWrap},l.default.createElement(c.default,{iconName:"icon-close",color:I,className:u.default.closeIcon})))),l.default.createElement(y.default,{allowedRoutes:[_.Route.MOBILE_MENU],currentRoute:L,name:"OmniMenu"},l.default.createElement("jdiv",{className:u.default.menuWrap},l.default.createElement(d.default,{overlay:!v.default.tablet(),hideTitle:!0}),l.default.createElement("jdiv",{className:u.default.buttonsCorner}))))}),C=E.propTypes={isCallEnabled:s.default.bool,isTopEnabled:s.default.bool,showLogo:s.default.bool,top:s.default.number,left:s.default.number,unReadMessages:s.default.number,popup:s.default.any,iconColor:s.default.string,iconTopColor:s.default.string,widgetMobileOrientation:s.default.string,powerButtonColor:s.default.string,zoom:s.default.any,linkOverlay:s.default.any,onOverlayClick:s.default.func,isOnline:s.default.bool,route:s.default.string,onClick:s.default.func,onPopupClick:s.default.func,onClosePopupClick:s.default.func,hidden:s.default.bool};t.componentProps=C;var T=l.default.memo(E);t.default=T},93031:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var p=a(n(54103)),h=a(n(33032)),g=a(n(87672)),m=a(n(26394)),v=a(n(69198)),_=a(n(51379)),y=a(n(214)),b=a(n(66380)),E=a(n(59748)),C=n(56602),T=a(n(62107)),w=a(n(58061)),S=n(85442),k=n(26213),I=a(n(45697)),A=a(n(81790)),M=a(n(5777)),x=n(99014),R=a(n(46418)),O=a(n(67966)),N=n(44835),D=n(75245);function L(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=L(Object(a),!0)).call(n,(function(t){(0,g.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=L(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.default)(e);if(t){var i=(0,b.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}a(n(75043)).default.name("PowerButtonContainer");var j=function(e){(0,_.default)(n,e);var t=B(n);function n(e){var a;return(0,m.default)(this,n),(a=t.call(this,e)).state=P(P({hidden:!1},(0,x.getPosition)(e.zoom.user)),{},{proactive:null}),a.interval=null,a}return(0,v.default)(n,[{key:"onViewportChanged",value:function(){var e=this;clearTimeout(this.interval);var t=this.props.zoom.user;this.setState(P({hidden:t>=1.1},(0,x.getPosition)(t,this.props.widgetMobileOrientation))),this.interval=(0,h.default)((function(){e.setState({hidden:!1})}),200)}},{key:"componentDidMount",value:function(){var e,t=this,n=T.default.throttle((0,p.default)(e=this.onViewportChanged).call(e,this),200),a=(0,C.getPageWindow)();D.messageActions.deleteUnansweredOfflineSystemInvite(),(0,C.addListener)(a,"scroll",n,!0),(0,C.addListener)(a,"resize",n,!0),a.visualViewport&&a.visualViewport.addEventListener&&!w.default.ios()&&((0,C.addListener)(a.visualViewport,"scroll",n,!0),(0,C.addListener)(a.visualViewport,"resize",n,!0));var i=new R.default;(0,C.addListener)(a,"popstate",(function(e){i.checkPopState(e,t.props.route)})),this.setState(P({hidden:!1},(0,x.getPosition)(this.props.zoom.user))),O.default.on("all",(function(){var e=O.default.toJSON();t.setState({proactive:e})})),O.default.on("destroy",(function(){t.setState({proactive:null})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.powerButtonColor,a=t.powerGradient,i=t.color,r=t.color2,o=t.isOnline,l=t.widgetMobileOrientation,u=t.route,s=t.callHeaderText,c=t.zoom,d=t.mobileProactive,f=t.iMessageSettings,p=t.messages,h=this.state,g=h.left,m=h.top,v=h.hidden,_=w.default.tablet()?[S.Route.LABEL,S.Route.MOBILE_MENU]:[S.Route.LABEL];return u===S.Route.HIDDEN||c.user>2||(0,C.isCustomLabel)()||(0,C.isChatPage)()?null:E.default.createElement(M.default,{allowedRoutes:_,currentRoute:this.props.route,name:"PowerButton"},E.default.createElement(A.default,{hidden:v,isCallEnabled:(0,x.getIsCallEnabled)(),isTopEnabled:(0,N.isAbTop100Enabled)(),showMenu:!1,showLogo:(0,C.showAd)(),top:m,left:g,unReadMessages:(0,x.getUnreadMessages)(p,s),popup:(0,x.getPopup)(d,this.state.proactive),iconColor:(0,x.getIconColor)(n,a,i),iconTopColor:n||i,widgetMobileOrientation:l,powerButtonColor:(0,x.getPowerButtonColor)(n,a,i,r),zoom:c,isOnline:o,route:u,onClick:function(e){(0,x.openMenuClick)(e,u,s,!1,p)},linkOverlay:(0,x.getOverlay)(f),onOverlayClick:x.onOverlayClick,onPopupClick:function(e){(0,x.openMenuClick)(e,u,s,!0,p)},onClosePopupClick:function(){(0,x.onClosePopupClick)(),e.setState({proactive:null})}}))}}]),n}(E.default.PureComponent);j.propTypes={powerButtonColor:I.default.string,color:I.default.string,color2:I.default.string,powerGradient:I.default.bool,widgetMobileOrientation:I.default.string,route:I.default.string,callHeaderText:I.default.string,messages:I.default.arrayOf(I.default.any),isOnline:I.default.bool,zoom:I.default.any,proactive:I.default.any,mobileProactive:I.default.bool,iMessageSettings:I.default.any};var F=(0,k.connect)((function(e){return{powerButtonColor:e.settings.user.powerButtonColor,color:e.settings.user.widgetColor,color2:e.settings.user.widgetColor2,powerGradient:e.settings.user.powerGradient,widgetMobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callHeaderText:e.settings.user.callHeaderText,messages:e.messages,isOnline:e.app.isOnline,zoom:e.zoom,proactive:e.proactive,mobileProactive:e.settings.features.mobileProactive,iMessageSettings:e.settings.features.joint&&e.settings.features.joint.im||null}}),{})(j);t.default=F},99014:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.onClosePopupClick=t.getPopup=t.onOverlayClick=t.getOverlay=t.openMenuClick=t.handleUnreadClick=t.reportOpenTelemetry=t.handleOpenMenuClick=t.handleButtonClick=t.addHistory=t.getPosition=t.getUnreadMessages=t.getIsCallEnabled=t.getIconColor=t.getPowerButtonColor=void 0;var i=a(n(78914)),r=a(n(86999)),o=n(37916),l=n(56602),u=n(75245),s=a(n(68806)),c=a(n(58061)),d=n(17674),f=n(85442),p=n(81189),h=a(n(47321)),g=n(33367),m=n(63242),v=a(n(6991)),_=a(n(46418)),y=a(n(67966)),b=a(n(5972)),E=n(37607),C=n(8565),T=n(53172),w=a(n(75043)).default.name("PowerBtnHelpers");t.getPowerButtonColor=function(e,t,n,a){return t?r.default.getGradientBg(n,a):e};t.getIconColor=function(e,t,n){return(t?r.default.isLightColor(n):r.default.isLightColor(e))?"#3e414f":"#fff"};t.getIsCallEnabled=function(){return o.CallbackUtils.isCallbackEnabled()};var S=function(e,t){var n=y.default.toJSON(),a=!!n.text&&n.status!==C.MessageStatus.READ;return t&&!a&&(a=!0),t||!function(e){if(!e)return 0;var t=0;return(0,i.default)(e).call(e,(function(e){e.from===C.MessageInitiator.AGENT&&e.status!==C.MessageStatus.READ&&e.type==C.MessageType.FOR_TEST&&t++})),t}(e)||(0,T.getApp)().isOnline||(a=!0),function(e){if(!e)return 0;var t=0;return(0,i.default)(e).call(e,(function(e){e.from===C.MessageInitiator.AGENT&&e.status!==C.MessageStatus.READ&&e.status!==C.MessageStatus.DELETED&&e.type!==C.MessageType.FOR_TEST&&t++})),t}(e)+(a?1:0)};t.getUnreadMessages=S;t.getPosition=function(e,t){var n=(0,l.getPageWindow)().visualViewport,a="left"===t,i=s.default.isSiteOptimizedForMobile?-15:15;if(n&&e>=1.1){var r=s.default.getPseudo(),o=r&&r.getBoundingClientRect().height||0,u=r&&r.getBoundingClientRect().width||0,c=n.width-u+n.offsetLeft,d=n.offsetLeft+i*e,f=a?d:c;return{top:n.height-o+n.offsetTop-i,left:f-i}}return{left:null,top:null}};var k=function(){if(window.history&&"function"==typeof window.history.pushState&&c.default.mobileOrTablet()){var e=_.default.getInstance();e&&e.setHistoryState()}};t.addHistory=k;var I=function(){p.appDispatchers.setAppIsFocused(1),d.Router.next(f.RouterEvent.Navigate),u.messageActions.deleteUnansweredOfflineSystemInvite(),u.messageActions.offlineSystemInvite(),u.messageActions.addPrechatMessage(),h.default.openChatCallbacks(),M("from_pwr")};t.handleButtonClick=I;var A=function(){p.appDispatchers.setChatOpenByClient(!1),d.Router.next(f.RouterEvent.ToMobileMenu),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN_MENU,{param1:"menu",param2:c.default.isPointerEnabled()?1:0,param3:(0,l.getPageWindow)().navigator.userAgent})};t.handleOpenMenuClick=A;var M=function(e){var t={};e&&(t.param1=e,t.param2=c.default.isPointerEnabled()?1:0,t.param3=(0,l.getPageWindow)().navigator.userAgent),(0,T.getSystemSettings)().botmode&&(t.param4=1),g.Monitoring.telemetry(m.TelemetryName.WIDGET_CLICK,t)};t.reportOpenTelemetry=M;var x=function(e,t){p.appDispatchers.setAppIsFocused(1),e?d.Router.next(f.RouterEvent.ToCall):(d.Router.next(f.RouterEvent.ToChat),p.userDispatchers.setCallHeaderText(null)),h.default.openChatCallbacks(),u.messageActions.readProactive(),M(t?"from_popup":null)};t.handleUnreadClick=x;t.openMenuClick=function(e,t,n,a,i){w.log("onMenuClick helper");var r=v.default.getJoints();t!==f.Route.MOBILE_MENU?(p.appDispatchers.setChatOpenByClient(!0),S(i,n)?x(n,a):r.count>0?A():I()):c.default.tablet()&&((0,l.isChatPage)()||d.Router.next(f.RouterEvent.CloseWindow)),k()};t.getOverlay=function(e){return!!(c.default.supportsIMessage()&&e&&e.joint_id)&&(0,E.getIMessageLink)(e.joint_id)};t.onOverlayClick=function(e){e.stopPropagation(),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN+"im")};t.getPopup=function(e,t){return e?t&&t.text&&t.status!==C.MessageStatus.READ?{text:t.text,agent:t.body}:void 0:null};t.onClosePopupClick=function(){u.messageActions.readProactive(),b.default.set("close_time",(new Date).getTime()),g.Monitoring.telemetry(m.TelemetryName.INVITE_CLOSE)}},40917:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var f=a(n(87672)),p=a(n(59748)),h=a(n(40947)),g=a(n(45697)),m=a(n(58165)),v=a(n(94184));function _(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=_(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=_(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var b=a(n(75043)).default.name("PowerButtonIcons"),E=function(e){var t,n=e.showLogo,a=e.isCallEnabled,i=e.isTopEnabled,r=e.iconColor,o=e.powerButtonColor,l=e.isOnline,u=(t={},(0,f.default)(t,h.default.iconWrap,!0),(0,f.default)(t,h.default._isCallEnabled,a),(0,f.default)(t,h.default._showLogo,n),t),s=function(e){var t=l?"mobile-cloud":"envelope",n=l?h.default.logoIconCloud:h.default.envelopeIcon;return p.default.createElement(m.default,{iconName:t,color:e,className:(0,v.default)(n,h.default.icons)})},c=function(){return a?p.default.createElement("jdiv",{className:(0,v.default)(y(y({},u),{},(0,f.default)({},h.default.iconWrap2,!0)))},s(r)):null};return p.default.createElement(p.default.Fragment,null,p.default.createElement(p.default.Fragment,null,p.default.createElement("jdiv",{className:(0,v.default)(y({},u))},n?p.default.createElement(m.default,{iconName:"logo-j-white",className:(0,v.default)(h.default.jivoIcon,h.default.icons),color:r}):null,a?null:s(r)),c()),i?(b.warn("renderTopIcon",o),p.default.createElement("jdiv",{className:(0,v.default)(y(y({},u),{},(0,f.default)({},h.default.iconWrap3,!0)))},p.default.createElement(m.default,{iconName:"top100MobileIcon",color:o,className:(0,v.default)(h.default.topIcon,h.default.icons)}))):null,i||!a?null:p.default.createElement("jdiv",{className:(0,v.default)(y(y({},u),{},(0,f.default)({},h.default.iconWrap3,!0)))},p.default.createElement(m.default,{iconName:"callback-btn",color:r,className:(0,v.default)(h.default.callbackIcon,h.default.icons)})))},C=E.propTypes={showLogo:g.default.bool,isCallEnabled:g.default.bool,isTopEnabled:g.default.bool,isOnline:g.default.bool,iconColor:g.default.string,powerButtonColor:g.default.string};t.componentProps=C;var T=p.default.memo(E);t.default=T},38783:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.Rate=void 0;var i=a(n(59748)),r=a(n(45697)),o=a(n(75119)),l=a(n(77244)),u=a(n(58165)),s=a(n(75043)),c=a(n(60278)),d=(s.default.name("Rate"),function(e){var t=e.step,n=e.onRate,a=e.onCancel,r=function(e,t,a,i){n(e,t,a,i)};return i.default.createElement(i.default.Fragment,null,function(e){switch(e){case"negative":return i.default.createElement("jdiv",{className:c.default.cancelBox},i.default.createElement("jdiv",{className:c.default.cancel,onClick:function(e){r(e,"cancel",0,null)}},(0,o.default)("lblEvaluateCancel")));case"positive":return i.default.createElement("jdiv",{className:c.default.positiveBox},(0,o.default)("lblEvaluateThanks"),i.default.createElement(l.default,{type:"img",icon:"1f389",className:"iconSuccess"}));case"rate":default:return i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:c.default.text},(0,o.default)("lblEvaluatePlease")),i.default.createElement("jdiv",{className:c.default.buttonsBox},i.default.createElement("jdiv",{className:c.default.button,onClick:function(e){r(e,"positive",1,5e3)}},i.default.createElement(u.default,{iconName:"rating-positive",color:"#afa9a9",hoverColor:"#12a730",className:c.default.iconUp})),i.default.createElement("jdiv",{className:c.default.button,onClick:function(e){r(e,"negative",-1,15e3)}},i.default.createElement(u.default,{iconName:"rating-negative",color:"#afa9a9",hoverColor:"#ff4642",className:c.default.iconDown}))),i.default.createElement("jdiv",{className:c.default.close,onClick:function(e){e.stopPropagation(),a(e)}},i.default.createElement(u.default,{className:c.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"})))}}(t))});t.Rate=d,d.propTypes={step:r.default.string.isRequired,onRate:r.default.func,onCancel:r.default.func};var f=i.default.memo(d);t.default=f},21323:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=i(n(18777)),l=a(n(59748)),u=n(26213),s=i(n(45697)),c=i(n(38783)),d=n(60241),f=i(n(94184)),p=i(n(60278)),h=i(n(75043)).default.name("RateContainer"),g=function(e){var t,n=e.needShow,a=e.chatEvaluated,i=(0,l.useState)("rate"),u=(0,o.default)(i,2),s=u[0],g=u[1];h.warn("chatEvaluated",a,s);var m=(0,f.default)((t={},(0,r.default)(t,p.default.main,!0),(0,r.default)(t,p.default.__hide,!n&&"positive"!==s),t));return l.default.createElement("jdiv",{className:m},l.default.createElement(c.default,{step:s,onRate:function(e,t,n,a){h.log("onRate",n),e.preventDefault(),"cancel"==t&&(t="rate",(0,d.cancelTimeout)()),g(t),(0,d.rate)(n),a&&(0,d.hide)(null,a,!0,(function(){g("rate")}))},onCancel:function(e){(0,d.hide)(e),(0,d.cancelRate)()}}))};g.propTypes={needShow:s.default.bool,chatEvaluated:s.default.bool};var m=(0,u.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0];return{chatEvaluated:!!t&&t.evaluated}}),{})(g);t.default=m},60241:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.rate=t.needToRateForm=t.hide=t.cancelTimeout=t.cancelRate=void 0;var i=a(n(33032)),r=n(17674),o=n(85442),l=n(81189),u=n(36143),s=a(n(47321)),c=a(n(75043)).default.name("RateHelpers"),d=null;t.cancelRate=function(){l.chatsDispatchers.setChatEvaluated(!0),d=(0,i.default)((function(){r.Router.next(o.RouterEvent.Cancel)}),300)};t.cancelTimeout=function(){d&&clearTimeout(d)};t.hide=function(e,t,n,a){c.log("hide",t,n),e instanceof Event&&(e.preventDefault(),t=1),n&&(d=(0,i.default)((function(){a&&a(),r.Router.next(o.RouterEvent.Submit,{from:o.Route.CHAT_EVAL})}),t))};t.needToRateForm=function(){var e=r.Router.getCurrentRoute();u.RouterUtils.needToShowEvaluation()&&e!==o.Route.CHAT_INTRODUCE&&e!==o.Route.CHAT_EVAL&&(c.log("messages state show rate form"),r.Router.next(o.RouterEvent.ToEval))};t.rate=function(e){s.default.sendEvaluation(e)}},92945:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(59592)),p=a(n(45808)),h=n(21224),g=a(n(58061)),m=a(n(93031)),v=a(n(48309)),_=n(44992),y=a(n(51017)),b=a(n(50380)),E=a(n(46707)),C=a(n(76411)),T=n(43472),w=n(26213),S=a(n(75043)),k=n(56602);function I(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}S.default.name("RootComponent");var A=function(e){(0,u.default)(n,e);var t=I(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,l.default)(n,[{key:"renderLabel",value:function(){return g.default.desktop()?d.default.createElement(E.default,null):null}},{key:"renderWidgetContainer",value:function(){return g.default.mobileOrTablet()||(0,k.isChatPage)()?null:d.default.createElement(y.default,{ref:function(e){e&&p.default.set(h.Component.WIDGET_CONTAINER,e)}})}},{key:"renderSoundPlayer",value:function(){return _.WebAudioDisabled?d.default.createElement(v.default,{sounds:_.Sounds}):null}},{key:"renderCallWidget",value:function(){return d.default.createElement(C.default,null)}},{key:"renderPowerButton",value:function(){return g.default.mobileOrTablet()&&window.parent===window.top?d.default.createElement(m.default,null):null}},{key:"renderMouseTrack",value:function(){return g.default.mobileOrTablet()?null:d.default.createElement("jdiv",{className:f.default.jivoMouseTrack,ref:function(e){e&&p.default.set(h.Component.MOUSE_TRACK,e)}})}},{key:"renderMobileContainer",value:function(){return g.default.mobileOrTablet()||(0,k.isChatPage)()?d.default.createElement(b.default,null):null}},{key:"render",value:function(){return d.default.createElement(w.Provider,{store:T.reduxStore},d.default.createElement("jdiv",{className:f.default.globalClass},this.renderCallWidget(),this.renderPowerButton(),this.renderMobileContainer(),this.renderLabel(),this.renderSoundPlayer(),this.renderWidgetContainer(),d.default.createElement("jdiv",{className:f.default.pseudoHeight}),this.renderMouseTrack()))}}]),n}(d.default.Component);t.default=A},20748:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(1068),o=n(63978),l=n(20368),u=n(39649),s=n(78914),c=n(34074),d=n(20116),f=n(14310),p=n(86902);o(t,"__esModule",{value:!0}),t.default=void 0;var h=i(n(31581)),g=i(n(33032)),m=i(n(81643)),v=i(n(54103)),_=i(n(77766)),y=i(n(26394)),b=i(n(69198)),E=i(n(5824)),C=i(n(51379)),T=i(n(214)),w=i(n(66380)),S=i(n(5872)),k=i(n(87672)),I=i(n(80122)),A=a(n(59748)),M=i(n(60021)),x=n(56602),R=n(99112),O=a(n(54087)),N=i(n(53879)),D=n(14186);function L(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,w.default)(e);if(t){var i=(0,w.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,T.default)(this,n)}}function P(e,t){var n=p(e);if(f){var a=f(e);t&&(a=d(a).call(a,(function(t){return c(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)s(n=P(Object(a),!0)).call(n,(function(t){(0,k.default)(e,t,a[t])}));else if(u)l(e,u(a));else{var i;s(i=P(Object(a))).call(i,(function(t){o(e,t,c(a,t))}))}}return e}var j,F,H=function(){return"string"==typeof maybe},U=function(){return!1};Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var W=function(e){(0,C.default)(n,e);var t=L(n);function n(e){var a,i,r,o,l,u,s,c,d,f,p,h,g,m,b,C,T,w,S,k,I,A,M,x,R,O,N,D,L,P,B;(0,y.default)(this,n);for(var j=arguments.length,F=new Array(j>1?j-1:0),H=1;H<j;H++)F[H-1]=arguments[H];return(B=t.call.apply(t,(0,_.default)(a=[this,e]).call(a,F))).getScrollLeft=(0,v.default)(i=B.getScrollLeft).call(i,(0,E.default)(B)),B.getScrollTop=(0,v.default)(r=B.getScrollTop).call(r,(0,E.default)(B)),B.getScrollWidth=(0,v.default)(o=B.getScrollWidth).call(o,(0,E.default)(B)),B.getScrollHeight=(0,v.default)(l=B.getScrollHeight).call(l,(0,E.default)(B)),B.getClientWidth=(0,v.default)(u=B.getClientWidth).call(u,(0,E.default)(B)),B.getClientHeight=(0,v.default)(s=B.getClientHeight).call(s,(0,E.default)(B)),B.getValues=(0,v.default)(c=B.getValues).call(c,(0,E.default)(B)),B.getThumbHorizontalWidth=(0,v.default)(d=B.getThumbHorizontalWidth).call(d,(0,E.default)(B)),B.getThumbVerticalHeight=(0,v.default)(f=B.getThumbVerticalHeight).call(f,(0,E.default)(B)),B.getScrollLeftForOffset=(0,v.default)(p=B.getScrollLeftForOffset).call(p,(0,E.default)(B)),B.getScrollTopForOffset=(0,v.default)(h=B.getScrollTopForOffset).call(h,(0,E.default)(B)),B.getScrollDiff=(0,v.default)(g=B.getScrollDiff).call(g,(0,E.default)(B)),B.scrollLeft=(0,v.default)(m=B.scrollLeft).call(m,(0,E.default)(B)),B.scrollTop=(0,v.default)(b=B.scrollTop).call(b,(0,E.default)(B)),B.scrollToLeft=(0,v.default)(C=B.scrollToLeft).call(C,(0,E.default)(B)),B.scrollToTop=(0,v.default)(T=B.scrollToTop).call(T,(0,E.default)(B)),B.scrollToRight=(0,v.default)(w=B.scrollToRight).call(w,(0,E.default)(B)),B.scrollToBottom=(0,v.default)(S=B.scrollToBottom).call(S,(0,E.default)(B)),B.handleTrackMouseEnter=(0,v.default)(k=B.handleTrackMouseEnter).call(k,(0,E.default)(B)),B.handleTrackMouseLeave=(0,v.default)(I=B.handleTrackMouseLeave).call(I,(0,E.default)(B)),B.handleHorizontalTrackMouseDown=(0,v.default)(A=B.handleHorizontalTrackMouseDown).call(A,(0,E.default)(B)),B.handleVerticalTrackMouseDown=(0,v.default)(M=B.handleVerticalTrackMouseDown).call(M,(0,E.default)(B)),B.handleHorizontalThumbMouseDown=(0,v.default)(x=B.handleHorizontalThumbMouseDown).call(x,(0,E.default)(B)),B.handleVerticalThumbMouseDown=(0,v.default)(R=B.handleVerticalThumbMouseDown).call(R,(0,E.default)(B)),B.handleWindowResize=(0,v.default)(O=B.handleWindowResize).call(O,(0,E.default)(B)),B.handleScroll=(0,v.default)(N=B.handleScroll).call(N,(0,E.default)(B)),B.handleMouseWheel=(0,v.default)(D=B.handleMouseWheel).call(D,(0,E.default)(B)),B.handleDrag=(0,v.default)(L=B.handleDrag).call(L,(0,E.default)(B)),B.handleDragEnd=(0,v.default)(P=B.handleDragEnd).call(P,(0,E.default)(B)),B.state={didMountUniversal:!1},B.ignore=!1,B.callbackCounter=0,B.view={},B}return(0,b.default)(n,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.requestFrame&&(0,O.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"setIgnore",value:function(e){this.ignore=e}},{key:"getIgnore",value:function(){return this.ignore}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view.scrollTop}},{key:"getScrollWidth",value:function(){return this.view.scrollWidth}},{key:"getScrollHeight",value:function(){return this.view.scrollHeight}},{key:"getScrollDiff",value:function(){return this.getScrollHeight()-this.getScrollTop()-this.getClientHeight()}},{key:"hasScroll",value:function(){return this.getScrollHeight()>this.getClientHeight()}},{key:"getClientWidth",value:function(){return this.view.clientWidth}},{key:"getClientHeight",value:function(){return this.view.clientHeight}},{key:"getValues",value:function(){var e=this.view,t=e.scrollLeft,n=e.scrollTop,a=e.scrollWidth,i=e.scrollHeight,r=e.clientWidth,o=e.clientHeight;return{left:t/(a-r)||0,top:n/(i-o)||0,scrollLeft:t,scrollTop:n,scrollWidth:a,scrollHeight:i,clientWidth:r,clientHeight:o}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,a=this.view,i=a.scrollWidth,r=a.clientWidth,o=(0,R.getInnerWidth)(this.trackHorizontal),l=Math.ceil(r/i*o);return o===l?0:t||Math.max(l,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,a=this.view,i=a.scrollHeight,r=a.clientHeight,o=(0,R.getInnerHeight)(this.trackVertical),l=Math.ceil(r/i*o);return o===l?0:t||Math.max(l,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,a=t.clientWidth;return e/((0,R.getInnerWidth)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-a)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,a=t.clientHeight;return e/((0,R.getInnerHeight)(this.trackVertical)-this.getThumbVerticalHeight())*(n-a)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollLeft=e}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollTop=e}},{key:"scrollToLeft",value:function(){this.view.scrollLeft=0}},{key:"scrollToTop",value:function(){this.view.scrollTop=0}},{key:"scrollToRight",value:function(){this.view.scrollLeft=this.view.scrollWidth}},{key:"scrollToBottom",value:function(){if(this.hasScroll()){var e=this.getScrollHeight();this.view.scrollTop=0!==e?this.view.scrollHeight:e}}},{key:"setBottomPosition",value:function(){j=this.view.childNodes[0].clientHeight-(this.container.parentNode.clientHeight||254),this.view.style.bottom=j+"px"}},{key:"addListeners",value:function(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,a=this.thumbHorizontal,i=this.thumbVertical,r=this.container;if((0,x.addListener)(e,"scroll",this.handleScroll,!0),(0,x.addListener)(e,"mousewheel",this.handleMouseWheel),(0,R.getScrollBarWidth)()){var o;if(t&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown)),r)r.addEventListener("mouseenter",(0,v.default)(o=this.handleTrackCheckHide).call(o,this));n&&(n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown)),a&&a.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize)}}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,a=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mousewheel",this.handleMouseWheel),(0,R.getScrollBarWidth)()&&(t&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown)),n&&(n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown)),a&&a.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,a=n.onScroll,i=n.onScrollFrame;a&&a(e),this.update((function(e){var n=e.scrollLeft,a=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=a,i&&i(e)})),this.detectScrolling()}},{key:"handleTouchMove",value:function(e){var t;if(-1===(0,m.default)(t=["INPUT","TEXTAREA"]).call(t,e.target.tagName)){e.stopPropagation(),e.preventDefault();var n=this.view.childNodes[0].clientHeight-this.container.parentNode.clientHeight,a=j-(e.touches[0].pageY+F);n>a&&0<a&&(j-=e.touches[0].pageY+F,this.view.style.bottom=j+"px")}}},{key:"handleTouchStart",value:function(e){var t;-1===(0,m.default)(t=["INPUT","TEXTAREA","A"]).call(t,e.target.tagName)&&(e.stopPropagation(),e.preventDefault(),F=-1*e.touches[0].pageY)}},{key:"handleMouseWheel",value:function(e){e.stopPropagation();var t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,n=this.view.scrollTop+this.view.clientHeight-this.view.scrollHeight>=0,a=this.view.scrollTop<=0;(t<0&&n||t>0&&a)&&e.preventDefault()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,a=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),r=Math.abs(a-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(r)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,a=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),r=Math.abs(a-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(r)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,a=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=a-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,a=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=a-(n-i)}},{key:"setupDragging",value:function(){var e=(0,x.getPageWindow)().document;(0,N.default)(e.body,D.disableSelectStyle),e.addEventListener("mousemove",this.handleDrag),e.addEventListener("mouseup",this.handleDragEnd),e.onselectstart=U}},{key:"teardownDragging",value:function(){var e=(0,x.getPageWindow)().document;(0,N.default)(e.body,D.disableSelectStyleReset),e.removeEventListener("mousemove",this.handleDrag),e.removeEventListener("mouseup",this.handleDragEnd),e.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var a=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+a-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackCheckHide",value:function(){this.props.autoHide&&this.view&&this.trackVertical&&(this.hasScroll()?this.showTracks():(0,N.default)(this.trackVertical,{opacity:0}))}},{key:"handleTrackMouseEnter",value:function(){this.hasScroll()&&(this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide())}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.dragging||(this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide())}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),this.trackHorizontal&&(0,N.default)(this.trackHorizontal,{opacity:1}),(0,N.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=(0,g.default)((function(){e.trackHorizontal&&(0,N.default)(e.trackHorizontal,{opacity:0}),(0,N.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=(0,h.default)((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&(0,O.cancel)(this.requestFrame);var n=this.enableFallback?(0,x.getPageWindow)().requestAnimationFrame:O.default;this.requestFrame=n((function(){t.requestFrame=void 0,t.callbackCounter++,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)})),(0,g.default)((function(){var e=(0,x.getPageWindow)();!t.callbackCounter&&e.requestAnimationFrame&&(t.enableFallback=!0)}),1e3)}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,a=t.hideTracksWhenNotNeeded;if(this.view){var i=this.getValues();if((0,R.getScrollBarWidth)()){if(this.trackHorizontal){var r=i.scrollLeft,o=i.clientWidth,l=i.scrollWidth,u=(0,R.getInnerWidth)(this.trackHorizontal),s=this.getThumbHorizontalWidth();"translateX(".concat(r/(l-o)*(u-s),"px)")}var c=i.scrollTop,d=i.clientHeight,f=i.scrollHeight,p=(0,R.getInnerHeight)(this.trackVertical),h=this.getThumbVerticalHeight(),g={height:h,transform:"translateY(".concat(c/(f-d)*(p-h),"px)")};if(a){if(this.trackHorizontal){var m={visibility:scrollWidth>clientWidth?"visible":"hidden"};(0,N.default)(this.trackHorizontal,m)}var v={visibility:f>d?"visible":"hidden"};(0,N.default)(this.trackVertical,v)}this.thumbHorizontal&&(0,N.default)(this.thumbHorizontal,thumbHorizontalStyle),(0,N.default)(this.thumbVertical,g)}n&&n(i),"function"==typeof e&&e(i)}}},{key:"render",value:function(){var e,t,n=this,a=(0,R.getScrollBarWidth)(),i=this.props,r=(i.onScroll,i.onScrollFrame,i.onScrollStart,i.onScrollStop,i.onUpdate,i.renderView),o=i.renderTrackHorizontal,l=i.renderTrackVertical,u=i.renderThumbHorizontal,s=i.renderThumbVertical,c=i.tagName,d=(i.hideTracksWhenNotNeeded,i.autoHide),f=(i.autoHideTimeout,i.autoHideDuration),p=(i.thumbSize,i.thumbMinSize,i.onlyY),h=i.universal,g=i.autoHeight,m=i.autoHeightMin,v=i.autoHeightMax,y=(i.scrollMarginTop,i.railClass,i.position),b=i.style,E=i.children,C=(0,I.default)(i,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","onlyY","universal","autoHeight","autoHeightMin","autoHeightMax","scrollMarginTop","railClass","position","style","children"]),T=this.state.didMountUniversal,w=B(B(B({},D.containerStyleDefault),g&&B(B({},D.containerStyleAutoHeight),{},{minHeight:m,maxHeight:v})),b),S=B(B(B(B({},D.viewStyleDefault),{},{display:"block",marginRight:a?-a:0,marginBottom:!p&&a?-a:0},g&&B(B({},D.viewStyleAutoHeight),{},{minHeight:H()?(0,_.default)(e="calc(".concat(m," + ")).call(e,a,"px)"):m+a,maxHeight:H()?(0,_.default)(t="calc(".concat(v," + ")).call(t,a,"px)"):v+a})),g&&h&&!T&&{minHeight:m,maxHeight:v}),h&&!T&&D.viewStyleUniversalInitial);y&&(S.position=y),p&&(S.overflowX="hidden",S.overflowY="scroll");var k={transition:"opacity ".concat(f,"ms"),opacity:0},M=B(B(B({},D.trackHorizontalStyleDefault),d&&k),(!a||h&&!T)&&{display:"none"}),x=B(B(B({},D.trackVerticalStyleDefault),d&&k),(!a||h&&!T)&&{display:"none"}),O=[(0,A.cloneElement)(r({style:S}),{key:"view",ref:function(e){n.view=e}},E)];return p||O.push((0,A.cloneElement)(o({style:M}),{key:"trackHorizontal",ref:function(e){n.trackHorizontal=e}},(0,A.cloneElement)(u({style:D.thumbHorizontalStyleDefault}),{ref:function(e){n.thumbHorizontal=e}}))),O.push((0,A.cloneElement)(l({style:x},this.props.scrollMarginTop,this.props.railClass),{key:"trackVertical",ref:function(e){n.trackVertical=e}},(0,A.cloneElement)(s({style:D.thumbVerticalStyleDefault}),{ref:function(e){n.thumbVertical=e}}))),(0,A.createElement)(c,B(B({},C),{},{style:w,ref:function(e){n.container=e}}),O)}}]),n}(M.default);t.default=W,W.defaultProps={renderView:function(e){return A.default.createElement("jdiv",e)},renderTrackHorizontal:function(e){var t=e.style,n=(0,I.default)(e,["style"]),a=B(B({},t),{},{right:2,bottom:2,left:2,borderRadius:3});return A.default.createElement("jdiv",(0,S.default)({style:a},n))},renderTrackVertical:function(e,t,n){var a=e.style,i=(0,I.default)(e,["style"]),r=B(B({},a),{},{right:3,bottom:2,top:t||2,borderRadius:4,width:8});return A.default.createElement("jdiv",(0,S.default)({className:n,style:r},i))},renderThumbHorizontal:function(e){var t=e.style,n=(0,I.default)(e,["style"]),a=B(B({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6dce4"});return A.default.createElement("jdiv",(0,S.default)({style:a},n))},renderThumbVertical:function(e){var t=e.style,n=(0,I.default)(e,["style"]),a=B(B({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6d4d4"});return A.default.createElement("jdiv",(0,S.default)({style:a},n))},tagName:"jdiv",thumbMinSize:30,hideTracksWhenNotNeeded:!0,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,onlyY:!0,universal:!1,railClass:"null"}},14186:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.disableSelectStyleReset=t.disableSelectStyle=t.thumbVerticalStyleDefault=t.thumbHorizontalStyleDefault=t.trackVerticalStyleDefault=t.trackHorizontalStyleDefault=t.viewStyleUniversalInitial=t.viewStyleAutoHeight=t.viewStyleDefault=t.containerStyleAutoHeight=t.containerStyleDefault=void 0;t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"block",WebkitOverflowScrolling:"touch"};t.containerStyleAutoHeight={height:"auto"};t.viewStyleDefault={position:"absolute",maxHeight:"100%",top:"auto",left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};var a={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};t.viewStyleAutoHeight=a;t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};t.trackHorizontalStyleDefault={position:"absolute",height:0};t.trackVerticalStyleDefault={position:"absolute",width:8};t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};t.disableSelectStyle={userSelect:"none"};t.disableSelectStyleReset={userSelect:""}},22905:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(18777)),o=a(n(59748)),l=n(26213),u=i(n(94350)),s=i(n(45697)),c=n(63237),d=n(56602),f=i(n(64499)),p=i(n(62652)),h=n(53172),g=n(8565),m=n(75245),v=i(n(75043)).default.name("SocialButtonContainer"),_=function(e){var t=e.isOnline,n=e.clientIntegration,a=e.messages,i=e.socialState,l=function(e){return!!(0,h.getMessagesByType)(e,g.MessageType.FORM).length},s=(0,o.useState)(l(a)),_=(0,r.default)(s,2),y=_[0],b=_[1];if(!y&&function(){if((0,d.hasIntegration)(n))return v.log("Already connected with vk/fb."),m.messageActions.hideEmailForm(),!1;if(l(a))return b(!0),!1;if(t&&p.default.chat_started){var e=(0,h.getClientMessages)(a);return!(!e||!e.length)}return!1}())return o.default.createElement("jdiv",{className:u.default.socialPanel},o.default.createElement(f.default,{show:!0,mode:i,processSocial:c.processSocial}))};_.propTypes={isOnline:s.default.bool,clientIntegration:s.default.oneOfType([s.default.bool,s.default.string]),messages:s.default.array,socialState:s.default.shape({vk:s.default.bool,fb:s.default.bool,mode:s.default.oneOfType([s.default.bool,s.default.string])})};var y=(0,l.connect)((function(e){return{isOnline:e.app.isOnline,clientIntegration:e.client.hasIntegration,messages:e.messages,socialState:e.social}}),{})(_);t.default=y},64499:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=a(n(75119)),o=a(n(45697)),l=a(n(94350)),u=a(n(58165)),s=(a(n(75043)).default.name("SocialButton"),function(e){var t=e.mode,n=e.processSocial;return i.default.createElement("jdiv",{className:l.default.wrap},t.vk?i.default.createElement("jdiv",{className:l.default.socialLink,onClick:function(e){n(e,"vk")},title:(0,r.default)("social_vk")},(0,r.default)("social_process_in")," ",i.default.createElement(u.default,{iconName:"vk",className:l.default.iconVk})," ",(0,r.default)("social_vk")):null,t.fb?i.default.createElement("jdiv",{className:l.default.socialLink,onClick:function(e){n(e,"fb")},title:(0,r.default)("social_fb")},(0,r.default)("social_process_in_fb"),"  ",i.default.createElement(u.default,{iconName:"fb",className:l.default.iconFb})," Messenger"):null)});s.propTypes={show:o.default.bool.isRequired,mode:o.default.object.isRequired,processSocial:o.default.func.isRequired};var c=i.default.memo(s);t.default=c},73796:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(87672)),l=a(n(5872)),u=a(n(54103)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(75043)),v=a(n(62904)),_=a(n(75119)),y=a(n(62107)),b=a(n(58061)),E=a(n(36216)),C=a(n(99357)),T=a(n(6991)),w=n(56602),S=a(n(94350)),k=n(17674),I=n(85442);function A(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var M=m.default.name("SocialButtonChat"),x=function(e){(0,d.default)(n,e);var t=A(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={show:!0,vk:e.mode.vk,fb:e.mode.fb,mode:e.mode.mode},a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e;M.log("mounted"),this.on(E.default,(0,u.default)(e=this.checkIntegration).call(e,this)),(v.default.joint||3!=v.default.contacts_ask)&&(3!=v.default.contacts_ask||b.default.desktop())||this.setState({vk:!1,fb:!1,mode:"email"})}},{key:"checkIntegration",value:function(){(0,w.hasIntegration)(E.default.has_integration)&&(M.log("Already connected with vk/fb."),this.show(!1),y.default.each(C.default.getMessagesByType("email"),(function(e){M.log("remove email message (integration vk/fb)."),e&&e.destroy&&e.destroy()})),k.Router.getCurrentRoute()===I.Route.CHAT_SOCIAL&&(M.log("hide popup, navigate to chat"),k.Router.next(I.RouterEvent.ToChat)))}},{key:"show",value:function(e){M.log("show",e),this.setState({show:e})}},{key:"renderIframe",value:function(e){var t=T.default.getIframeUrl(this.state.mode),n="vk"==this.state.mode?50:74;return h.default.createElement("iframe",(0,l.default)({},e.iframe,{width:"100%",border:"0",height:n,src:t}))}},{key:"getRenderData",value:function(){return{styles:{box:[{box:!0},{display:this.state.show?"block":"none"}],iframe:[(0,o.default)({iframe:!0},"__"+this.state.mode,!0),{position:"fb"===this.state.mode?"relative":null}],infoText:[{infoText:!0}]},style:S.default}}},{key:"renderData",value:function(e,t){return h.default.createElement("jdiv",t.box,(this.state.vk||this.state.fb)&&h.default.createElement("jdiv",{className:S.default.infoText,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,_.default)("social_get_access"):(0,_.default)("social_get_access_fb")}}),this.renderIframe(t))}}]),n}(g.default);t.default=x},12784:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(54103)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(59748)),h=a(n(60021)),g=a(n(62904)),m=a(n(75119)),v=a(n(6991)),_=a(n(19301)),y=a(n(75043)),b=a(n(4897));function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var C=y.default.name("SocialPopup"),T=function(e){(0,c.default)(n,e);var t=E(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={mode:v.default.getSocial().mode},a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this;C.log("mounted"),v.default.addListener("update",(function(){var t=v.default.getPopupMode(),n=v.default.getSocial().mode;t?e.setState({mode:t}):"email"!==n&&e.setState({mode:n})}))}},{key:"close",value:function(){C.log("close click."),v.default.setPopupMode(""),this.props.hideCallback()}},{key:"renderIframe",value:function(){if(this.state.mode&&v.default.checkSocial()){var e=v.default.getIframeUrl(this.state.mode),t="vk"==this.state.mode?52:74;return p.default.createElement("iframe",{width:"300",border:"0",height:t,src:e})}}},{key:"getRenderData",value:function(){return{data:{},styles:{wrap:[{wrap:!0}],iconHeader:[(0,l.default)({iconHeader:!0},"__"+this.state.mode,this.state.mode)]},style:b.default}}},{key:"renderData",value:function(e,t){var n,a=this;return g.default.joint?p.default.createElement("jdiv",t.wrap,p.default.createElement(_.default,{onClose:function(e){e.stopPropagation(),a.close()}}),p.default.createElement("jdiv",t.iconHeader),p.default.createElement("jdiv",{className:b.default.textBox},p.default.createElement("jdiv",{className:b.default.text,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,m.default)("social_get_access"):(0,m.default)("social_get_access_fb")}}),this.renderIframe()),p.default.createElement("jdiv",{className:b.default.linkBox},p.default.createElement("jdiv",{onClick:(0,o.default)(n=this.close).call(n,this),className:b.default.link},(0,m.default)("cancel")))):p.default.createElement("jdiv",null)}}]),n}(h.default);t.default=T},63237:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.processSocial=function(e,t){s.log("processSocial"),e.preventDefault(),r.Router.next(o.RouterEvent.ToSocial);var n="vk"===t?u.TelemetryName.CONTINUE_IN_VK:u.TelemetryName.CONTINUE_IN_FB;l.Monitoring.telemetry(n),i.default.trackContinueInSocial(t)};var i=a(n(40695)),r=n(17674),o=n(85442),l=n(33367),u=n(63242),s=a(n(75043)).default.name("SocialButtonHelpers")},48309:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=t.Sound=void 0;var o=a(n(2991)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=n(56602),h=a(n(24794)),g=n(94515),m=a(n(45808));function v(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}a(n(75043)).default.name("SoundPlayer");var _=function(e){var t=e.src,n=(g.EnvironmentManager.isDevelopment()?"/public":"")+"/sounds/".concat(t,"."),a=(0,p.staticUrl)(n+"mp3",!0),i=(0,p.staticUrl)(n+"ogg",!0),r=(0,p.staticUrl)(n+"wav",!0);return f.default.createElement("audio",{preload:"auto",id:"jivo-sound-".concat(t)},f.default.createElement("source",{src:a,type:"audio/mpeg"}),f.default.createElement("source",{src:i,type:"audio/ogg; codecs=vorbis"}),f.default.createElement("source",{src:r,type:"audio/wav"}))};t.Sound=_;var y=function(e){(0,s.default)(n,e);var t=v(n);function n(e){return(0,l.default)(this,n),t.call(this,e)}return(0,u.default)(n,[{key:"render",value:function(){var e;return f.default.createElement("jdiv",{id:"jivo-player",className:h.default.player},(0,o.default)(e=this.props.sounds).call(e,(function(e,t){return f.default.createElement(_,{src:e,ref:function(t){m.default.set("sound_".concat(e).toUpperCase(),t)},key:t})})))}}]),n}(f.default.PureComponent);t.default=y},46443:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.getIcons=function(){return M},t.default=void 0;var o=a(n(5872)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),p=a(n(15852)),h=a(n(88603)),g=a(n(82632)),m=a(n(69527)),v=a(n(97126)),_=a(n(27684)),y=a(n(50109)),b=a(n(29428)),E=a(n(2427)),C=a(n(36599)),T=a(n(87409)),w=a(n(92809)),S=a(n(63899)),k=a(n(86227)),I=a(n(34948));function A(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var M={logo_jivosite:h.default,logo_jivochat:g.default,hand:m.default,arrow:v.default,arrow2:_.default,"icon-ok-white":y.default,"icon-ok":b.default,"icon-v-email":E.default,mobileBack:C.default,callMessageStartIcon:T.default,callEndIcon:w.default,labelCall:S.default,labelFb:k.default,iconClose:I.default};var x=function(e){(0,s.default)(n,e);var t=A(n);function n(e){var a;(0,l.default)(this,n),(a=t.call(this,e)).initIcons();var i=p.default[a.props.iconName+"Icon"];return a.className=a.props.className+(i?" "+i:""),a}return(0,u.default)(n,[{key:"initIcons",value:function(){this.iconsMap=M}},{key:"getIcon",value:function(){return this.iconsMap[this.props.iconName]}},{key:"render",value:function(){return f.default.createElement("jdiv",(0,o.default)({dangerouslySetInnerHTML:{__html:this.getIcon()}},this.props,{className:this.className}))}}]),n}(f.default.Component);t.default=x},58165:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.getIcons=function(){return we},t.getSvgBgIcon=function(e,t){if(!e)return null;var n=we[e];t&&(n=n.replace(/_COLOR1_/gi,t));return n?'"data:image/svg+xml,'.concat(encodeURIComponent(n),'"'):null},t.default=void 0;var f=a(n(87672)),p=a(n(18777)),h=a(n(59748)),g=a(n(15852)),m=a(n(45697)),v=a(n(12298)),_=a(n(38353)),y=a(n(70099)),b=a(n(28336)),E=a(n(81483)),C=a(n(28843)),T=a(n(15504)),w=a(n(22722)),S=a(n(30349)),k=a(n(93091)),I=a(n(34948)),A=a(n(74783)),M=a(n(36683)),x=a(n(64924)),R=a(n(33825)),O=a(n(75001)),N=a(n(15455)),D=a(n(18317)),L=a(n(22764)),P=a(n(99652)),B=a(n(34886)),j=a(n(18079)),F=a(n(85972)),H=a(n(2482)),U=a(n(54389)),W=a(n(2427)),z=a(n(87409)),G=a(n(92809)),V=a(n(99350)),q=a(n(69357)),K=a(n(43055)),Y=a(n(39581)),Z=a(n(28149)),J=a(n(54304)),X=a(n(28372)),$=a(n(31617)),Q=a(n(75630)),ee=a(n(36972)),te=a(n(12320)),ne=a(n(58915)),ae=a(n(13339)),ie=a(n(39186)),re=a(n(1900)),oe=a(n(80441)),le=a(n(88921)),ue=a(n(42899)),se=a(n(28122)),ce=a(n(12103)),de=a(n(96955)),fe=a(n(62842)),pe=a(n(93759)),he=a(n(66574)),ge=a(n(68611)),me=a(n(799)),ve=a(n(54983)),_e=a(n(77829)),ye=a(n(18690)),be=a(n(34460));function Ee(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=Ee(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=Ee(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var Te={},we={"logo-j-white":v.default,"mobile-cloud":_.default,"icon-im":y.default,envelope:b.default,"envelope-offline":E.default,"callback-btn":C.default,"icon-close":I.default,"logo-jivosite-white":T.default,"logo-jivochat-white":w.default,"logo-jivosite":S.default,"logo-jivochat":k.default,sb:_e.default,vk:A.default,fb:M.default,wa:x.default,viber:O.default,telegram:R.default,"phone-outgoing":D.default,phone:L.default,labelChat:P.default,"message-text":B.default,"send-button":j.default,"icon-emoji":F.default,"icon-attach":H.default,"icon-ok-white":U.default,"icon-v-email":W.default,callMessageStartIcon:z.default,callEndIcon:G.default,refresh:V.default,"icon-photo":q.default,"icon-video":K.default,"icon-audio":Y.default,"icon-document":Z.default,"icon-error":X.default,"icon-cancel":J.default,"icon-ruble":$.default,"icon-anonymous":Q.default,"icon-v":ee.default,"rating-negative":te.default,"rating-positive":ne.default,"icon-callok":ae.default,"icon-connect":ie.default,"icon-connect2":re.default,"icon-close-chat":oe.default,"icon-popup-close":le.default,"mobile-send-button":ue.default,"icon-tube":se.default,"start-chat":ce.default,"icon-back":de.default,leafBottom:fe.default,leafBottomOffline:pe.default,"icon-more":he.default,iconBot:ge.default,iconWa:x.default,iconHamburger:me.default,iconMic:ve.default,top100Icon:ye.default,top100MobileIcon:be.default,igIcon:N.default};var Se=function(e){var t=e.iconName,n=e.className,a=e.color,i=e.color2,r=e.hoverColor,o=e.style,l=e["data-qa-id"],u=h.default.useState(!1),s=(0,p.default)(u,2),c=s[0],d=s[1],f=g.default[t+"Icon"],m=n+(f?" "+f:""),v=function(e){r&&d(e)};return h.default.createElement("jdiv",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},style:Ce({backgroundImage:function(){var e=t+c?r:a;if(Te[e])return Te[e];var n=encodeURIComponent(we[t]),o=c?r:a;a&&!c&&(n=n.replace(new RegExp("_COLOR1_","ig"),o.replace("#","%23"))),r&&c&&(n=n.replace(new RegExp("_COLOR1_","ig"),o.replace("#","%23"))),i&&(n=n.replace(new RegExp("_COLOR2_","ig"),i.replace("#","%23")));var l='url("data:image/svg+xml,'.concat(n,'")');return Te[t+a+i]=l,l}()},o),className:m,"data-qa-id":l})};Se.propTypes={iconName:m.default.string.isRequired,className:m.default.string,color:m.default.string,color2:m.default.string,hoverColor:m.default.string,style:m.default.any,"data-qa-id":m.default.string};var ke=h.default.memo(Se);t.default=ke},87374:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.Button=void 0;var i=a(n(5872)),r=a(n(87672)),o=a(n(80122)),l=a(n(59748)),u=a(n(94184)),s=a(n(43107)),c=a(n(62904)),d=function(e){var t,n=e.children,a=e.className,d=e.widthFluid,f=void 0!==d&&d,p=e.height,h=void 0===p?"md":p,g=e.isNative,m=void 0!==g&&g,v=e.disabled,_=void 0!==v&&v,y=e.onClick,b=e.onDisabledClick,E=(0,o.default)(e,["children","className","widthFluid","height","isNative","disabled","onClick","onDisabledClick"]),C=m?"button":"jdiv",T=_?b||null:y,w=(0,u.default)(a,(t={},(0,r.default)(t,s.default.button,!m),(0,r.default)(t,s.default.nativeButton,m),(0,r.default)(t,s.default.widthFixed,!f),(0,r.default)(t,s.default.widthFluid,f),(0,r.default)(t,s.default.heightSmall,"sm"===h),(0,r.default)(t,s.default.heightMiddle,"md"===h),(0,r.default)(t,s.default.disabled,_),(0,r.default)(t,s.default["__"+(c.default.bubble_color||"green")],!0),t));return l.default.createElement(C,(0,i.default)({},E,{onClick:T,className:w}),n)};t.Button=d;var f=d;t.default=f},75900:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(2991)),l=a(n(26394)),u=a(n(69198)),s=a(n(5824)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),p=a(n(87672)),h=a(n(59748)),g=a(n(56602)),m=a(n(94184)),v=a(n(20748)),_=a(n(58165)),y=a(n(77843)),b=a(n(62904));function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var C=function(e){(0,c.default)(n,e);var t=E(n);function n(e){var a;(0,l.default)(this,n),a=t.call(this,e),(0,p.default)((0,s.default)(a),"onDocumentClicked",(function(e){e.target.closest(".".concat(y.default.selectWrap))||a.toggleBubbleVissible()})),(0,p.default)((0,s.default)(a),"toggleBubbleVissible",(function(){var e=!a.state.isOpen;a.setState({isOpen:e},(function(){e?g.default.addListener(window.parent.document,"click",a.onDocumentClicked):g.default.removeEvent(window.parent.document,"click",a.onDocumentClicked)}))})),(0,p.default)((0,s.default)(a),"onChange",(function(e){var t=a.props.onChange;void 0!==t&&t({option:a.props.options[e],activeOptionIndex:e});a.setState({activeOptionIndex:e},a.toggleBubbleVissible)})),(0,p.default)((0,s.default)(a),"onStyledSelectChange",(function(e){var t=e.target.getAttribute("jv-sval");a.onChange(t)})),(0,p.default)((0,s.default)(a),"onNativeSelectChange",(function(e){var t=e.target.value;a.onChange(t)}));var i=e.activeOptionIndex;return a.state={activeOptionIndex:i||0,isOpen:!1},a}return(0,u.default)(n,[{key:"getOptionsTemplate",value:function(){var e=this,t=this.props,n=t.options,a=t.isNative;return(0,o.default)(n).call(n,a?function(e,t){return h.default.createElement("option",{value:t},e.label)}:function(t,n){var a=t.label,i=a.length>35?a:void 0;return h.default.createElement("jdiv",{className:y.default.item,key:n,"jv-sval":n,title:i,onClick:e.onStyledSelectChange},a)})}},{key:"render",value:function(){var e,t=this.props,n=t.disabled,a=t.classNameWrap,i=t.theme,r=t.height,o=t.isNative,l=t.options,u=t.invalid,s=this.state,c=s.activeOptionIndex,d=s.isOpen,f=l[c]&&l[c].label,g=this.getOptionsTemplate(),E=g&&g.length>3,C=(0,m.default)(a,y.default.selectWrap,(e={},(0,p.default)(e,y.default.invalid,u),(0,p.default)(e,y.default.styledSelectWrap,!o),(0,p.default)(e,y.default.nativeSelectWrap,o),(0,p.default)(e,y.default.selectIsOpen,d),(0,p.default)(e,y.default.heightSmall,"sm"===r),(0,p.default)(e,y.default.heightMiddle,"md"===r),(0,p.default)(e,y.default.themeFlat,"flat"===i),(0,p.default)(e,y.default.themeInset,"inset"===i),(0,p.default)(e,y.default.disabled,n),(0,p.default)(e,y.default.scroll,E),(0,p.default)(e,y.default["__"+b.default.bubble_color],!0),e));return h.default.createElement("jdiv",{className:C},o?h.default.createElement("jdiv",null,h.default.createElement("select",{onChange:this.onNativeSelectChange,className:y.default.nativeSelect,disabled:n},g),h.default.createElement(_.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:y.default.iconSelect})):h.default.createElement("jdiv",null,h.default.createElement("jdiv",{className:y.default.label,title:f&&f.length>=25?f:void 0,onClick:n?void 0:this.toggleBubbleVissible},f,h.default.createElement("jdiv",{className:y.default.labelArrow},h.default.createElement(_.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:y.default.iconSelect}))),h.default.createElement("jdiv",{className:y.default.items},E?h.default.createElement(v.default,{railClass:y.default.rail,position:"relative"},g):g)))}}]),n}(h.default.Component);t.default=C,(0,p.default)(C,"defaultProps",{theme:"flat",height:"md",options:[]})},27480:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(59748)),o=a(n(58165)),l=a(n(87530)),u=a(n(45697)),s=a(n(94184)),c=n(56602),d=function(e){var t,n=e.onClick,a=e.onLinkClick,u=e.onIconHover,d=e.isChat,f=e.popupBackground,p=e.color,h=e.isCall,g=e.isMobile,m=e.isChatMin,v=function(e){n(e,!0)},_=function(){var e=(0,c.getPageWindow)().location.host;return"https://www.jivo.ru/rating/?utm_source=".concat(e,"&utm_medium=top100&utm_content=top100_tooltip&utm_campaign=from_widget")},y=function(e){switch(e){case 2:return["Смелее пишите в чат! Мы в "," компаний по общению с клиентами на сайте."];default:return["Компания входит в "," по уровню обслуживания клиентов в чате."]}};return r.default.createElement("jdiv",{onClick:function(){v&&v(),g&&(a&&a(),window.open(_(),"_blank"))},onMouseOver:u,className:(0,s.default)((t={},(0,i.default)(t,l.default.topBox,!0),(0,i.default)(t,l.default.__chat,d),t))},r.default.createElement(o.default,{iconName:"top100Icon",className:(0,s.default)((0,i.default)({},l.default.topIcon,!0))}),d&&!m?function(){var e;if(!g)return r.default.createElement("jdiv",{className:(0,s.default)((e={},(0,i.default)(e,l.default.topPopup,!0),(0,i.default)(e,l.default.__call,h),e)),style:{color:p,background:f}},y(2)[0],r.default.createElement("a",{onClick:function(){a&&a()},href:_(),target:"_blank",rel:"noreferrer noopener",title:"",style:{color:p}},"ТОП-100"),y(2)[1])}():null)};d.propTypes={onClick:u.default.func,onLinkClick:u.default.func,onIconHover:u.default.func,isChat:u.default.bool,popupBackground:u.default.string,color:u.default.string,isCall:u.default.bool,isMobile:u.default.bool,isChatMin:u.default.bool,abGroup:u.default.number};var f=r.default.memo(d);t.default=f},31722:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=void 0;var p=i(n(87672)),h=i(n(77766)),g=a(n(59748)),m=i(n(45697)),v=n(26213),_=i(n(77146)),y=n(10872);function b(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=b(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=b(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}var C=i(n(75043)).default.name("NewTransition"),T=function(e){var t,n=e.name,a=e.scriptName,i=e.children,r=e.onClick,o=e.endCallbacks,l=void 0===o?{}:o,u=e.startCallbacks,s=void 0===u?{}:u,c=e.duration,d=void 0===c?"300ms":c,f=e.timingFunction,p=void 0===f?"cubic-bezier(0.39, 0.24, 0.21, 0.99)":f,m=e.delay,v=void 0===m?"0s":m,b=e.iterationCount,T=void 0===b?1:b,w=e.direction,S=void 0===w?"normal":w,k=e.fillMode,I=void 0===k?"both":k,A=e.playState,M=void 0===A?"running":A,x=e.customVars,R=e.style,O=e.animationPostfix,N=e.id,D=(0,g.useRef)(null),L=(0,y.isFallbackNeeded)()?_.default.fallback:_.default[O],P=(0,h.default)(t="".concat(n,"_")).call(t,a);C.log("render",P,O);var B=function(e){return e&&D.current&&e.target===D.current&&e.animationName===L[P]&&a};return g.default.createElement("jdiv",{ref:D,style:E(E({},function(){var e={animationDuration:d,animationTimingFunction:p,animationDelay:v,animationIterationCount:T,animationDirection:S,animationFillMode:I,animationPlayState:M,animationName:a?L[P]:null};return function(e){if(x)for(var t in x)({}).hasOwnProperty.call(x,t)&&((0,y.isFallbackNeeded)()?e[t]=x[t]:e["--".concat(t)]=x[t])}(e),e}()),R),onAnimationEnd:function(e){B(e)&&l[a]&&l[a]()},onAnimationStart:function(e){B(e)&&s[a]&&s[a]()},onClick:r,id:N},i)};T.propTypes={scriptName:m.default.string.isRequired,children:m.default.oneOfType([m.default.arrayOf(m.default.node),m.default.node]).isRequired,name:m.default.string.isRequired,onClick:m.default.func,endCallbacks:m.default.any,startCallbacks:m.default.any,duration:m.default.string,timingFunction:m.default.string,delay:m.default.string,iterationCount:m.default.number,direction:m.default.string,fillMode:m.default.string,playState:m.default.string,customVars:m.default.any,style:m.default.any,animationPostfix:m.default.string,id:m.default.string};var w=(0,v.connect)((function(e){return{scriptName:e.transition.currentScript}}),{})(T);t.default=w},77146:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(83821)),r=a(n(71461)),o=a(n(8511)),l=a(n(60855)),u=a(n(6274)),s=a(n(92964)),c={bottom:i.default,bottom_0:r.default,left:o.default,right:l.default,custom:u.default,fallback:s.default};t.default=c},32444:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getActiveMessage=t.getAcceptLink=t.getMessageId=t.onDeclineButtonClick=t.onAcceptButtonClick=void 0;var i=a(n(20116)),r=a(n(77766)),o=n(17674),l=n(85442),u=n(81189),s=n(20965),c=a(n(81574)),d=n(2843),f=n(94515),p=n(96400),h=n(53172),g=n(8565),m=n(63242),v=a(n(75043)).default.name("WebrtcHelpers");t.onAcceptButtonClick=function(e,t,n,a){var i=c.default.getInstance().managers.permission;if(a)v.warn("onAcceptButtonClick",t.private_id),u.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);else if(n!==d.PermissionStatus.ALLOWED||i.allMics.length>1)o.Router.next(l.RouterEvent.ToCallSetup);else{u.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);var r=c.default.getInstance().managers.webRTCCall;r&&r.connectSdk()}c.default.getInstance().managers.monitoring.telemetry(m.TelemetryName.WEBRTC_ACCEPT_CALL)};t.onDeclineButtonClick=function(e,t,n){var a=c.default.getInstance().managers.webRTCCall;v.log("onDeclineButtonClick",a),a&&(p.ApiProvider.declineWebRTCCall(a.callId,(function(e){v.warn("CALL DECLINE REQUEST SUCCESS",e)})),a.stopCall());var i=n?s.WebRTCCallStatus.ENDED:s.WebRTCCallStatus.DECLINED;u.messagesDispatchers.updateWebRTCCallStatus(t.private_id,i),u.callbackDispatchers.setActiveWebRTCCallMessageId(null),c.default.getInstance().managers.monitoring.telemetry(m.TelemetryName.WEBRTC_DENY_CALL)};t.getMessageId=function(e){return e.get("private_id")};t.getAcceptLink=function(e){var t,n,a,i,o,l,u,s,d;if(!e)return null;var p=c.default.getInstance().managers.webRTCCall;if(!p)return null;var h=p.callId,g=p.voxUserLogin,m=p.voxUserPassword,v=c.default.getInstance().config,_=f.EnvironmentManager.isDevelopment()?"//localhost:8080":v.base_url,y=c.default.getInstance().stores.client,b=v.tel_host,E=(0,r.default)(t=(0,r.default)(n=(0,r.default)(a=(0,r.default)(i="cid=".concat(h,"&vl=")).call(i,g,"&vp=")).call(a,m,"&si=")).call(n,v.site_id,"&wi=")).call(t,v.widget_id)+(0,r.default)(o=(0,r.default)(l=(0,r.default)(u=(0,r.default)(s="&ci=".concat(y.client_id,"&th=")).call(s,b,"&bu=")).call(u,v.base_url,"&lang=")).call(l,v.locale,"&hash=")).call(o,"86b4f73e");v.enable_webrtc_start_call&&(E+="&sc=".concat(v.enable_webrtc_start_call));var C=window.btoa(E);return(0,r.default)(d="https:".concat(_,"/webrtc/?")).call(d,C)};t.getActiveMessage=function(e){var t=(0,h.getMessages)(),n=(0,i.default)(t).call(t,(function(t){return t.type===g.MessageType.WEB_RTC_CALL&&t.body&&t.body.webRTCCallStatus===e}));return n.length?n[0]:null}},96309:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.CheapTransition=void 0;var p=a(n(87672)),h=a(n(23765)),g=a(n(33032)),m=a(n(54103)),v=a(n(26394)),_=a(n(69198)),y=a(n(5824)),b=a(n(51379)),E=a(n(214)),C=a(n(66380)),T=a(n(59748)),w=a(n(60021)),S=a(n(58061));function k(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=k(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=k(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,C.default)(e);if(t){var i=(0,C.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,E.default)(this,n)}}var M=a(n(75043)).default.name("CheapTransitionComponent"),x="UNMOUNTED",R="BEFORE_ENTER",O="ENTER",N="BEFORE_EXIT",D="EXIT",L=function(e){(0,b.default)(n,e);var t=A(n);function n(e){var a,i,r,o,l;return(0,v.default)(this,n),(l=t.call(this,e)).state={status:x,show:e.show},l.getStyles=(0,m.default)(a=l.getStyles).call(a,(0,y.default)(l)),l.changeStatus=(0,m.default)(i=l.changeStatus).call(i,(0,y.default)(l)),l.handleDebugProp=(0,m.default)(r=l.handleDebugProp).call(r,(0,y.default)(l)),l.getFinalStyle=(0,m.default)(o=l.getFinalStyle).call(o,(0,y.default)(l)),l}return(0,_.default)(n,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:R,show:this.props.show})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==x||this.state.status!==x}},{key:"changeStatus",value:function(e,t,n){var a=this;n?(0,g.default)((function(){a.state.status===e&&a.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case R:this.changeStatus(R,O);break;case N:this.changeStatus(N,D);break;case D:this.props.transition||this.changeStatus(D,x,this.props.waitBeforeUnmount)}}},{key:"onTransitionEnd",value:function(e){this.state.status===D&&e&&e.propertyName&&("PopupSlideUpEULA"===this.props.transition&&"transform"===e.propertyName&&this.changeStatus(D,x,this.props.waitBeforeUnmount),"Fade"===this.props.transition&&"opacity"===e.propertyName&&this.changeStatus(D,x,this.props.waitBeforeUnmount))}},{key:"getStyles",value:function(){var e=this.state.status,t=this.props,n=t.transitionStyles,a=t.shouldAnimate;if("object"===(0,h.default)(n.main)){switch(e){case x:break;case R:if(a.mount)return I(I({},n.main),n.enterActive);break;case O:if(a.mount)return I(I(I({},n.main),n.enterActive),n.enterDone);break;case N:if(a.unmount)return I(I({},n.mainExit),n.exitActive);break;case D:if(a.unmount)return I(I(I({},n.mainExit),n.exitActive),n.exitDone)}return null}}},{key:"getFinalStyle",value:function(){var e=this.state.status===x?"none":"block",t=!S.default.mobileOrTablet()&&!this.props.fixed,n=I(I({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===O&&(n=I(I({},n),{},{height:"auto"})),n}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):M.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){var e,t="function"==typeof this.props.children,n=this.getFinalStyle();return this.handleDebugProp(n),T.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n,onTransitionEnd:(0,m.default)(e=this.onTransitionEnd).call(e,this)},t?this.props.children():this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?{status:N,show:e.show}:!0===e.show&&!1===t.show?{status:R,show:e.show}:null}}]),n}(w.default);t.CheapTransition=L},64032:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.MobileTransition=void 0;var p=a(n(87672)),h=a(n(54103)),g=a(n(26394)),m=a(n(69198)),v=a(n(5824)),_=a(n(51379)),y=a(n(214)),b=a(n(66380)),E=a(n(59748)),C=a(n(60021));function T(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=T(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=T(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.default)(e);if(t){var i=(0,b.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}var k=a(n(75043)).default.name("MobileTransition"),I=function(e){(0,_.default)(n,e);var t=S(n);function n(e){var a,i;return(0,g.default)(this,n),(i=t.call(this,e)).handleDebugProp=(0,h.default)(a=i.handleDebugProp).call(a,(0,v.default)(i)),i}return(0,m.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(!e.show&&!this.props.show)}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):k.log(this.props.name,e))}},{key:"render",value:function(){var e=this.props.show?"block":"none",t="function"==typeof this.props.children,n=w(w({},this.props.style),{},{display:e});return this.handleDebugProp(n),E.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n},t?this.props.children():this.props.children)}}]),n}(C.default);t.MobileTransition=I},78837:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902),f=n(1068);i(t,"__esModule",{value:!0}),t.Transition=void 0;var p=a(n(87672)),h=a(n(23765)),g=a(n(33032)),m=a(n(54103)),v=a(n(26394)),_=a(n(69198)),y=a(n(5824)),b=a(n(51379)),E=a(n(214)),C=a(n(66380)),T=a(n(59748)),w=a(n(60021)),S=a(n(58061));function k(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=k(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=k(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,C.default)(e);if(t){var i=(0,C.default)(this).constructor;n=f(a,arguments,i)}else n=a.apply(this,arguments);return(0,E.default)(this,n)}}var M=a(n(75043)).default.name("TransitionComponent"),x="UNMOUNTED",R="ENTER",O="ENTERING",N="ENTERED",D="EXIT",L="EXITING",P="EXITED",B=function(e){(0,b.default)(n,e);var t=A(n);function n(e){var a,i,r,o,l,u,s;return(0,v.default)(this,n),(s=t.call(this,e)).state={status:x,show:e.show},s.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},s.getStyles=(0,m.default)(a=s.getStyles).call(a,(0,y.default)(s)),s.statusCallback=(0,m.default)(i=s.statusCallback).call(i,(0,y.default)(s)),s.changeStatus=(0,m.default)(r=s.changeStatus).call(r,(0,y.default)(s)),s.handleDebugProp=(0,m.default)(o=s.handleDebugProp).call(o,(0,y.default)(s)),s.getParentState=(0,m.default)(l=s.getParentState).call(l,(0,y.default)(s)),s.getFinalStyle=(0,m.default)(u=s.getFinalStyle).call(u,(0,y.default)(s)),s}return(0,_.default)(n,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:this.props.shouldAnimate.mount?R:N})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==x||this.state.status!==x}},{key:"statusCallback",value:function(e){this.statusCallbacks[e]||(this.props[e]&&this.props[e](),this.statusCallbacks[e]=!0)}},{key:"changeStatus",value:function(e,t,n){var a=this;n?(0,g.default)((function(){a.state.status===e&&a.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case R:this.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},this.changeStatus(R,O);break;case O:this.statusCallback("onEnter"),this.changeStatus(O,N,this.props.duration);break;case N:this.statusCallbacks.onExit=!1,this.statusCallbacks.onExited=!1,this.statusCallback("onEntered");break;case D:this.changeStatus(D,L);break;case L:this.statusCallback("onExit"),this.changeStatus(L,P,this.props.duration);break;case P:this.statusCallbacks.onEnter=!1,this.statusCallbacks.onEntered=!1,this.changeStatus(P,x,this.props.waitBeforeUnmount),this.statusCallback("onExited")}}},{key:"getStyles",value:function(){var e=this.state.status,t=this.props,n=t.transitionStyles,a=t.shouldAnimate;if("object"===(0,h.default)(n.main)){switch(e){case x:return I({},n.main);case R:if(a.mount)return I(I({},n.main),n.enterActive);break;case O:case N:if(a.mount)return I(I(I({},n.main),n.enterActive),n.enterDone);break;case D:if(a.unmount)return I(I({},n.mainExit),n.exitActive);break;case L:case P:if(a.unmount)return I(I(I({},n.mainExit),n.exitActive),n.exitDone)}return null}}},{key:"getFinalStyle",value:function(){var e=this.state.status===x?"none":"block",t=!S.default.mobileOrTablet()&&!this.props.fixed,n=I(I({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===N&&(n=I(I({},n),{},{height:"auto"})),n}},{key:"getParentState",value:function(){var e={status:this.state.status,name:this.props.name,show:this.state.show};return this.props.parentState?(e.parentState=this.props.parentState,e.level=this.props.parentState.level+1):e.level=0,e}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):M.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){var e=this,t="function"==typeof this.props.children,n=this.getFinalStyle();return this.handleDebugProp(n),T.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n,onTransitionEnd:function(t){e.props.animationEnd&&e.props.animationEnd(t)}},t?this.props.children(this.getParentState()):this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?this.handleUnmount(e,t):!0===e.show&&!1===t.show?this.handleMount(e,t):null}},{key:"handleUnmount",value:function(e,t){return e.parentState?e.parentState.status===x?{status:x,show:e.show}:!0===e.parentState.show?e.parentState.parentState&&e.parentState.parentState.status!==N?{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?D:P,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?D:P,show:e.show}}},{key:"handleMount",value:function(e,t){return e.parentState&&e.shouldWait>=0?this.findLevelStatus(e.shouldWait,e.parentState)===N?{status:e.shouldAnimate.mount?R:N,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.mount?R:N,show:e.show}}},{key:"findLevelStatus",value:function(e,t){return t.level===e?t.status:t.level>e?this.findLevelStatus(e,t.parentState):void 0}}]),n}(w.default);t.Transition=B},26936:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=void 0;var f=a(n(87672)),p=a(n(77766)),h=a(n(62904)),g=a(n(38514)),m=n(17674),v=a(n(58061));function _(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=_(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=_(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var b="cubic-bezier(0.39, 0.24, 0.21, 0.99)",E={NoTransition:function(){return{main:{},enterActive:{},enterDone:{},mainExit:{},exitActive:{},exitDone:{}}},Container:function(e){var t,n,a,i,r,o,l,u=e.marginRight,s=e.width,c=(e.height,function(){var e=h.default.widget_padding>>0;return 0==e?"":50==e?"".concat(e,"%"):"30px"}),d=300,f=(0,p.default)(t="width ".concat(d,"ms ")).call(t,b,", ")+(0,p.default)(n="margin-right ".concat(d,"ms ")).call(n,b,", ")+(0,p.default)(a="right ".concat(d,"ms ")).call(a,b,", ")+(0,p.default)(i="transform ".concat(d,"ms ")).call(i,b,", ")+(0,p.default)(r="opacity ".concat(d,"ms ")).call(r,b,", ")+(0,p.default)(o="height ".concat(d,"ms ")).call(o,b,", ")+(0,p.default)(l="left ".concat(d,"ms ")).call(l,b),_=v.default.ieOrEdge()||v.default.safari()?"translateY(92%)":"translateY(calc(100% - 40px))",E="50"==h.default.widget_padding?-150:0;return{main:{width:"".concat(s,"px"),marginRight:u||E,right:c(),left:"0"===h.default.widget_padding?"30px":"",transition:f,willChange:"width, margin-right, right, transform, opacity, left, height",transform:_},enterActive:y({width:"".concat(s,"px"),marginRight:u,right:c(),transform:_},(v.default.ieOrEdge()||v.default.safari())&&{height:"40px"}),enterDone:y({width:"",marginRight:"",right:"",transform:"translateY(0%)"},g.default.getPositionStyle(m.Router.getCurrentRoute())),mainExit:{transition:f,willChange:"width, margin-right, right, transform, opacity, left, height"},exitActive:y({transform:"translateY(0%)"},g.default.getPositionStyle(m.Router.getCurrentRoute())),exitDone:{width:"".concat(s,"px"),marginRight:u,right:c(),left:"0"===h.default.widget_padding?"30px":"",transform:_}}},ContainerRight:function(e){var t,n,a,i,r,o,l=e.marginBottom,u=e.height,s=(e.width,300),c=(0,p.default)(t="height ".concat(s,"ms ")).call(t,b,", ")+(0,p.default)(n="margin-bottom ".concat(s,"ms ")).call(n,b,", ")+(0,p.default)(a="right ".concat(s,"ms ")).call(a,b,", ")+(0,p.default)(i="transform ".concat(s,"ms ")).call(i,b,", ")+(0,p.default)(r="opacity ".concat(s,"ms ")).call(r,b,", ")+(0,p.default)(o="bottom ".concat(s,"ms ")).call(o,b),d="translateX(100%) translateY(0)",f="100"!==h.default.widget_padding?-248:null,v="100"!==h.default.widget_padding?"".concat(h.default.widget_padding,"%"):"0px";return{main:{height:"".concat(u,"px"),marginBottom:l||f,transition:c,transform:d,bottom:v,right:"40px",willChange:"height, margin-bottom, right, transform, opacity, bottom",opacity:0},enterActive:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,right:"40px",opacity:0},enterDone:y({height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},g.default.getPositionStyle(m.Router.getCurrentRoute())),mainExit:{transition:c,willChange:"height, margin-bottom, right, transform, opacity, bottom"},exitActive:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,opacity:1},exitDone:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,right:"40px",opacity:0}}},ContainerLeft:function(e){var t,n,a,i,r,o,l=e.marginBottom,u=e.height,s=(e.width,300),c=(0,p.default)(t="height ".concat(s,"ms ")).call(t,b,", ")+(0,p.default)(n="margin-bottom ".concat(s,"ms ")).call(n,b,", ")+(0,p.default)(a="left ".concat(s,"ms ")).call(a,b,", ")+(0,p.default)(i="transform ".concat(s,"ms ")).call(i,b,", ")+(0,p.default)(r="opacity ".concat(s,"ms ")).call(r,b,", ")+(0,p.default)(o="bottom ".concat(s,"ms ")).call(o,b),d=v.default.ieOrEdge()?"translateX(-100%) translateY(0)":"translateX(calc(-100% - 10px)) translateY(0)",f="100"!==h.default.widget_padding?-248:null,_="100"!==h.default.widget_padding?"".concat(h.default.widget_padding,"%"):"";return{main:{height:"".concat(u,"px"),marginBottom:l||f,transition:c,bottom:_,left:"40px",willChange:"height, margin-bottom, left, transform, opacity, bottom",transform:d,opacity:0},enterActive:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,left:"40px",opacity:0},enterDone:y({height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},g.default.getPositionStyle(m.Router.getCurrentRoute())),mainExit:{transition:c,willChange:"height, margin-bottom, left, transform, opacity, bottom"},exitActive:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,opacity:1},exitDone:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,left:"40px",opacity:0}}},Fade:function(){var e,t,n;return{main:{transition:(0,p.default)(e="opacity ".concat(200,"ms ")).call(e,b),opacity:0},enterActive:{transition:(0,p.default)(t="opacity ".concat(200,"ms ")).call(t,b),opacity:0},enterDone:{opacity:1},mainExit:{transition:(0,p.default)(n="opacity ".concat(200,"ms ")).call(n,b),opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},FadeWithDelay:function(){var e,t,n,a,i,r;return{main:{transition:(0,p.default)(e=(0,p.default)(t="opacity ".concat(200,"ms ")).call(t,b," ")).call(e,400,"ms"),opacity:0},enterActive:{transition:(0,p.default)(n=(0,p.default)(a="opacity ".concat(200,"ms ")).call(a,b," ")).call(n,400,"ms"),opacity:0},enterDone:{opacity:1},mainExit:{transition:(0,p.default)(i=(0,p.default)(r="opacity ".concat(200,"ms ")).call(r,b," ")).call(i,400,"ms"),opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},LabelFade:function(){var e,t,n,a,i=v.default.ie()?0:250,r=v.default.ie()?1500:250,o="ease";return{main:{transition:(0,p.default)(e=(0,p.default)(t="opacity ".concat(r,"ms ")).call(t,o," ")).call(e,i,"ms"),opacity:0},enterActive:{transition:(0,p.default)(n=(0,p.default)(a="opacity ".concat(r,"ms ")).call(a,o," ")).call(n,i,"ms"),opacity:0},enterDone:{opacity:1},mainExit:{transition:"opacity ".concat(50,"ms ",o),opacity:1},exitActive:{transition:"opacity ".concat(50,"ms ",o),opacity:0},exitDone:{opacity:0}}},PopupSlideUpEULA:function(){var e,t;return{main:{width:"100%",transition:(0,p.default)(e="transform ".concat(300,"ms ")).call(e,b),opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},enterActive:{transform:"translateY(100%)"},enterDone:{transform:"translateY(0)"},mainExit:{width:"100%",transition:(0,p.default)(t="transform ".concat(300,"ms ")).call(t,b),transform:"translateY(0)",opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},exitActive:{transform:"translateY(0)"},exitDone:{transform:"translateY(100%)"}}}};t.default=E},57539:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.Path=void 0;var o=a(n(81643)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=a(n(5824)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(59748)),g=a(n(60021)),m=a(n(45697)),v=a(n(58061)),_=n(17674),y=a(n(11017)),b=n(78837),E=n(96309),C=n(64032);function T(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var w=a(n(75043)).default.name("Path"),S=function(e){(0,d.default)(n,e);var t=T(n);function n(e){var a,i,r,o,s;return(0,u.default)(this,n),(s=t.call(this,e)).getTransitionStylesProp=(0,l.default)(a=s.getTransitionStylesProp).call(a,(0,c.default)(s)),s.getShouldAnimateProp=(0,l.default)(i=s.getShouldAnimateProp).call(i,(0,c.default)(s)),s.getTransitionComponent=(0,l.default)(r=s.getTransitionComponent).call(r,(0,c.default)(s)),s.getShow=(0,l.default)(o=s.getShow).call(o,(0,c.default)(s)),s.state={show:s.getShow(_.Router.getCurrentRoute())},s}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this;_.Router.on("route_change",(function(t){var n=e.getShow(t);e.state.show!==n&&e.setState({show:n})}))}},{key:"componentDidCatch",value:function(e){this.getShow(_.Router.getCurrentRoute())&&_.Router.setNext(_.Router.getPrevRoute()),w.warn(e)}},{key:"getShow",value:function(e){var t;return-1!==(0,o.default)(t=this.props.paths).call(t,e)}},{key:"getTransitionStylesProp",value:function(){return this.props.transition?y.default.getTransitionByName(this.props.transition):y.default.getEmptyTransition()}},{key:"getShouldAnimateProp",value:function(){return v.default.mobileOrTablet()?{mount:null,unmount:null}:{mount:this.props.withMountTransition,unmount:this.props.withUnmountTransition}}},{key:"getTransitionComponent",value:function(){return v.default.mobileOrTablet()?C.MobileTransition:!v.default.ieOrEdge()&&this.props.cheap?E.CheapTransition:b.Transition}},{key:"render",value:function(){var e=this.getTransitionComponent();return h.default.createElement(e,{id:this.props.id,show:this.getShow(_.Router.getCurrentRoute()),shouldAnimate:this.getShouldAnimateProp(),duration:this.props.duration||200,className:this.props.className,style:this.props.style,transitionStyles:this.getTransitionStylesProp(),transition:this.props.transition,fixed:this.props.fixed,onEnter:this.props.onEnter,onExit:this.props.onExit,onEntered:this.props.onEntered,onExited:this.props.onExited,parentState:this.props.parentState,name:this.props.name,shouldWait:this.props.shouldWait,isStatic:this.props.isStatic,waitBeforeUnmount:this.props.waitBeforeUnmount,debugCallback:this.props.debugCallback,animationEnd:this.props.animationEnd},this.props.children)}}],[{key:"getDerivedStateFromError",value:function(e){return{show:!1}}}]),n}(g.default);t.Path=S,S.propTypes={paths:m.default.arrayOf(m.default.string).isRequired,withMountTransition:m.default.bool,withUnmountTransition:m.default.bool,transition:m.default.string,fixed:m.default.bool,isStatic:m.default.bool,waitBeforeUnmount:m.default.number,name:m.default.string,duration:m.default.number,onEnter:m.default.func,onEntered:m.default.func,onExit:m.default.func,onExited:m.default.func,animationEnd:m.default.func,children:m.default.oneOfType([m.default.arrayOf(m.default.node),m.default.node,m.default.func]).isRequired,debugCallback:m.default.oneOfType([m.default.bool,m.default.func]),shouldWait:m.default.number,parentState:m.default.any,style:m.default.any}},51017:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(87672)),o=i(n(81643)),l=i(n(18777)),u=a(n(59748)),s=n(26213),c=i(n(45697)),d=i(n(31722)),f=n(81189),p=n(42796),h=n(85442),g=n(21224),m=i(n(90362)),v=n(56602),_=i(n(58061)),y=n(17674),b=n(36143),E=i(n(45808)),C=n(37916),T=n(53278),w=i(n(47321)),S=n(5505),k=n(20965),I=n(33367),A=n(63242),M=(i(n(75043)).default.name("WidgetContainer2"),function(e){var t,n,a,i,s=e.callbackEnabled,c=e.route,M=e.position,x=e.padding,R=e.orientation,O=e.callbackStatus,N=e.isInDrag,D=(0,u.useState)(!1),L=(0,l.default)(D,2),P=L[0],B=L[1],j=(0,u.useState)(!0),F=(0,l.default)(j,2),H=F[0],U=F[1],W=(0,u.useState)(!0),z=(0,l.default)(W,2),G=z[0],V=z[1],q=E.default.get(g.Component.LABEL),K=C.CallbackUtils.isCallbackEnabled(),Y=-1!==(0,o.default)(t=[h.Route.CALL,h.Route.CALL_EULA,h.Route.INTRODUCE]).call(t,c),Z=c!==h.Route.CALL||-1===(0,o.default)(n=[k.CallStatus.WAIT,k.CallStatus.CONNECTING,k.CallStatus.CONNECTED]).call(n,O),J=!_.default.mobileOrTablet()&&!(0,v.isWixIframe)()&&c!==h.Route.CHAT_MIN,X=P&&J;if(c===h.Route.HIDDEN)return null;var $=(0,T.getCustomVars)(R,x,M,q,Y),Q=function(e){(0,S._callUserFunction)("onResizeCallback",(0,T.getSize)(e,R,M.height?M.height:$.height,y.Router.getCurrentRoute()))};return u.default.createElement(d.default,{id:"jcont",name:g.Component.WIDGET_CONTAINER,startCallbacks:(a={},(0,r.default)(a,p.ScriptName.OPEN_WIDGET,(function(){N||(B(!1),U(!0),V(!1),w.default.initSocial(),w.default.addMessagesOnOpen(),(0,S._callUserFunction)("onOpen"),Q(!0))})),(0,r.default)(a,p.ScriptName.CLOSE_WIDGET,(function(){B(!1),U(!1),V(!1),Q(!1)})),(0,r.default)(a,p.ScriptName.MINIMIZE_WIDGET,(function(){B(!1),U(!0),V(!0),y.Router.next(h.RouterEvent.CloseWindow),Q(!1)})),a),endCallbacks:(i={},(0,r.default)(i,p.ScriptName.OPEN_WIDGET,(function(){N||(B(!0),V(!0),(0,T.fixSafariKeyframes)())})),(0,r.default)(i,p.ScriptName.CLOSE_WIDGET,(function(){y.Router.next(h.RouterEvent.CloseWindow)})),(0,r.default)(i,p.ScriptName.MAXIMIZE_WIDGET,(function(){N||(B(!0),U(!0),V(!0),(0,S._callUserFunction)("onOpen"),Q(!0))})),(0,r.default)(i,p.ScriptName.MIN_WIDGET,(function(){})),i),customVars:$,style:{position:"fixed",display:"block"},animationPostfix:(0,T.getAnimationPostfix)(R,x)},u.default.createElement(m.default,{needRenderCloseBtn:Z,needRenderCallContainer:K,needRenderDrag:X,showCloseButton:P,showHeaderText:H,showBody:G,callbackEnabled:s,route:c,onCloseButtonClick:function(){w.default.closeWidget(),b.RouterUtils.isChatMinAvailable()?f.transitionDispatchers.startTransition(p.ScriptName.MINIMIZE_WIDGET):O===k.CallStatus.CONNECTED?y.Router.next(h.RouterEvent.CloseWindow):f.transitionDispatchers.startTransition(p.ScriptName.CLOSE_WIDGET),I.Monitoring.telemetry(A.TelemetryName.WIDGET_CLOSE_CLICK)},isStatic:Y}))});M.propTypes={callbackEnabled:c.default.bool,route:c.default.string,position:c.default.any,padding:c.default.string,orientation:c.default.string,callbackStatus:c.default.oneOfType([c.default.string,c.default.bool]),isInDrag:c.default.bool};var x=(0,s.connect)((function(e){return{padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,isInDrag:e.app.isInDrag}}),{})(u.default.memo(M));t.default=x},53278:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.fixSafariKeyframes=t.getSize=t.getCustomVars=t.getAnimationPostfix=t.getPosition=void 0;var f=a(n(87672)),p=n(56602),h=n(24335),g=n(10872),m=a(n(45808)),v=n(21224),_=n(57018),y=n(85442),b=a(n(58061));function E(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e,t,n,a,i){var r={},o=a&&a.offsetWidth,l=a&&a.offsetHeight;return"bottom"===e&&(r=T(t,o,l)),"left"===e&&(r=w(t,o,l)),"right"===e&&(r=S(t,o,l)),r=k(r,n),i&&(r.height="auto"),r.height||(r.height="496px"),r};t.getPosition=C;var T=function(e,t,n){var a={};return"100"===e&&(a.right="30px"),"50"===e&&(a.right="30px"),"0"===e&&(a.left="40px"),a},w=function(e,t,n){var a={left:"40px",bottom:t?b.default.ieOrEdge()?"32%":"calc(50% - ".concat(t/2,"px)"):"50%"};return"100"===e&&(a.bottom="20px"),a},S=function(e,t,n){var a="50"===e?"calc(50% - ".concat(t/2,"px)"):0;return{right:"39px",bottom:t?b.default.ieOrEdge()?"32%":a:"50%"}},k=function(e,t){var n=e;return t.right&&(n.right=t.right),t.height&&(n.height=t.height),t.left&&(n.left=t.left),n};t.getAnimationPostfix=function(e,t){return(0,p.isCustomLabel)()||h.isDesignerEditor?"custom":"bottom"===e&&"0"===t?"".concat(e,"_0"):e};t.getCustomVars=function(e,t,n,a,s){var c=function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=E(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=E(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}({labelwidth:a&&a.offsetWidth?"".concat(a.offsetWidth,"px"):null,labelright:a&&a.style&&a.style.right?a.style.right:null,labelleft:a&&a.style&&a.style.left?a.style.left:null},C(e,t,n,a,s));if(a&&!a.style){var d=(0,g.getSavedLabelPosition)();c.labelleft=d.left,c.labelright=d.right,c.labelwidth="".concat(d.offsetWidth,"px")}return c};t.getSize=function(e,t,n,a){if(a==y.Route.CHAT_MIN)return{width:_.CHAT_WIDTH+"px",height:_.HEADER_HEIGHT+"px"};if(a==y.Route.CALL)return{width:_.CHAT_WIDTH+"px",height:_.DEFAULT_WIDGET_HEIGHT+"px"};var i=e?_.CHAT_WIDTH+"px":(0,g.getSavedLabelPosition)().offsetWidth+"px";return"bottom"===t||e?{width:i,height:e?n:_.LABEL_HEIGHT+"px"}:{width:_.LABEL_HEIGHT+"px",height:(0,g.getSavedLabelPosition)().offsetWidth+"px"}};t.fixSafariKeyframes=function(){if(b.default.safari()&&!b.default.mobileOrTablet()){var e=m.default.get(v.Component.WIDGET_CONTAINER);(0,g.updateKeyframes)(e)}}},90362:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),r=a(n(45697)),o=a(n(44334)),l=a(n(5777)),u=a(n(49931)),s=a(n(99952)),c=a(n(75119)),d=n(85442),f=i.default.lazy((function(){return n.e(402).then(n.t.bind(n,34271,7))})),p=[d.Route.CHAT,d.Route.CHAT_CALL,d.Route.CHAT_EULA,d.Route.CHAT_EVAL,d.Route.CHAT_INTRODUCE,d.Route.CHAT_SOCIAL,d.Route.CHAT_MIN,d.Route.CHAT_SETUP_CALL,d.Route.DEPARTMENTS,d.Route.INTRODUCE,d.Route.DEBUG],h=[d.Route.CALL,d.Route.CALL_EULA],g=function(e){var t=e.needRenderCloseBtn,n=e.needRenderCallContainer,a=e.needRenderDrag,r=e.showCloseButton,g=e.showHeaderText,m=e.showBody,v=e.callbackEnabled,_=e.route,y=e.onCloseButtonClick,b=e.isStatic;return i.default.createElement(i.default.Fragment,null,t?i.default.createElement(s.default,{drag:a,callEnabled:v,inCall:_===d.Route.CALL,show:r,onClick:y,ignoreDragHeight:b}):null,i.default.createElement("jdiv",{className:o.default.contentWrapper},i.default.createElement(l.default,{allowedRoutes:p,currentRoute:_,name:"ChatContainer"},i.default.createElement(u.default,{showHeaderText:g,showBody:m,canRenderCall:n})),n?i.default.createElement(l.default,{allowedRoutes:h,currentRoute:_,name:"CallContainer"},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("jdiv",{className:o.default.loadingWrap},(0,c.default)("cb_loading"))},i.default.createElement(f,{route:_,showBody:m}))):null))};g.propTypes={needRenderCloseBtn:r.default.bool.isRequired,needRenderCallContainer:r.default.bool.isRequired,needRenderDrag:r.default.bool.isRequired,showCloseButton:r.default.bool.isRequired,showHeaderText:r.default.bool.isRequired,showBody:r.default.bool.isRequired,callbackEnabled:r.default.bool.isRequired,route:r.default.string.isRequired,onCloseButtonClick:r.default.func.isRequired,isStatic:r.default.bool};var m=i.default.memo(g);t.default=m},91505:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5872)),l=a(n(33032)),u=a(n(77766)),s=a(n(54103)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),p=a(n(214)),h=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(62107)),_=a(n(58061)),y=a(n(46443)),b=n(56602),E=n(99112),C=a(n(68806)),T=n(17674),w=n(85442),S=a(n(75043)),k=a(n(89953)),I=n(33367),A=n(63242);function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var x=S.default.name("ZoomOverlay"),R=function(e){(0,f.default)(n,e);var t=M(n);function n(e){var a;(0,c.default)(this,n),a=t.call(this,e);var i=C.default.getAppZoom();return a.state={isShow:a.getIsShow(C.default.getUserZoom(),i),iconZoom:i,visualPos:null,view:!!window.visualViewport,showContainer:!0},a._iconWrap=null,a}return(0,d.default)(n,[{key:"isNotLabelRoute",value:function(){return T.Router.getCurrentRoute()!==w.Route.LABEL}},{key:"componentDidMount",value:function(){var e=this;C.default.listenChangeZoom((function(t){x.log("zoom changed"),e.updateZoom(t.appZoom,t.userZoom)})),T.Router.on("route_change",(function(){e.updateZoom(C.default.getAppZoom(),C.default.getUserZoom())}));var t=(0,b.getPageWindow)();if(t.visualViewport&&t.visualViewport.addEventListener){var n,a=v.default.throttle((0,s.default)(n=this.updateBox).call(n,this),150);t.visualViewport.addEventListener("scroll",a),t.visualViewport.addEventListener("resize",a)}this.updateBox()}},{key:"isVisible",value:function(){return this.state.isShow}},{key:"getIsShow",value:function(e,t){return(!_.default.ios()||!C.default.isWidgetOnWix)&&(e>1.03&&this.isNotLabelRoute())}},{key:"updateZoom",value:function(e,t){var n=this,a=this.getIsShow(t,e);_.default.safari()&&a&&C.default.bodyEl&&(C.default.bodyEl.scrollTop=0,C.default.bodyEl.scrollLeft=0),a===this.state.isShow||!this.isNotLabelRoute()||(I.Monitoring.telemetryOnce(a?A.TelemetryName.ZOOM_OVERLAY_SHOW:A.TelemetryName.ZOOM_OVERLAY_HIDE),a)?this.setState({iconZoom:e,isShow:a}):this.setState({iconZoom:e},v.default.debounce((function(){n.setState({isShow:!1})}),500))}},{key:"updateBox",value:function(){var e,t=(0,b.getPageWindow)().visualViewport;t&&this.setState({visualPos:{width:t.width,height:t.height,transform:(0,u.default)(e="translate(".concat(t.offsetLeft,"px, ")).call(e,t.offsetTop,"px)")}})}},{key:"getRenderData",value:function(){var e={zoom:this.state.iconZoom},t={};if(_.default.tablet()){var n=(0,E.getElementPosition)(this._iconWrap);n.left>0&&!_.default.ipad()&&(t.left=-(n.left-n.left*this.state.iconZoom)),n.top>0&&!_.default.ipad()&&(t.top=-(n.top-n.top*this.state.iconZoom))}return{data:{},styles:{wrap:[{wrap:!0,_tablet:_.default.tablet()},{display:this.state.isShow?null:"none"}],iconContainer:[{iconContainer:!0},{width:this.state.view?"100%":C.default.window.innerWidth,height:C.default.window.innerHeight,display:this.state.showContainer?"block":"none"}],iconWrap:[{iconWrap:!0},e],iconWrapContainer:[{iconWrapContainer:!0},t],viewWrap:[{viewWrap:!0},this.state.visualPos],box:[{box:!0},{zoom:this.state.iconZoom}],zoom:[{zoom:!0}]},style:k.default}}},{key:"hideIcons",value:function(){this.setState({showContainer:!1})}},{key:"showIcons",value:function(){var e=this;(0,l.default)((function(){e.setState({showContainer:!0})}),50)}},{key:"renderIcons",value:function(){return g.default.createElement("jdiv",null,g.default.createElement(y.default,{iconName:"hand",className:k.default.handIcon}),g.default.createElement(y.default,{iconName:"arrow",className:k.default.arrow1}),g.default.createElement(y.default,{iconName:"arrow2",className:k.default.arrow2}))}},{key:"getZoomBox",value:function(e){var t,n,a,i,r,l,u,c;return _.default.isPointerEnabled()?g.default.createElement("jdiv",(0,o.default)({},e.zoom,{onPointerDown:(0,s.default)(t=this.hideIcons).call(t,this),onPointerUp:(0,s.default)(n=this.showIcons).call(n,this),onPointerMove:(0,s.default)(a=this.hideIcons).call(a,this),onPointerCancel:(0,s.default)(i=this.showIcons).call(i,this)})):g.default.createElement("jdiv",(0,o.default)({},e.zoom,{onTouchStart:(0,s.default)(r=this.hideIcons).call(r,this),onTouchEnd:(0,s.default)(l=this.showIcons).call(l,this),onTouchCancel:(0,s.default)(u=this.showIcons).call(u,this),onTouchMove:(0,s.default)(c=this.hideIcons).call(c,this)}))}},{key:"renderData",value:function(e,t){var n=this;return g.default.createElement("jdiv",t.wrap,this.getZoomBox(t),g.default.createElement("jdiv",{className:k.default.substrate}),g.default.createElement("jdiv",t.iconContainer,!this.state.view&&g.default.createElement("jdiv",(0,o.default)({},t.iconWrap,{ref:function(e){n._iconWrap=e}}),g.default.createElement("jdiv",t.iconWrapContainer,this.renderIcons())),this.state.view&&g.default.createElement("jdiv",t.viewWrap,g.default.createElement("jdiv",t.box,this.renderIcons()))))}}]),n}(m.default);t.default=R},3850:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.DataProvider=void 0;var i=a(n(54103)),r=a(n(26394)),o=a(n(69198)),l=n(96400),u=n(78618),s=a(n(35195)),c=n(22435),d=a(n(75043)).default.name("ApiInvitations.DataProvider"),f=function(){function e(t,n){var a;(0,r.default)(this,e),this.userToken=t,this.manager=n,this.timer=new c.Timer((0,i.default)(a=this.update).call(a,this)),this.store=new u.InvitationsStore({type:"default",name:"api_invites",itemClass:s.default,keys:{id:null,text:null,ruleName:null,read:null,isPopup:null,isMarkdown:null,prechat:null}}),this.update()}return(0,o.default)(e,[{key:"update",value:function(){d.log("Update invitations"),this.getInvitationsFromApi();var e=Math.floor(120*Math.random()+90);this.timer.start(60*e*1e3)}},{key:"getInvitationsFromApi",value:function(){var e=this;d.log("Getting invitations from Api"),l.ApiProvider.getCustomerIoInvites(this.userToken,(function(t,n){!t&&n?n&&n.ok&&(e.store.save(n.invitations),d.log("Invitations are up to date"),e.manager.addInvitationsToChat()):d.error("Bad request",t&&t.code,t&&t.text)}))}},{key:"hasInvitations",value:function(){return this.store.length()||!1}},{key:"getInvitations",value:function(){return this.store.getAll()}},{key:"markInvitationsRead",value:function(){this.store.markInvitationsRead()}}]),e}();t.DataProvider=f},78618:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.InvitationsStore=void 0;var o=a(n(94473)),l=a(n(20116)),u=a(n(78914)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),p=a(n(66380)),h=a(n(47701)),g=n(33367),m=n(63242),v=a(n(36216));function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var y=a(n(75043)).default.name("ApiInvitations.InvitationsStore"),b=function(e){(0,d.default)(n,e);var t=_(n);function n(e){return(0,s.default)(this,n),t.call(this,e)}return(0,c.default)(n,[{key:"save",value:function(e){var t=this;y.log("Storing invitations",e),this.store.length?this.merge(e):(0,u.default)(e).call(e,(function(e){t.add(e)}))}},{key:"merge",value:function(e){var t=this;y.log("Merging invitations",e),this.deleteUnreads(),(0,u.default)(e).call(e,(function(e){t.findById(e.invitation_id)||t.add(e)}))}},{key:"deleteUnreads",value:function(){var e;y.log("Deleting unread invitations");var t=(0,l.default)(e=this.store).call(e,(function(e){return!e.get("read")}));(0,u.default)(t).call(t,(function(e){e.destroy()}))}},{key:"add",value:function(e){y.log("Adding invitation",e);var t=e.text,n=e.rule_name,a=e.invitation_id,i=e.is_popup,r=e.prechat;this.push({text:t,ruleName:n,id:a,read:!1,isPopup:i||null,prechat:r||null}),g.Monitoring.telemetry(m.TelemetryName.RECEIVE_API_INVITATION,{param1:n,param2:a,param3:v.default&&v.default.client_info&&v.default.client_info.email})}},{key:"findById",value:function(e){var t;return(0,o.default)(t=this.store).call(t,(function(t){return t.get("id")===e}))}},{key:"length",value:function(){return this.store.length}},{key:"markInvitationsRead",value:function(){var e,t=(0,l.default)(e=this.store).call(e,(function(e){return!e.get("read")}));(0,u.default)(t).call(t,(function(e){e.set("read",!0)}))}}]),n}(h.default);t.InvitationsStore=b},60906:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.ApiInvitationsManager=void 0;var f=a(n(2991)),p=a(n(51942)),h=a(n(78914)),g=a(n(87672)),m=a(n(26394)),v=a(n(69198)),_=n(3850),y=a(n(44992)),b=a(n(99357)),E=a(n(18750)),C=a(n(36216)),T=a(n(62652)),w=a(n(69961)),S=n(8565),k=n(5505),I=n(33367),A=n(63242),M=n(81189),x=n(75245),R=a(n(62904)),O=n(17674),N=n(85442),D=n(42796);function L(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=L(Object(a),!0)).call(n,(function(t){(0,g.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=L(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var B=a(n(75043)).default.name("ApiInvitationsManager"),j=new(function(){function e(){var t;(0,m.default)(this,e),this.userToken=null,this.initialized=!1,this.dataProvider=null,this.needToSendTelemetry=(t={},(0,g.default)(t,A.TelemetryName.ANSWER_API_INVITATION,!0),(0,g.default)(t,A.TelemetryName.READ_API_INVITATION,!0),(0,g.default)(t,A.TelemetryName.CLICK_LINK_API_INVITAION,!0),t),this.invitationsCount=0,this.needToOpenChat=!0,this.needToShowPopup=!1,this.needToShowPrechat=!1}return(0,v.default)(e,[{key:"initialize",value:function(e){this.initialized||(this.dataProvider=new _.DataProvider(e,this),this.userToken=e,this.initialized=!0)}},{key:"isInitialized",value:function(){return this.initialized}},{key:"hasInvitations",value:function(){return this.initialized&&this.dataProvider&&this.dataProvider.hasInvitations()}},{key:"saveUnreadInvitations",value:function(){if(this.initialized){var e=b.default.getUnreadApiInvitations();(0,h.default)(e).call(e,(function(e){delete e.get("body").unsave;var t=(0,p.default)({},e.toJSON());M.messagesDispatchers.addMessage(t),e.destroy()})),this.dataProvider.markInvitationsRead()}}},{key:"sendUrlClickTelemetry",value:function(){this.initialized&&this._sendInvitationsTelemetry(A.TelemetryName.CLICK_LINK_API_INVITAION)}},{key:"markInvitationsAnswered",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(A.TelemetryName.ANSWER_API_INVITATION))}},{key:"markInvitationsRead",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(A.TelemetryName.READ_API_INVITATION))}},{key:"_sendInvitationsTelemetry",value:function(e){if(this.initialized){var t=this.getCurrentInvitations();t&&this.needToSendTelemetry[e]&&((0,h.default)(t).call(t,(function(t){I.Monitoring.telemetry(e,{param1:t.get("ruleName"),param2:t.get("id"),param3:C.default&&C.default.client_info&&C.default.client_info.email})})),this.needToSendTelemetry[e]=!1)}}},{key:"addInvitationsToChat",value:function(){var e=this;if(this.initialized){B.log("addRulesToChat",this.store);var t,n,a=this.dataProvider.getInvitations();E.default.getActiveAgent((function(i){B.log("Active agent:",i),i&&((0,p.default)(w.default,i),i.bot_id||C.default.pa_id&&C.default.pa_id===i.agent_id||M.clientDispatchers.setPaId(i.agent_id),M.chatsDispatchers.setJoinedAgents([i]));var r=b.default.getUnreadApiInvitations(),o=r.length;(0,h.default)(r).call(r,(function(e){e.destroy()})),e.invitationsCount=0,(0,h.default)(a).call(a,(function(a){if(!a.get("read")&&!T.default.chat_started){var r=a.get("text");t=a.get("ruleName"),n=a.get("id");var o=i?P(P({},i),{},{customerIO:!0,unsave:!0,invitationId:a.get("id")}):{customerIO:!0,unsave:!0,invitationId:a.get("id")},l={type:S.MessageType.MESSAGE,from:S.MessageInitiator.AGENT,from_id:i&&i.agent_id,text:r,body:o};M.messagesDispatchers.addMessage(l),e.invitationsCount++,e.needToShowPopup=a.get("isPopup")||!1,e.needToShowPrechat=a.get("prechat")||!1}})),e.invitationsCount!==o&&(y.default.play("notification"),e.needToOpenChat&&e.needToShowPopup?(O.Router.next(N.RouterEvent.ToLabelInvitation),I.Monitoring.telemetry(A.TelemetryName.API_INVITATION_OPEN_CHAT,{param1:t,param2:n,param3:C.default&&C.default.client_info&&C.default.client_info.email}),e.needToOpenChat=!1):(O.Router.next(N.RouterEvent.ToChat),M.transitionDispatchers.startTransition(D.ScriptName.OPEN_WIDGET),(0,k._callUserFunction)("onMessageReceived")),e.needToShowPrechat&&e.needToShowPrechat.length&&(x.messageActions.deletePrechatMsg(),R.default.prechat=e._formatInvitationPrechats(e.needToShowPrechat),R.default.enable_prechat=1,x.messageActions.pushPrechat()))}))}}},{key:"_formatInvitationPrechats",value:function(e){return(0,f.default)(e).call(e,(function(e){return{text:e}}))}},{key:"getCurrentInvitations",value:function(){return this.initialized?this.dataProvider.getInvitations():null}}]),e}());t.ApiInvitationsManager=j},22435:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Timer=void 0;var i=a(n(33032)),r=a(n(26394)),o=a(n(69198)),l=function(){function e(t){(0,r.default)(this,e),this.timerId=null,this.cb=t||null}return(0,o.default)(e,[{key:"setCallback",value:function(e){this.cb=e}},{key:"start",value:function(e){clearTimeout(this.timerId),this.timerId=(0,i.default)(this.cb,e)}},{key:"stop",value:function(){clearTimeout(this.timerId)}}]),e}();t.Timer=l},81574:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),r=a(n(54103)),o=a(n(26394)),l=a(n(69198)),u=a(n(59748)),s=a(n(59748)),c=a(n(92945)),d=n(56602),f=n(5505),p=a(n(62904)),h=a(n(62652)),g=n(21224),m=a(n(45808)),v=a(n(75043)),_=n(74525),y=a(n(47321)),b=a(n(43942)),E=n(93848),C=n(94990),T=a(n(14847)),w=n(94515),S=n(43472),k=a(n(58061)),I=a(n(23582)),A=v.default.name("Jivo Widget"),M=null,x=function(){function e(){if((0,o.default)(this,e),M)return M;M=this,this.config=p.default,this.managers={sound:null,connection:null,environment:null,eula:null,feature:null,history:null,loaderContext:null,pageVisibility:null,position:null,recaptcha:null,ref:null,rule:null,title:null,transition:null,windowResize:null,abTest:null,monitoring:null,analytics:null,debug:null,device:null},this.stores={app:null,client:null,agent:null,agents:null,history:null,local:null,proactive:null,session:null,messages:null,temp:null},this.integrations={},this.utils={},this.rootContainer=null,this.devTools=null,this.reduxStore=S.reduxStore,this.initialize(),this.sendInitialTelemetry()}return(0,l.default)(e,[{key:"initialize",value:function(){(0,_.initializePolyfills)(),this.initStories(),this.initUtils(),this.initManagers(),this.initIntegrations(),this.initPublicApi(),(0,_.subscribeToPageVisibilityChanges)(this)}},{key:"initStories",value:function(){A.log("Initializing stories"),(0,_.generateVisitorId)(),(0,_.initializeSession)(),y.default.initializeReduxStores(),(0,_.initializeDeprecatedStores)(this)}},{key:"initManagers",value:function(){A.log("Initializing managers"),this.managers.feature=new I.default,this.managers.environment=w.EnvironmentManager,this.managers.device=k.default,this.managers.ref=m.default,(0,_.initializeLoaderContextManager)(this),(0,_.initializeDebugDataCollector)(this),(0,_.initializeAbTestManager)(this),(0,_.initializeMonitoring)(this),(0,_.initializeWindowResizeManager)(this),(0,_.initializeConnection)(this),b.default.run(),(0,_.initializeDevTools)(this)}},{key:"initIntegrations",value:function(){A.log("Initializing integrations"),(0,_.initializeRecaptcha)(this),(0,E.initCallTouch)(),(0,C.initVideoForce)(),(0,_.initializeCobrowse)(),(0,_.initializeAnalytics)(this),y.default.requestCWAvailable(),(0,d.deleteNonce)()}},{key:"initUtils",value:function(){A.log("Initializing utils"),(0,_.initializeUtils)(this)}},{key:"initPublicApi",value:function(){A.log("Initializing public api"),(0,_.exposeJivoVersion)(),(0,_.exposeApi)(),(0,T.default)()}},{key:"sendInitialTelemetry",value:function(){(0,_.sendLoadTimeTelemetry)(),(0,_.sendLoadedInIframeTelemetry)()}},{key:"start",value:function(){A.warn("start"),(0,d.isAppCobrowse)()||((0,_.resetAgents)(),this.render(),h.default.started=!0,(0,_.initializeRuleManager)(this),(0,_.sendBundleLoadedTelemetry)(),(0,_.handleChatPageStart)())}},{key:"stop",value:function(){A.warn("stop"),(0,_.stop)()}},{key:"render",value:function(){var e;if(A.log("Rendering"),(0,f._callUserFunction)("onInitCallback"),w.EnvironmentManager.isDevelopment()){n(14369),n(67665);var t=n(6400),a=t.options,i=t.Fragment,o=t.Component;window.parent.__PREACT_DEVTOOLS__&&window.parent.__PREACT_DEVTOOLS__.attachPreact("10.5.5",a,{Fragment:i,PreactComponent:o})}var l=(0,d.getPageWindow)(),v=l.document.body;this.rootContainer=l.document.createElement("jdiv"),(0,d.addListener)(l,"jBeforeunload",(0,r.default)(e=this.unmount).call(e,this)),v.appendChild(this.rootContainer),!(0===h.default.is_online&&1===p.default.hide_offline&&!h.default.chat_started)&&s.default.render(u.default.createElement(c.default,{ref:function(e){m.default.set(g.Component.ROOT_COMPONENT,e)}}),this.rootContainer),(0,_.initializeSoundManager)(this),(0,f._callUserFunction)("onLoadCallback")}},{key:"unmount",value:function(){var e;A.log("Unmounting");var t=(0,d.getPageWindow)(),n=t.document.body;u.default.unmountComponentAtNode(this.rootContainer),n.removeChild(this.rootContainer),(0,d.removeEvent)(t,"jBeforeunload",(0,r.default)(e=this.unmount).call(e,this)),(0,i.default)((function(){(0,f._callUserFunction)("onWidgetDestroy")}),0)}}],[{key:"getInstance",value:function(){return M}}]),e}();t.default=x},74525:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initializeWebRTCCallManager=t.initializePermissionManager=t.handleChatPageStart=t.initializeUtils=t.initializeAbTestManager=t.initializeDeprecatedStores=t.initializeConnection=t.stop=t.initializeDevTools=t.initializeSession=t.initializeCobrowse=t.initializePolyfills=t.initializeMonitoring=t.initializeWindowResizeManager=t.initializeRecaptcha=t.initializeLoaderContextManager=t.initializeAnalytics=t.initializeRuleManager=t.initializeSoundManager=t.initializeDebugDataCollector=t.sendLoadTimeTelemetry=t.sendLoadedInIframeTelemetry=t.sendBundleLoadedTelemetry=t.generateVisitorId=t.subscribeToPageVisibilityChanges=t.exposeApi=t.exposeJivoVersion=t.resetAgents=void 0;var r=i(n(63109)),o=i(n(51161)),l=i(n(94198)),u=i(n(33032)),s=n(94515),c=i(n(20097)),d=n(33367),f=n(63242),p=i(n(77922)),h=a(n(56602)),g=i(n(69961)),m=n(81189),v=n(53172),_=i(n(82993)),y=i(n(18750)),b=i(n(68806)),E=i(n(51362)),C=i(n(46390)),T=n(60906),w=n(75245),S=n(75737),k=i(n(45808)),I=i(n(6991)),A=i(n(9805)),M=i(n(5972)),x=i(n(93268)),R=i(n(47321)),O=i(n(62652)),N=i(n(36216)),D=i(n(8282)),L=n(43472),P=i(n(58061)),B=i(n(40695)),j=i(n(99357)),F=i(n(35067)),H=n(17674),U=n(85442),W=n(37846),z=i(n(44992)),G=i(n(67966)),V=i(n(62904)),q=i(n(44299)),K=i(n(13106)),Y=i(n(82207)),Z=a(n(5505)),J=i(n(23586)),X=i(n(88561)),$=i(n(41829)),Q=i(n(27968)),ee=i(n(71673)),te=i(n(22544)),ne=i(n(33421)),ae=i(n(61690)),ie=i(n(11723)),re=i(n(33535)),oe=i(n(75043)).default.name("Jivo Widget Utils");t.resetAgents=function(){oe.log("resetting agents"),O.default.chat_started||m.chatsDispatchers.setNoJoinedAgents()};t.exposeJivoVersion=function(){oe.log("exposeJivoVersion"),(0,h.getPageWindow)().jivo_version=s.EnvironmentManager.getVersion()};t.exposeApi=function(){oe.log("exposeApi"),(0,h.getPageWindow)().jivo_api=Z.default};t.subscribeToPageVisibilityChanges=function(e){oe.log("subscribeToPageVisibilityChanges"),X.default.subscribe((function(t){t&&($.default.stopBlinking(),le(e)),(0,h.isAppCobrowse)()||(R.default.reloadStories(),R.default.initializeReduxStores())}))};t.generateVisitorId=function(){N.default.visitorId?oe.log("Visitor id already exists:",N.default.visitorId):(N.default.visitorId=(0,h.generateGUIDCount)(4),oe.log("New visitor id:",N.default.visitorId))};t.sendBundleLoadedTelemetry=function(){oe.log("sendBundleLoadedTelemetry"),(0,u.default)((function(){d.Monitoring.telemetryWithProbability(f.TelemetryName.BUNDLE_LOADED,{param1:s.EnvironmentManager.getVersion(),param2:c.default.getInstance().store.isNewCode?"newCode":"oldCode",param3:window.navigator.language},15)}),1e3)};t.sendLoadedInIframeTelemetry=function(){oe.log("sendLoadedInIframeTelemetry"),window.parent.window!=window.top&&O.default.route!==U.Route.HIDDEN&&d.Monitoring.telemetryWithProbability(f.TelemetryName.IN_IFRAME_STARTED,{},10)};t.sendLoadTimeTelemetry=function(){oe.log("sendLoadTimeTelemetry");var e=c.default.getInstance();if(e&&P.default.supportsLocalStorage()){var t=e.store.loadTime;t&&(d.Monitoring.telemetry(f.TelemetryName.CDN_LOAD_TIME,{param1:(0,l.default)(t)}),e.setInStore("loadTime",null))}};t.initializeDebugDataCollector=function(e){oe.log("initializeDebugDataCollector"),e.managers.debug=new A.default(O.default,V.default,N.default,G.default,g.default,L.reduxStore,j.default)};t.initializeSoundManager=function(e){oe.log("initializeSoundManager"),e.managers.sound=z.default,z.default.initSoundPlayer()};t.initializeRuleManager=function(e){e.managers.rule=q.default,(0,h.isPaidCustomer)()?(q.default.init(),oe.log("initializeRuleManager success")):oe.log("initializeRuleManager failure")};t.initializeAnalytics=function(e){e.managers.analytics=B.default,(0,h.isPaidCustomer)()?(oe.log("initializeAnalytics success"),B.default.init()):oe.log("initializeAnalytics failure")};t.initializeLoaderContextManager=function(e){oe.log("initializeLoaderContextManager"),e.managers.loaderContext=new c.default(V.default.widget_id,O.default)};t.initializeRecaptcha=function(e){if(e.managers.feature.isEnabled(W.Feature.RECAPTCHA)){oe.log("initializeRecaptcha");var t=new K.default(e,V.default.recaptcha);e.managers.recaptcha=t,t.addRecaptchaToPage()}};t.initializeWindowResizeManager=function(e){oe.log("initializeWindowResizeManager");e.managers.windowResize=new Y.default((function(e){(0,Z._callUserFunction)("onResizeCallback",e)}))};t.initializeMonitoring=function(e){oe.log("initializeMonitoring"),d.Monitoring.init(),e.managers.monitoring=d.Monitoring};t.initializePolyfills=function(){oe.log("initializePolyfills"),J.default.init()};t.initializeCobrowse=function(){(0,h.getPageWindow)()==window.top||(0,h.isWixIframe)()||(oe.log("initializeCobrowse"),Q.default.init());var e=(0,h.getPageWindow)().location.hash.split("jvhs_")[1];if(void 0!==e){var t=j.default.getCobrowseByHash(e),n=null,a=null;if(oe.log("cobrowse from init",t),t){var i=D.default.getAgentById(t.get("from_id"));i&&(n=i.toJSON()),a=t.get("body.text"),oe.log("cobrowse agentData",n)}(0,u.default)((function(){Q.default.getCobrowseData(e,null,a,n)}),1e3)}};t.initializeSession=function(){if(oe.log("initializeSession"),!M.default.get("enter_ts")){M.default.set("enter_ts",(new Date).getTime());var e=x.default.get("visits_count");x.default.set("visits_count",e?e+1:1,31556952);try{E.default.setUTM((0,h.getPageWindow)().location.href,(0,h.getPageWindow)().document.referrer)}catch(e){e.message+=" setUTM",d.Monitoring.reportException(e)}}N.default.jv_sess_id||F.default.push({url:(0,h.getCurrentPage)().url,title:(0,h.getCurrentPage)().title})};t.initializeDevTools=function(e){oe.log("initializeDevTools");var t=new p.default(_.default,M.default,x.default,R.default,e.managers.connection,N.default,g.default,D.default,O.default,L.reduxStore,j.default,G.default,b.default,h.default,E.default,F.default,I.default,H.Router,z.default,y.default,k.default,P.default,A.default.getInstance(),e.managers.monitoring,T.ApiInvitationsManager,B.default,w.messageActions,m.positionDispatchers,S.ConfigUtils,m.transitionDispatchers,m.callbackDispatchers,m.appDispatchers,m.chatsDispatchers,m.clientDispatchers,m.featuresDispatchers,e.managers.feature,s.EnvironmentManager,e,m.userDispatchers,re.default,m.messagesDispatchers);e.devTools=t,s.EnvironmentManager.isProduction()||s.EnvironmentManager.isPartnerApp()||t.installOnPage()};t.stop=function(){R.default.hideWidget()};var le=function(e){if(oe.warn("initializeConnection"),e.managers.connection||(e.managers.connection=new ee.default(e,te.default,ne.default)),!e.managers.feature.isEnabled(W.Feature.RECAPTCHA)||(0,v.getClient)().captchaToken){var t=!!j.default.getUndelivered().length,n=O.default.is_online&&t||N.default.jv_sess_id||!O.default.is_online&&O.default.chat_started;oe.warn("needToConnect",n,t),n&&!e.managers.connection.isOpen()&&e.managers.connection.open()}else oe.warn("Wait for captcha to connect")};t.initializeConnection=le;t.initializeDeprecatedStores=function(e){e.stores.app=O.default,e.stores.client=N.default,e.stores.agent=g.default,e.stores.agents=D.default,e.stores.history=F.default,e.stores.messages=j.default,e.stores.proactive=G.default,e.stores.session=M.default,e.stores.temp=x.default};t.initializeAbTestManager=function(e){e.managers.abTest=new C.default};t.initializeUtils=function(e){e.utils=ae.default};t.handleChatPageStart=function(){(0,h.isChatPage)()&&R.default.addMessagesOnOpen()};t.initializePermissionManager=function(e){V.default.enable_webrtc_calls&&(e.managers.permission=new ie.default)};var ue=function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 3:n=e.sent,t.managers.webRTCCall=new n(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.initializeWebRTCCallManager=ue},54417:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=function(){function e(t,n){(0,i.default)(this,e),this.doc=t,this.cssURL=n,this.loaded=!1,this.failed=!1,this.loadCss()}return(0,r.default)(e,[{key:"loadCss",value:function(){var e=this,t=this.doc.head||this.doc.getElementsByTagName("head")[0],n=this.doc.createElement("link");n.rel="stylesheet",n.href=this.cssURL,window.parent.jivo_cspNonce&&n.setAttribute("nonce",window.jivo_cspNonce),n.addEventListener("load",(function(t){e.loaded=!0,e.onLoadCallback&&e.onLoadCallback()})),n.addEventListener("error",(function(t){e.failed=!0,e.onFailedCallback&&e.onFailedCallback()})),t.appendChild(n)}},{key:"setOnLoadedCallback",value:function(e){this.loaded?e&&e():this.onLoadCallback=e}},{key:"setOnFailedCallback",value:function(e){this.failed?e&&e():this.onFailedCallback=e}},{key:"subscribe",value:function(e,t){this.setOnLoadedCallback(e),this.setOnFailedCallback(t)}}]),e}();t.default=o},51139:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.telephonyUrl=x,t.callWidgetPing=function(e,t){if(M.warn("callWidgetPing",t),(0,w.isEmpty)(m.default.callback_settings)||(0,w.isAppCobrowse)()||C.isDesignerEditor)return void M.log("callback disabled");var n=S.default.get("callback_ping_response");if(n)e(n);else{var a=t&&y.default.client_id?y.default.client_id.split(".")[0]:"0";T.default.get({url:x("/sites/"+m.default.site_id+"/widgets/"+m.default.widget_id+"/clients/"+a+"/telephony/callback")},(function(t,n){var a=n;a||(a={ok:!1});var i,r=a.work_time;r?("cw_connected"!==y.default.cw_call.status&&(0,E.onDelayedCallAvailable)(r),a.ok=!0):a.ok&&(0,E.resetDelayedCallStatus)(),i=a.ok||a.error_list&&"time_not_in_range"===a.error_list[0]?60:20,S.default.set("callback_ping_response",a,i),e(a)}))}},t.checkStartCall=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;M.warn("checkStartCall",e);var a=y.default.client_id.split(".")[0],i={phone:e,invitation_text:t};T.default.post({url:x("/sites/"+m.default.site_id+"/widgets/"+m.default.widget_id+"/clients/"+a+"/telephony/callback"),headers:{"Content-Type":"application/x-www-form-urlencoded"},params:A({},i)},n)},t.detectPriorityCountry=R,t.getPhoneInfo=O,t.getPhoneNumberInfo=N,t.checkPhoneLength=function(e,t,n){var a,i,r=e.length,o=t.length;if((0,g.default)(a=["NZ"]).call(a,n)>=0)return r>=o-2&&r<=o+1;return(0,g.default)(i=["BR","BG","MX","DE","AT","KH","CH","IL","NZ"]).call(i,n)>=0?r>=o-1&&r<=o+1:r===o},t.getMaskedValue=D,t.getMaskedPhone=function(e){if(!e)return e;var t=N(e);if(!t)return e;return"+"+t.phoneCode+" "+D(t.innerNumber,t.phoneFormat)},t.getTextSeconds=L,t.getCallText=function(e,t){var n,a;return e?(0,b.default)("callback_delayed_button_submit"):(0,f.default)(n=(0,f.default)(a="".concat((0,b.default)("cw_callAfter")," ")).call(a,t," ")).call(n,L(t),"!")};var f=a(n(77766)),p=a(n(3649)),h=a(n(87672)),g=a(n(81643)),m=a(n(62904)),v=a(n(62107)),_=a(n(18389)),y=a(n(36216)),b=a(n(75119)),E=n(93298),C=n(24335),T=a(n(49043)),w=n(56602),S=a(n(93268)),k=n(94515);function I(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=I(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=I(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var M=a(n(75043)).default.name("CallUtils","color: grey");function x(e){var t,n=(0,w.getProtocol)();return k.EnvironmentManager.isProduction()&&(n="https:"),m.default.tel_host?n+"//"+m.default.tel_host+"/api/1"+e:n+"//telephony"+m.default.base_url.substr((0,g.default)(t=m.default.base_url).call(t,"."))+"/api/1"+e}function R(e){if(M.log("detectPriorityCountry",e),!e)return null;var t={UA:{codes:["38"]},KZ:{codes:["77"]},RU:{codes:["79"]},CA:{codes:["1204","1226","1236","1249","1250","1289","1306","1343","1365","1403","1416","1418","1431","1437","1438","1450","1506","1514","1519","1548","1579","1581","1587","1600","1604","1613","1639","1647","1705","1709","1778","1780","1782","1807","1819","1825","1867","1873","1902","1905"]},DO:{codes:["1809"]},PR:{codes:["1787","1939"]}};for(var n in t)if({}.hasOwnProperty.call(t,n)){var a,i=t[n],r=e.substr(0,i.codes[0].length);if((0,g.default)(a=i.codes).call(a,r)>=0)return M.log("codeFound",n),{code:n}}return null}function O(e,t){var n="+"===t[0]?e.phone_code.length+1:e.phone_code.length,a=(0,p.default)(t).call(t,n);return{countryCode:e.code,countryName:e.name,phoneCode:e.phone_code,phoneFormat:e.phone_format,innerNumber:a,number:t}}function N(e){M.log("getPhoneNumberInfo",e);var t,n=e.replace(/\D+/g,""),a=m.default.callback_settings.countries,i="",r="";if(m.default.geoip&&(r=m.default.geoip.split(";")[0]),n.length<9||n.length>15)return null;for(var o=0;o<n.length;o++)if(!t)if(i=(0,p.default)(n).call(n,0,o+1),(t=v.default.where(a,{phone_code:i.toString()})).length>0){var l=R(n);if(l)t=v.default.where(t,{code:l.code});else{var u=v.default.where(t,{code:r});u.length&&(t=u)}}else t=null;return t||(t=v.default.findWhere(a,{code:r}))&&"RU"==r&&(13==n.length&&(n=n.replace("8","+7")),10==n.length&&(n="+7"+n)),t&&t.length?O(t=t[0],n):null}function D(e,t){return _.default.toPattern(e,t)}function L(e){return[(0,b.default)("cw_form_second"),(0,b.default)("cw_form_seconds"),(0,b.default)("cw_form_secondd")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}},37916:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.CallbackUtils=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(62904)),l=a(n(36216)),u=n(17674),s=n(85442),c=new(function(){function e(){(0,i.default)(this,e),this.callSettings=o.default.callback_settings}return(0,r.default)(e,[{key:"isCallActive",value:function(){switch(l.default.cw_call.status){case"cw_wait":case"cw_connecting":case"cw_connected":return!0;default:return!1}}},{key:"isCallbackEnabled",value:function(){return!!(l.default.cw_call_enabled&&this.callSettings.time&&this.callSettings.countries&&this.callSettings.countries.length)||this.isCallActive()}},{key:"fixInitAnimate",value:function(e){u.Router.getCurrentRoute()===s.Route.CALL&&"cw_connected"==l.default.cw_call.status&&e&&e()}}]),e}());t.CallbackUtils=c},63465:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.isOfflineCanSend=function(){return!r.default.is_online&&!o.default.is_introduced&&!g.default.enable_bot_offline&&u.default.getClientMessages().length&&u.default.getOfflineTmpMessage()},t.isValidEmail=function(){return o.default.client_info&&o.default.client_info.email&&l.default.email(o.default.client_info.email)},t.getLastMessageHeight=v,t.getThemeColor=function(e){switch(e){case"grey":return"#445669";case"blue":return"#0b82f7";default:return"#18c139"}},t.isProactivePrechat=function(){if(!s.default.get("text"))return!1;var e=u.default.getFirstMessage(),t=u.default.getLastMessage();return u.default.getMessagesByType(d.MessageType.PRECHAT)&&t&&t.get("type")==d.MessageType.PRECHAT&&e&&e.get("type")==d.MessageType.PROACTIVE},t.isLastAgentMessage=_,t.getLastAgent=function(){var e=u.default.getLastMessage();if(!e||e.get("from")!==d.MessageInitiator.AGENT&&"bot"!==e.get("from")||e.get("type")!==d.MessageType.MESSAGE)return!1;var t=e.get("from_id"),n=p.default.getAgentById(t);return"bot"===e.get("from")&&(n=p.default.getBotById(t)),!!n&&n.toJSON()},t.setLastAgentScroll=function(e){if(!e)return!1;var t=_(),n=e.base;if(!n)return!1;var a=v(n),i=n.offsetHeight;m.log("setLastAgentScroll",t,a,i);var r=s.default.get("text")?1:0,o=u.default.getLastMessage(),l=u.default.getFirstMessage();if(n&&a&&r&&l&&!l.get("msg_id")&&o&&o.get("type")==d.MessageType.PRECHAT)return e.scrollToTop(),!1;if(t&&a&&i&&a>i){e.setIgnore(!0);var c=f.default.mobileOrTablet()?80:50,p=e.getScrollHeight()-a-c;return r&&1==u.default.getAgentMessages().length?e.scrollToTop():e.scrollTop(p),!0}return!1};var i=a(n(81643)),r=a(n(62652)),o=a(n(36216)),l=a(n(94686)),u=a(n(99357)),s=a(n(67966)),c=n(57018),d=n(8565),f=a(n(58061)),p=a(n(8282)),h=a(n(95705)),g=a(n(62904)),m=a(n(75043)).default.name("ChatUtils");function v(e){if(!e)return 0;var t=e.querySelectorAll("."+h.default.text);if(t.length){var n=t[t.length-1].clientHeight;return n?n+c.HEADER_HEIGHT+10:0}return 0}function _(){var e,t=u.default.getLastMessage();return!!t&&(t.isAgentMessage()&&-1==(0,i.default)(e=[d.MessageType.FORM,d.MessageType.PREFORM]).call(e,t.get("type")))}},75737:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.ConfigUtils=void 0;var r=i(n(77766)),o=i(n(26394)),l=i(n(69198)),u=i(n(49043)),s=a(n(62904)),c=n(56602),d=n(33367),f=n(63242),p=n(94515),h=i(n(75043)).default.name("ConfigUtils"),g=new(function(){function e(){(0,o.default)(this,e),this.loadCount=0}return(0,l.default)(e,[{key:"reloadConfig",value:function(e){var t,n,a=this;if(this.loadCount>5)return d.Monitoring.telemetryOnce(f.TelemetryName.CONFIG_LIMIT),void h.error("Reload config limit is reached!");var i=(0,r.default)(t=(0,r.default)(n="".concat((0,c.getProtocol)())).call(n,s.default.base_url,"/script/widget/config/")).call(t,s.default.widget_id);p.EnvironmentManager.isDevelopment()&&(i="/config.json"),h.log("Reloading config from",i,this.loadCount),window.parent.__jivoConfigOnLoad=function(t){!t.isDeleted&&t?((0,s.getViHost)()===t.vi_host&&(0,s.getCometHost)()===t.comet.host||(h.log("initConfig new config",t.vi_host),(0,s.initConfig)(t),e(t)),h.log("jivoConfigOnLoad from reloadConfig")):h.log("Reload on deleted config",t)},u.default.get({url:i+"?rnd="+Math.random()},(function(e,t){if(e)h.log("Load config error",e);else try{t&&(h.log("Config is loaded",t),a.loadCount++,window.parent.__jivoConfigOnLoad(t))}catch(e){h.log("Config parse error",t,e)}}))}}]),e}());t.ConfigUtils=g},14282:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78914)),r=a(n(77766)),o=a(n(59036)),l=a(n(20116)),u=a(n(94473)),s=a(n(26394)),c=a(n(69198)),d=n(33367),f=n(63242),p=a(n(75043)).default.name("MessageBuffer"),h=function(){function e(t){(0,s.default)(this,e),this.connection=t,this.messages=[]}return(0,c.default)(e,[{key:"push",value:function(e){p.log("push",e),this.messages.push(e)}},{key:"flush",value:function(){var e,t,n=this;p.log("flush",this.messages),this.messages.length>0&&d.Monitoring.telemetry(f.TelemetryName.CLIENT_MESSAGE_FLUSH_BUFFER);var a=(0,u.default)(e=this.messages).call(e,(function(e){return"start_chat"===e.name}));if(a){var s,c,h=(0,l.default)(s=this.messages).call(s,(function(e){return"start_chat"!==e.name}));this.messages=(0,r.default)(c=[a]).call(c,(0,o.default)(h))}(0,i.default)(t=this.messages).call(t,(function(e){return n.connection._sendSocketEvent(e)})),this.messages=[]}},{key:"hasMessage",value:function(e){var t;return(0,u.default)(t=this.messages).call(t,(function(t){return t.private_id===e}))}},{key:"validate",value:function(e){var t=this;p.log("validate",e),e.length&&(0,i.default)(e).call(e,(function(e){t.hasMessage(e.private_id)&&t.deleteMessage(e.private_id)}))}},{key:"deleteMessage",value:function(e){var t;p.log("deleteMessage",e),this.messages=(0,l.default)(t=this.messages).call(t,(function(t){return t.private_id!==e}))}},{key:"clear",value:function(){p.log("clear"),this.messages=[]}}]),e}();t.default=h},9805:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59340)),r=a(n(77766)),o=a(n(26394)),l=a(n(69198)),u=n(84761),s=n(18547),c=n(56602),d=n(33367),f=n(63242),p=n(94515),h=(a(n(75043)).default.name("DebugDataCollector"),null),g=function(){function e(t,n,a,i,r,l,c){(0,o.default)(this,e),this.webSocketEventsStore=null,this.viSocketEventsStore=null,this.exceptionsStore=null,this.initialized=!1,this.messagesFormatter=new s.MessagesFormatter(c),this.appStore=t,this.widgetConfig=n,this.clientStore=a,this.proactiveStore=i,this.agentStore=r,this.reduxStore=l,this.webSocketEventsStore=new u.EventStore,this.viSocketEventsStore=new u.EventStore,this.exceptionsStore=new u.EventStore,this.actionsStore=new u.EventStore,this.initialized=!0,h=this}return(0,l.default)(e,[{key:"isInitialized",value:function(){return this.initialized}},{key:"saveSocketEvent",value:function(e){this.webSocketEventsStore.save(e)}},{key:"saveViEvent",value:function(e){this.viSocketEventsStore.save(e)}},{key:"saveException",value:function(e){this.exceptionsStore.save(e)}},{key:"saveReduxAction",value:function(e){this.actionsStore.save(e)}},{key:"pageHasErrors",value:function(){return this.exceptionsStore.length()>0}},{key:"getMessagesAsHTML",value:function(){try{var e,t=this.messagesFormatter.toHTML(),n=new Blob([t],{type:"text/html"});return{url:window.parent.URL.createObjectURL(n),fileName:(0,r.default)(e="".concat((new Date).toISOString(),"_")).call(e,(0,c.getPageWindow)().location.host,"_chat_log.html")}}catch(e){return d.Monitoring.telemetryOnce(f.TelemetryName.ERROR_DOWNLOADING_CHAT_LOG,{param1:e.message}),{url:null,fileName:null}}}},{key:"exportData",value:function(){return(0,i.default)({agentStore:this.agentStore,appStore:this.appStore,clientStore:this.clientStore,config:this.widgetConfig,exceptionsStore:this.exceptionsStore.getAll(),messagesStore:this.messagesFormatter.toDebugLog(),proactiveStore:this.proactiveStore,reduxStore:this.reduxStore.getState(),userAgent:navigator.userAgent,version:p.EnvironmentManager.getVersion(),visitorsInsightEventsStore:this.viSocketEventsStore.getAll(),webSocketEventsStore:this.webSocketEventsStore.getAll(),actionsStore:this.actionsStore.getAll()})}}],[{key:"getInstance",value:function(){return h}}]),e}();t.default=g},84761:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.EventStore=void 0;var i=a(n(26394)),r=a(n(69198)),o=function(){function e(){(0,i.default)(this,e),this.events=[]}return(0,r.default)(e,[{key:"save",value:function(e){this.events.push(e)}},{key:"getAll",value:function(){return this.events||null}},{key:"length",value:function(){return this.events.length}}]),e}();t.EventStore=o},18547:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.MessagesFormatter=void 0;var i=a(n(77766)),r=a(n(78914)),o=a(n(26394)),l=a(n(69198)),u=a(n(8282)),s=a(n(75043)),c=n(56602),d=n(74721),f=s.default.name("MessagesFormatter"),p=function(){function e(t){(0,o.default)(this,e),this.messagesStore=t}return(0,l.default)(e,[{key:"toTxt",value:function(){f.log("toTxt")}},{key:"toHTML",value:function(){var e,t;f.log("toHTML");var n="",a=this.messagesStore.store;return(0,r.default)(a).call(a,(function(e){var t,a,r,o,l,s=e.store;if("client"===s.from)l="you";else{if("agent"!==s.from&&"bot"!==s.from)return;var c,f=s.from_id&&u.default.getAgentById(s.from_id);"bot"===s.from&&(f=s.from_id&&u.default.getBotById(s.from_id)),l=f?(0,i.default)(c="".concat(f.store.display_name," (")).call(c,f.store.title,")"):"agent"}var p=s.text;if(p&&"form"!==s.type&&"botsystem"!==s.type){if("media"===s.type&&s.body&&s.body.file_url){var h,g=s.body.name||s.body.file_name,m=s.body.file_url||s.body.file;p=(0,i.default)(h='<a target="_blank" rel="nofollow noopener" href="'.concat(encodeURI(m),'">')).call(h,g,"</a>")}var v="cobrowse"===s.type&&s.body&&s.body.address;if(v){var _,y,b=s.body.text||"",E=(0,i.default)(_="".concat(s.body.url,"#jvhs_")).call(_,s.body.address);p=(0,i.default)(y='<a target="_blank" rel="nofollow noopener" href="'.concat(encodeURI(E),'">')).call(y,(0,d.escapeHTMLString)(b),"</a>")}var C=p?(0,d.escapeHTMLString)(p):"";v&&(C=p);var T=new Date(s.created_ts),w=T.toLocaleDateString(),S=T.toLocaleTimeString();n+=(0,i.default)(t=(0,i.default)(a=(0,i.default)(r=(0,i.default)(o='<div class="message '.concat(s.from,'MessageWrap">\n                <span class="messageInfo">')).call(o,w," ")).call(r,S,", ")).call(a,l,"</span>\n                <br>\n                <span>")).call(t,C,"</span>\n            </div>\n            <br>")}})),(0,i.default)(e=(0,i.default)(t='<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>Chat log from '.concat((0,c.getPageWindow)().location.host,"</title>\n            <style>\n                * {\n                    font-family: sans-serif;\n                }\n                a {\n                    color: #0044d3 !important;\n                }\n                h1 {\n                    display: block;\n                    margin: 15px auto;\n                    text-align: center;\n                    width: 600px;\n                }\n                .wrap {\n                    display: flex;\n                    flex-direction: column;\n                    width: 600px;\n                    margin: 0 auto;\n                }\n                .wrap .message {\n                    display: block;\n                    max-width: 100%;\n                    min-width: 40px;\n                    margin-bottom: 2px;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    text-indent: 0;\n                    user-select: text;\n                    border-radius: 5px;\n                }\n                .message a {\n                    color: inherit;\n                }\n                .messageInfo {\n                    opacity: 0.7;\n                    font-size: 14px;\n                }\n                .clientMessageWrap {\n                    background-color: #18c139;\n                    color: white;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 0 0 auto;\n                }\n                .agentMessageWrap,\n                .botMessageWrap {\n                    background-color: #f1f0f0;\n                    color: #222d38;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 auto 0 0;\n                }\n                .printButton {\n                    position: fixed;\n                    top: 13px;\n                    right: 30px;\n                    background-color: #18c139;\n                    color: white;\n                    width: 80px;\n                    height: 40px;\n                    border-radius: 5px;\n                    font-size: 20px;\n                    box-shadow: none;\n                    border: none;\n                }\n                .printButton:hover {\n                    background-color: #12a730;\n                    cursor: pointer;\n                }\n                @media print {\n                    .printButton {\n                        display: none;\n                    }\n                }\n            </style>\n        </head>\n        <body>\n            <h1>Chat log from ")).call(t,(0,c.getPageWindow)().location.host,'</h1>\n            <button class="printButton" onclick="window.print()">Print</button>\n            <div class="wrap">\n                ')).call(e,n,"\n            </div>\n        </body>\n        </html>")}},{key:"toDebugLog",value:function(){return f.log("toDebugLog"),this.messagesStore.store}}]),e}();t.MessagesFormatter=p},93298:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.onDelayedCallAvailable=j,t.resetDelayedCallStatus=function(){k.callbackDispatchers.setDelayedTimezone(null),k.callbackDispatchers.setDelayedPeriods([]),k.callbackDispatchers.setCallbackIsDelayed(null),k.callbackDispatchers.setDelayedCallbackStatus(null)},t.requestDelayedCall=function(e){var t,n,a=e.dateTime,i=e.phone,r=i.replace(/( |\-)/gi,"").replace(/\D+/g,""),o=H(a),l=o.date,u=o.time,s=T.default.client_id?T.default.client_id.split(".")[0]:"0",c=(0,E.default)(t=(0,E.default)(n="/sites/".concat(w.default.site_id,"/widgets/")).call(n,w.default.widget_id,"/clients/")).call(t,s,"/telephony/callback/delayed"),d={phone:r,callback_date:l,callback_time:u};k.callbackDispatchers.setDelayedCallbackStatus(P.wait),k.clientDispatchers.setClientPhone("+".concat(r));var f={url:(0,I.telephonyUrl)(c),headers:{"Content-Type":"application/x-www-form-urlencoded"},params:D({},d)};A.default.post(f,(function(e,t){if(!t)return k.callbackDispatchers.setDelayedCallbackStatus(P.notWorkTime),void R.Monitoring.telemetry(x.TelemetryName.DELAYED_ERR,{param1:e||null});var n=t.work_time,a=t.error_list;if(t.ok){var r;if("as_soon_as_possible"===u&&t.callback_started)k.callbackDispatchers.setCallbackIsDelayed(!1),k.callbackDispatchers.setCallbackStatus(O.CallStatus.WAIT),S.messageActions.handleContactsForm(),S.messageActions.systemCallMessage((0,E.default)(r="".concat((0,C.default)("cw_call_to")," ")).call(r,(0,I.getMaskedPhone)(i)),"callMessageStart");k.callbackDispatchers.setDelayedCallbackStatus(P.success),M.default.trackCallWidgetRequested()}(n&&j(n),a)&&((0,y.default)(a).call(a,"max_requests_limit")&&k.callbackDispatchers.setDelayedCallbackStatus(P.maxRequestsLimit),(0,y.default)(a).call(a,"bad_callback_time")&&(k.callbackDispatchers.setDelayedCallbackStatus(P.badCallbackTime),F(d.callback_date+L+d.callback_time)),(0,_.default)(a).call(a,(function(e){return/client_blacklist|global_blacklist|rate_limiter/.test(e)}))&&k.callbackDispatchers.setDelayedCallbackStatus(P.blocked),T.default.cw_call_delayed_status===P.wait&&k.callbackDispatchers.setDelayedCallbackStatus(P.notWorkTime),k.callbackDispatchers.setCallbackStatus(!1))}))},t.removePeriod=F,t.redirectAfterRequestDelayedCall=function(){var e=n(17674).Router,t=n(85442).RouterEvent;e.next(t.ToCall)},t.isErrorStatusCode=function(e){var t;return(0,_.default)(t=[P.maxRequestsLimit,P.notWorkTime,P.badCallbackTime,P.blocked,P.badDirection]).call(t,(function(t){return e===t}))},t.formatWorkTimeToServerModel=H,t.formatPeriodsToUserStoreModel=U,t.formatPeriodsToSelectModel=function(e){var t,n=new Date,a=(n.getTime(),n.getDate()),i=(0,C.default)("callback_delayed_period_today"),r=new Date((new Date).setDate(a+1)).getDate(),o=(0,C.default)("callback_delayed_period_tomorrow"),l=(0,C.default)("callback_delayed_period_as_possible").toLowerCase(),u="as_soon_as_possible";return(0,v.default)(t=(0,p.default)(e).call(e,(function(t,n){var s=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split(L),s=(0,m.default)(n,2),c=(s[0],s[1]),d=e.split(L),f=(0,m.default)(d,2),p=f[0],g=f[1],v=g===u,_=c&&c!==u,y=v&&_?c:g,b=(0,E.default)(t="".concat(p," ")).call(t,y),C=W(b),T=C.time,w=C.date,S=C.month,k=C.dateDetail;if(v)return l.charAt(0).toUpperCase()+(0,h.default)(l).call(l,1);if(B&&w!==a&&w!==r){var I={month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return k.toLocaleString(z(),I)}var A,M,x,R,O,N=(0,E.default)(A="".concat(","," ")).call(A,T);return w===a?(0,E.default)(R="".concat(i)).call(R,N):w===r?(0,E.default)(O="".concat(o)).call(O,N):(0,E.default)(M=(0,E.default)(x="".concat(w,".")).call(x,S," ")).call(M,N)}(t,e[n+1]);return s?{label:s,value:t}:s}))).call(t,(function(e){return"object"===(0,f.default)(e)}))},t.DELAYED_CALL_STATUS=void 0;var f=a(n(23765)),p=a(n(2991)),h=a(n(3649)),g=a(n(78914)),m=a(n(18777)),v=a(n(20116)),_=a(n(77149)),y=a(n(78580)),b=a(n(87672)),E=a(n(77766)),C=a(n(75119)),T=a(n(36216)),w=a(n(62904)),S=n(75245),k=n(81189),I=n(51139),A=a(n(49043)),M=a(n(40695)),x=n(63242),R=n(33367),O=n(20965);function N(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=N(Object(a),!0)).call(n,(function(t){(0,b.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=N(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}a(n(75043)).default.name("DelayedCall");var L="|",P={wait:0,success:1,maxRequestsLimit:2,notWorkTime:3,badCallbackTime:4,blocked:5,badDirection:6};t.DELAYED_CALL_STATUS=P;var B="function"==typeof(new Date).toLocaleString&&function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}();function j(e){k.callbackDispatchers.setCallbackAvailable(!0),k.callbackDispatchers.setDelayedTimezone(e.timezone_diff),k.callbackDispatchers.setCallbackIsDelayed(!0),k.callbackDispatchers.setDelayedPeriods(U(e.schedule))}function F(e){if(T.default.cw_call_delayed_periods&&T.default.cw_call_delayed_periods.length){var t=T.default.cw_call_delayed_periods;k.callbackDispatchers.setDelayedPeriods((0,v.default)(t).call(t,(function(t){return t!==e})))}}function H(e){var t=e.split(L),n=(0,m.default)(t,2);return{date:n[0],time:n[1]}}function U(e){var t=[];return(0,g.default)(e).call(e,(function(e){var n=e.date,a=e.intervals;(0,g.default)(a).call(a,(function(e){var a,i;t.push((0,E.default)(a=(0,E.default)(i="".concat(n)).call(i,L)).call(a,e))}))})),t}k.callbackDispatchers.setDelayedCallbackStatus(null);var W=function(e){var t,n=e.replace(/\-/g,"/"),a=new Date(n).getTime();if(isNaN(a))return e;var i=-(new Date).getTimezoneOffset(),r=T.default.cw_call_delayed_tz,o=60*(i-r)*1e3,l=new Date(a+o),u=l.getHours(),s=l.getMinutes(),c=l.getDate(),d=l.getMonth(),f=function(e){return e>9?e:"0".concat(e)},p=f(s),h=f(u),g=(0,E.default)(t="".concat(h,":")).call(t,p);return B&&"en"==z()&&(g=l.toLocaleString(z(),{hour:"numeric",minute:"numeric",hour12:!0})),{time:g,date:c,month:d,dateDetail:l}};function z(){var e=w.default.locale;return"no"==e?"nb":e.search("_")?e.split("_")[0]:e}},14847:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){f.isDesignerEditor&&(_._dAPI=E)};var r=i(n(78914)),o=i(n(51942)),l=i(n(5505)),u=i(n(99357)),s=i(n(8282)),c=i(n(86999)),d=a(n(62904)),f=n(24335),p=i(n(69961)),h=i(n(45808)),g=n(21224),m=n(81189),v=n(75245),_=(i(n(75043)).default.name("DesignerApi"),window.parent||window),y=function(e,t){var n=d.default;n[e]=t,(0,d.initConfig)(n)},b=function(){var e=h.default.getComponent(g.Component.ROOT_COMPONENT);e&&e.forceUpdate()},E={showChat:function(){l.default.open()},showLabel:function(){l.default.close()},setAgent:function(e){s.default.destroy(),s.default.push({agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl,body:{state:"join",unsave:!0}}),(0,o.default)(p.default,{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}),m.agentsDispatchers.addAgent({id:1,name:e.name,title:e.title,avatarUrl:e.avatarUrl,isBot:!1}),m.chatsDispatchers.setJoinedAgents([{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}]),m.chatsDispatchers.addJoinedAgent(1),b()},addMessages:function(e){var t=[];(0,r.default)(e).call(e,(function(e){t.push({from:e.from,from_id:"agent"===e.from?1:null,text:e.text,type:"message",status:"read",created_ts:(new Date).getTime(),body:{unsave:!0}})})),m.messagesDispatchers.addMessages(t)},updateAgent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,o.default)(p.default,{agent_id:t,display_name:e.name,title:e.title,avatar_url:e.avatarUrl});var n=s.default.getAgentById(t);n&&(n.set("display_name",e.name),n.set("title",e.title),n.set("avatar_url",e.avatar_url)),m.agentsDispatchers.updateAgent({id:t,name:e.name,title:e.title,avatarUrl:e.avatarUrl})},editLastMessage:function(e){var t=u.default.getAgentMessages();if(t.length){t[t.length-1].set("text",e);var n=h.default.getComponent(g.Component.SCROLL_CONTAINER);n&&n.forceUpdate()}},cleanMessages:function(){u.default.destroy(),u.default.trigger("update")},setWidgetColor:function(e,t){m.userDispatchers.setWidgetColor(e),m.userDispatchers.setWidgetColor2(t),b()},setCallbackColor:function(e){y("callback_btn_color",e),m.userDispatchers.setCallbackButtonColor(e),b()},setBubbleColor:function(e){m.userDispatchers.setBubbleColor(e),y("bubble_color",e),(0,f.runBind)("setBubbleColor"),b()},setPattern:function(e){m.userDispatchers.setPattern(e),y("pattern",e),b()},setWidgetPosition:function(e,t){var n=t.toString();m.userDispatchers.setWidgetOrientation(e),m.userDispatchers.setWidgetPadding(n),y("widget_orientation",e),y("widget_padding",n),(0,f.runBind)("setWidgetPosition",{orientation:e,padding:t}),b()},setFontColor:function(e){"auto"===e&&(e=c.default.isLightColor(d.default.widget_color)?"dark":"light"),y("widget_font_color",e),m.userDispatchers.setWidgetFontColor(e),b()},setFontSize:function(e){m.userDispatchers.setWidgetFontSize(e),y("font_size",e),b()},setFontFamily:function(e){m.userDispatchers.setWidgetFontFamily(e),y("font_family",e),b()},setFontType:function(e){m.userDispatchers.setWidgetFontType(e),y("font_type",e),b()},setOnlineText:function(e){m.userDispatchers.setOnlineWidgetLabel(e),y("online_widget_label",e),(0,f.runBind)("setOnlineText",e)},addPrechat:function(e){y("prechat",e),y("enable_prechat",1),v.messageActions.pushPrechat()},updatePrechats:function(e){if(e){var t=h.default.getComponent(g.Component.PRECHAT);t&&t.trigger("updatePrechatText",e)}},cleanPrechat:function(){v.messageActions.deletePrechatMsg(),u.default.trigger("update")}}},24335:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.designerBind=function(e,t){if(!l)return;void 0!==o[e]||(o[e]=[]),o[e].push(t)},t.runBind=function(e,t){var n;void 0!==o[e]&&(0,i.default)(n=o[e]).call(n,(function(e){e(t)}))},t.isDesignerEditor=void 0;var i=a(n(78914)),r=n(94515),o={},l=r.EnvironmentManager.isDesignerEditor();t.isDesignerEditor=l},77922:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(75043)).default.name("DevTools"),l=null,u=function(){function e(t,n,a,r,o,u,s,c,d,f,p,h,g,m,v,_,y,b,E,C,T,w,S,k,I,A,M,x,R,O,N,D,L,P,B,j,F,H,U,W,z){if((0,i.default)(this,e),l)return l;this.localStore=t,this.sessionStore=n,this.tempStore=H.stores.temp,this.actions=r,this.connection=H.managers.connection,this.clientStore=H.stores.client,this.agentStore=H.stores.agent,this.agentsStore=H.stores.agents,this.appStore=H.stores.app,this.reduxStore=f,this.messagesStore=H.stores.messages,this.proactiveStore=H.stores.proactive,this.siteConnector=g,this.utils=H.utils,this.utm=v,this.historyStore=H.stores.history,this.social=y,this.router=b,this.soundManager=E,this.proactive=C,this.refManager=T,this.device=w,this.debugDataCollector=S,this.monitoring=k,this.apiInvitationsManager=I,this.analytics=A,this.messageActions=M,this.positionDispatchers=x,this.configUtils=R,this.transitionDispatchers=O,this.callbackDispatchers=N,this.appDispatchers=D,this.chatsDispatchers=L,this.clientDispatchers=P,this.featuresDispatchers=B,this.featureManager=j,this.environmentManager=F,this.application=H,this.userDispatchers=U,this.connectionActions=W,this.messagesDispatchers=z,l=this}return(0,r.default)(e,[{key:"installOnPage",value:function(){l&&(window.parent.jwdt=l),o.log("Installed")}}],[{key:"getInstance",value:function(){return l}}]),e}();t.default=u},58061:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81643)),r=a(n(63978)),o=a(n(78580)),l=a(n(31238)),u=a(n(54103)),s=a(n(26394)),c=a(n(69198));a(n(75043)).default.name("Device");var d=new(function(){function e(t){var n,a,i;(0,s.default)(this,e),this.userAgent=t,this._find=(a=(0,u.default)(n=this._find).call(n,this),i={},function(){var e=arguments.length<=0?void 0:arguments[0];if(e in i)return i[e];var t=a(e);return i[e]=t,t}),this.initialize(),this.initializeSupportedFeatures()}return(0,c.default)(e,[{key:"initialize",value:function(){var e;this.isWindows=this._find("windows"),this.isOpera=this._find("opera")||this._find("opr")||this._find("presto"),this.isOperaMini=this.isOpera&&(this._find("mini")||this._find("opios")),this.isFirefox=this._find("firefox"),this.isChrome=this._find("chrome"),this.isChromeIOS=this._find("crios"),this.isSafari=this._find("safari")&&!this.isChrome&&!this.isChromeIOS,this.isEdge=this._find("edge"),this.isIe=this._find("msie")||this._find("trident")||this.isEdge,this.isIeOrEdge=this.isIe||this._find("lumia"),this.isIpod=this._find("ipod"),this.isIpad=this._find("ipad")||this._find("macintosh")&&"ontouchend"in window,this.isIphone=!this.isWindows&&this._find("iphone"),this.isIos=this.isIphone||this.isIpod||this.isIpad,this.isAndroid=!this.isWindows&&this._find("android"),this.isAndroidPhone=this.isAndroid&&this._find("mobile"),this.isAndroidTablet=this.isAndroid&&!this._find("mobile"),this.isBlackberry=this._find("blackberry")||this._find("bb10")||this._find("rim"),this.isBlackberryPhone=this.isBlackberry&&!this._find("tablet"),this.isBlackberryTablet=this.isBlackberry&&this._find("tablet"),this.isWindowsPhone=this.isWindows&&this._find("phone"),this.isWindowsTablet=this.isWindows&&this._find("touch")&&!this.isWindowsPhone&&!this._find("trident"),this.isMobile=this.isAndroidPhone||this.isIphone||this.isIpod||this.isWindowsPhone||this.isBlackberryPhone,this.isTablet=this.isIpad||this.isAndroidTablet||this.isBlackberryTablet||this.isWindowsTablet,this.isMobileOrTablet=this.isMobile||this.isTablet,this.isDesktop=!this.isMobile&&!this.isTablet,this.isYandexBot=-1!==this.userAgent.search(/\+http:\/\/yandex\.com\/bots/gi),this.isGoogleBot=-1!==this.userAgent.search(/google/gi),this.isOperaMobile=this.isOperaMini||this.isOpera&&this.isMobileOrTablet;var t=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);this.iosVer=t?(0,l.default)(t[1]+"."+t[2]):null,this.isMac=(0,o.default)(e=window.navigator.platform).call(e,"Mac");var n=/OS X (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);window.navigator.oscpu&&(n=/OS X (\d+)[._](\d+)([._])?(\d+)?/.exec(window.navigator.oscpu)),this.macVer=n?(0,l.default)(n[1]+"."+n[2]):null,this.device=null,this.isDesktop?this.device="desktop":this.isMobile?this.device="mobile":this.isTablet&&(this.device="tablet")}},{key:"initializeSupportedFeatures",value:function(){var e=this;try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),this.isLocalStorageSupported=!0}catch(e){this.isLocalStorageSupported=!1}try{new File([],""),this.isImageResizeSupported="FileReader"in window&&"File"in window&&"Blob"in window}catch(e){this.isImageResizeSupported=!1}this.isCssVariablesSupported=window.CSS&&CSS.supports&&CSS.supports("color","var(--fake-var)")||!1,this.isWebAnimationApiSupported=!!window.KeyframeEffect,this.isPassiveListenersSupported=!1;try{var t=(0,r.default)({},"passive",{get:function(){return e.isPassiveListenersSupported=!0,e.isPassiveListenersSupported}});window.addEventListener("test",null,t)}catch(e){this.isPassiveListenersSupported=!1}}},{key:"operaMini",value:function(){return this.isOperaMini}},{key:"firefox",value:function(){return this.isFirefox}},{key:"safari",value:function(){return this.isSafari}},{key:"chrome",value:function(){return this.isChrome}},{key:"ieOrEdge",value:function(){return this.isIeOrEdge}},{key:"ie",value:function(){return this.isIe}},{key:"edge",value:function(){return this.isEdge}},{key:"ios",value:function(){return this.isIos}},{key:"ipad",value:function(){return this.isIpad}},{key:"chromeIOS",value:function(){return this.isChromeIOS}},{key:"android",value:function(){return this.isAndroid}},{key:"windowsPhone",value:function(){return this.isWindowsPhone}},{key:"mobile",value:function(){return this.isMobile}},{key:"tablet",value:function(){return this.isTablet}},{key:"mobileOrTablet",value:function(){return this.isMobileOrTablet}},{key:"desktop",value:function(){return this.isDesktop}},{key:"iosVersion",value:function(){return this.iosVer}},{key:"macVersion",value:function(){return this.macVer}},{key:"getDevice",value:function(){return this.device}},{key:"supportsPassiveListeners",value:function(){return this.isPassiveListenersSupported}},{key:"supportsCssVariables",value:function(){return this.isCssVariablesSupported}},{key:"supportsWebAnimationApi",value:function(){return this.isWebAnimationApiSupported}},{key:"supportsImageResize",value:function(){return this.isImageResizeSupported}},{key:"supportsLocalStorage",value:function(){return this.isLocalStorageSupported}},{key:"supportsIMessage",value:function(){return(this.ios()||this.ipad())&&this.iosVersion()>=11.3}},{key:"isMacintosh",value:function(){return this.isMac}},{key:"supportsAbc",value:function(){return this.isMacintosh()&&this.macVersion()>=10.15}},{key:"yandexBot",value:function(){return this.isYandexBot}},{key:"googleBot",value:function(){return this.isGoogleBot}},{key:"isPointerEnabled",value:function(){return"PointerEvent"in window}},{key:"_find",value:function(e){var t;return-1!==(0,i.default)(t=this.userAgent).call(t,e)}}]),e}())(window.navigator.userAgent.toLowerCase());t.default=d},99112:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getRuleLocal=function(e){if(e in c)return c[e]},t.pageVisible=function(){if("visibilityState"in document)return"visible"===document.visibilityState;if("webkitVisibilityState"in document)return"visible"===document.webkitVisibilityState;return!1},t.isVisible=function(e){return e&&e.offsetWidth>0&&e.offsetHeight>0},t.getScrollBarWidth=function(){if(void 0!==i)return i;var e=document.createElement("div");if(e.style.visibility="hidden",e.style.width="100px",!document||!document.body)return i;document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var a=n.offsetWidth;return e.parentNode.removeChild(e),i=t-a},t.getComputedStyleAll=m,t.getInnerHeight=function(e){var t=e.clientHeight,n=m(e,"paddingTop"),a=m(e,"paddingBottom");return t-(0,l.default)(n)-(0,l.default)(a)},t.getInnerWidth=function(e){var t=e.clientWidth,n=getComputedStyle(e),a=n.paddingLeft,i=n.paddingRight;return t-(0,l.default)(a)-(0,l.default)(i)},t.getNextSiblingNodeFocus=function(e){if(e.keyCode&&13==e.keyCode){var t,n=e.currentTarget.parentNode.nextElementSibling,a=n.querySelector("input");if(a||(a=n.querySelector("jdiv")||n.querySelector("textarea")),!a)return;if(-1!==(0,o.default)(t=["INPUT","TEXTAREA"]).call(t,a.tagName)&&a.focus)a.focus();else{var i=u.default.tablet()?"touchstart":"click",r=document.createEvent("MouseEvents");r.initEvent(i,!0,!0),a.dispatchEvent(r)}}},t.hasClass=function(e,t){return d?e.classList.contains(t):""!==e.className&&s.default.contains(h(e),t)},t.addClass=function(e,t){if(d)s.default.each(p(t),(function(t){e&&e.classList.add(t)})),e&&f(e);else{var n=h(e),a=s.default.union(n,p(t));g(e,a)}},t.removeClass=function(e,t){if(d)s.default.each(p(t),(function(t){e&&e.classList.remove(t)})),e&&f(e);else{var n=h(e),a=s.default.difference(n,p(t));g(e,a)}},t.getElementPosition=function(e){if(!e)return{width:0,height:0,top:0,left:0,windowWidth:0,windowHeight:0};var t,n=e.ownerDocument,a=n.defaultView||n.parentWindow,i={left:0,top:0};if(e.getBoundingClientRect)i=s.default.extend(i,e.getBoundingClientRect());else for(t=e;t;)i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;return i.width=e.offsetWidth,i.height=e.offsetHeight,i.windowWidth=a.innerWidth,i.windowHeight=a.innerHeight,i},t.addNoTranslateClass=function(e){return e.className+=" notranslate",e},t.addNewLine=function(e,t){if(!e)return!1;var n=e.selectionStart,a=t.substring(0,n),i=t.substring(n,t.length);if(n!==e.value.length){var o;e.value=(0,r.default)(o="".concat(a,"\r\n")).call(o,i),e.setSelectionRange(n,n)}else e.value+="\r\n",e.scrollTop=e.scrollHeight;return e.value},t.isInput=function(e){var t;if(!e)return;return-1!==(0,o.default)(t=["INPUT","TEXTAREA"]).call(t,e.tagName)},t.isTextArea=function(e){if(!e)return;return"TEXTAREA"==e.tagName},t.isScrolledIntoView=function(e,t){if(e&&t&&t.base){if(t.getScrollTop()<100)return!0;var n=t.base,a=e.getBoundingClientRect(),i=a.top,r=a.bottom,o=a.height,l=n.getBoundingClientRect();return i<=l.top?l.top-i<=o:r-l.bottom<=o}return!1},t.isNoScroll=function(e,t){if(e&&e.base&&t){return e.getScrollHeight()<e.base.clientHeight||t.lastChild&&t.lastChild.lastChild&&t.lastChild.lastChild.clientHeight>e.getClientHeight()}},t.isParentA=function(e){return e&&e.target&&e.target.parentNode&&"A"==e.target.parentNode.tagName};var i,r=a(n(77766)),o=a(n(81643)),l=a(n(31238)),u=a(n(58061)),s=a(n(62107)),c=(a(n(75043)).default.name("DomUtils"),{}),d="classList"in document.documentElement;function f(e){e.offsetHeight}function p(e){return s.default.isArray(e)?e:e.replace(/^\s+|\s+$/g,"").split(/\s+/)}function h(e){return p(e.className)}function g(e,t){var n=t.join(" ");e.className!==n&&(e.className=n,f(e))}function m(e,t){if(e)return e.currentStyle?e.currentStyle[t]:window.getComputedStyle&&window.getComputedStyle(e,null)?window.getComputedStyle(e,null)[t]:e.style[t]}},34935:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(94515).EnvironmentManager.getAllowedFileTypes(),i=a&&a.length?a:[{extension:"rar",mimeType:"application/vnd.rar"},{extension:"tar",mimeType:"application/x-tar"},{extension:"7z",mimeType:"application/x-7z-compressed"},{extension:"djvu",mimeType:"image/vnd.djvu"},{extension:"json",mimeType:"application/json"},{extension:"log",mimeType:"text/plain"},{extension:"ppt",mimeType:"application/vnd.ms-powerpoint"},{extension:"xls",mimeType:"application/vnd.ms-excel"},{extension:"doc",mimeType:"application/msword"},{extension:"docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:"rtf",mimeType:"application/rtf"},{extension:"ttf",mimeType:"font/ttf"},{extension:"psd",mimeType:"image/vnd.adobe.photoshop"},{extension:"odt",mimeType:"application/vnd.oasis.opendocument.text"},{extension:"pdf",mimeType:"application/pdf"},{extension:"aac",mimeType:"audio/aac"},{extension:"avi",mimeType:"video/x-msvideo"},{extension:"csv",mimeType:"text/csv"},{extension:"epub",mimeType:"application/epub+zip"},{extension:"gz",mimeType:"application/gzip"},{extension:"gif",mimeType:"image/gif"},{extension:"ics",mimeType:"text/calendar"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"mp3",mimeType:"audio/mpeg"},{extension:"mpeg",mimeType:"video/mpeg"},{extension:"oga",mimeType:"audio/ogg"},{extension:"ogv",mimeType:"video/ogg"},{extension:"png",mimeType:"image/png"},{extension:"svg",mimeType:"image/svg+xml"},{extension:"txt",mimeType:"text/plain"},{extension:"vsd",mimeType:"application/vnd.visio"},{extension:"wav",mimeType:"audio/wav"},{extension:"weba",mimeType:"audio/webm"},{extension:"webm",mimeType:"video/webm"},{extension:"webp",mimeType:"image/webp"},{extension:"zip",mimeType:"application/zip"},{extension:"zip",mimeType:"application/x-zip-compressed"},{extension:"mp4",mimeType:"application/mp4"},{extension:"mp4",mimeType:"video/mp4"},{extension:"mp4a",mimeType:"audio/mp4"},{extension:"mov",mimeType:"video/quicktime"},{extension:"html",mimeType:"text/html"},{extension:"htm",mimeType:"text/html"},{extension:"css",mimeType:"text/css"},{extension:"ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:"odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:"pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];t.default=i},56152:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=n(10404),l=n(56602),u=n(57018),s=a(n(34935)),c=function(){function e(t){(0,i.default)(this,e),this.file=t,this.fileExtension=(0,l.getFileExtension)(t.name),this.fileMimeType=t.type,this.fileSize=t.size,this.reason=null}return(0,r.default)(e,[{key:"isValid",value:function(){return this.isAllowedFileSize()&&this.isAllowedExtensionAndMime()}},{key:"getReason",value:function(){return this.reason}},{key:"isAllowedExtensionAndMime",value:function(){if(!this.fileExtension)return this.reason=o.FileUploadError.NO_EXTENSION,!1;for(var e=0;e<s.default.length;e++){var t=s.default[e];if(t.extension===this.fileExtension.toLowerCase()&&t.mimeType===this.fileMimeType)return!0}return this.reason=o.FileUploadError.RESTRICTED_FILE_TYPE,!1}},{key:"isAllowedFileSize",value:function(){return!(this.fileSize>u.MAX_FILE_SIZE)||(this.reason=o.FileUploadError.FILE_SIZE_EXCEEDED,!1)}}]),e}();t.default=c},92333:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.mediaUploader=void 0;var i=a(n(77766)),r=a(n(63109)),o=a(n(51161)),l=a(n(26394)),u=a(n(69198)),s=n(33367),c=n(63242),d=n(53172),f=a(n(56152)),p=n(10404),h=n(57018),g=n(56602),m=a(n(75119)),v=a(n(9669)),_=n(49485),y=n(8565),b=n(81189),E=a(n(75043)).default.name("MediaUploader"),C=new(function(){function e(){(0,l.default)(this,e),this.mediaMessage=null,this.sign=null,this.file_name=null,this.client_id=(0,d.getClient)().clientId?(0,d.getClient)().clientId.split(".")[0]:0,this.site_id=(0,d.getSystemSettings)().siteId,this.public_id=(0,d.getSystemSettings)().widgetId,this.currentQuery=null}var t,n,a;return(0,u.default)(e,[{key:"getSignUrl",value:function(){return(0,_.getApiHost)().replace("code","auth")+"/api/1.0/auth/media/sign/put"}},{key:"getSign",value:(a=(0,o.default)(r.default.mark((function e(){var t,n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.warn("getSign"),e.next=3,v.default.get(this.getSignUrl(),{timeout:3e4,params:{file_name:this.file_name,client_id:(0,d.getClient)().clientId?(0,d.getClient)().clientId.split(".")[0]:0,site_id:this.site_id,public_id:this.public_id}}).then((function(e){E.warn("getSignData",e.data);var t=e.data;return n.metadata=t.metadata,n.sign=t.sign,n.ts=t.ts,n.media_server_url=t.url,t})).catch((function(e){E.error("Upload file error",e),s.Monitoring.telemetry(c.TelemetryName.MEDIA_SIGN_ERROR),n.setMessageError(p.FileUploadError.REQUEST_FAILED)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onUploadProgress",value:function(e){if(this.mediaMessage){var t=this.mediaMessage.toJSON();t.body.status==y.MediaStatus.ERROR&&this.currentQuery&&this.currentQuery.cancel(),t.body.loadedSize=e.loaded,b.messagesDispatchers.updateMessageBody(t.private_id,t.body)}}},{key:"uploadFile",value:(n=(0,o.default)(r.default.mark((function e(){var t,n,a,o,l,u=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.warn("uploadFile"),o=(0,i.default)(t=(0,i.default)(n=(0,i.default)(a="".concat(this.media_server_url,"/")).call(a,this.file_name,"?ts=")).call(n,this.ts,"&sign=")).call(t,this.sign,"&public"),l=v.default.CancelToken,this.currentQuery=l.source(),e.next=6,v.default.put(o,this.file,{cancelToken:this.currentQuery.token,headers:{"Content-Type":this.file.type,"X-Metadata":this.metadata},onUploadProgress:function(e){u.onUploadProgress(e)}}).then((function(e){E.warn("uploadFile",e.headers.location,e);var t=u.media_server_url+e.headers.location,n=(0,_.isPreviewImage)(u.file_name)||(0,_.isVideo)(u.file.type)?"".concat(t,"?width=",200,"&thumb"):null;u.thumbUrl=n,u.fullUrl=t,u.mediaMessage.set("body.unsave",null),u.onSuccess({fullUrl:t,thumbUrl:n})})).catch((function(e){v.default.isCancel(e)?(E.warn("Upload canceled"),u.setMessageError(p.FileUploadError.UPLOAD_CANCELED)):(E.error("Upload file error",e),u.setMessageError(p.FileUploadError.REQUEST_FAILED))}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getError",value:function(e){if(e){var t=(0,m.default)("file_upl_error"),n=null;switch(e){case p.FileUploadError.FILE_SIZE_EXCEEDED:t=(0,m.default)("file_upl_error_max_size").replace("_FILESIZE_",(0,g.humanFileSize)(h.MAX_FILE_SIZE)),n=null;break;case p.FileUploadError.UPLOAD_CANCELED:t=(0,m.default)("file_upl_cancel"),n=null;break;case p.FileUploadError.NO_EXTENSION:t=(0,m.default)("file_upl_error_no_ext"),n={param1:"no_ext"};break;case p.FileUploadError.RESTRICTED_FILE_TYPE:t=(0,m.default)("file_upl_error"),n={param1:(0,g.getFileExtension)(this.file.name)};break;case p.FileUploadError.REQUEST_FAILED:n={param1:p.FileUploadError.REQUEST_FAILED}}return n&&s.Monitoring.telemetry(c.TelemetryName.FILE_UPLOAD_ERROR,n),t}}},{key:"setMessageError",value:function(e){var t=this.getError(e);this.mediaMessage&&(this.mediaMessage.set("body.status","error"),this.mediaMessage.set("status",y.MessageStatus.DELIVERED),t&&this.mediaMessage.set("body.error",t))}},{key:"checkIfFileReadIsNeeded",value:function(e){if(E.warn("checkIfFileReadIsNeeded",e.type),"photo"===(0,g.detectType)(e.type)&&"FileReader"in window)try{return this.readFileContent(e),!0}catch(e){return this.setMessageError(),!1}}},{key:"checkFileInfo",value:function(e){var t=new f.default(e);if(t.isValid())return this.checkIfFileReadIsNeeded(e),!0;var n=t.getReason();return this.setMessageError(n),!1}},{key:"readFileContent",value:function(e){var t=new FileReader;t.onload=function(){var n=new Image;n.onload=function(){e.width=n.width,e.height=n.height,E.warn("readFileContent",e)},n.onerror=function(e){E.log("FileReader error",e),s.Monitoring.telemetry(c.TelemetryName.FILE_UPLOAD_ERROR,{param1:"image_generate_failed"})},n.src=t.result},t.onprogress=function(){},t.readAsDataURL(e)}},{key:"startUpload",value:(t=(0,o.default)(r.default.mark((function e(t,n,a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.file=n,this.file_name=n.name,this.onSuccess=a,this.mediaMessage=t,!this.checkFileInfo(n)){e.next=13;break}return e.next=9,this.getSign();case 9:if(!e.sent){e.next=13;break}return e.next=13,this.uploadFile();case 13:case"end":return e.stop()}}),e,this)}))),function(e,n,a){return t.apply(this,arguments)})}]),e}());t.mediaUploader=C},93848:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initCallTouch=function(){if(o.default.enable_calltouch){var e=(0,u.getPageWindow)();if("function"==typeof e.ct){s.log("init");try{var t=e.ct("calltracking_params");t&&t.length&&(0,r.default)(t).call(t,(function(t){var n,a,r=(0,i.default)(n=(0,i.default)(a='{"site_id": '.concat(o.default.site_id,', "widget_id": "')).call(a,o.default.widget_id,'", "visitor_id": "')).call(n,l.default.visitorId,'"}');s.log("set attr:",r),e.ct(t.modId,"set_attrs",r)}))}catch(e){s.error("Fail to sync with calltouch",e)}}}};var i=a(n(77766)),r=a(n(78914)),o=a(n(62904)),l=a(n(36216)),u=n(56602),s=a(n(75043)).default.name("CallTouch","color: grey")},94990:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initVideoForce=function(){var e=i.default.integrations;if(e&&e.videoforce){try{var t=document.createElement("script");t.src="https://widget.videoforce.io/"+e.videoforce,t.crossorigin="anonymous",t.async="true";var n=(0,r.getPageWindow)().jivo_cspNonce;n&&t.setAttribute("nonce",n);var a=(0,r.getPageWindow)().document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}catch(e){o.Monitoring.reportException(e)}}};var i=a(n(62904)),r=n(56602),o=n(33367)},46390:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),r=a(n(26394)),o=a(n(69198)),l=a(n(82993)),u=n(84235),s=a(n(62904)),c=(n(63242),n(33367),a(n(75043)).default.name("ABTestManager")),d=function(){function e(){(0,r.default)(this,e),this.activeTest=null,this.storeName="abTests",this._initialize(),this._cleanUp()}return(0,o.default)(e,[{key:"testIsActive",value:function(e){return this.activeTest&&this.activeTest.name===e}},{key:"getActiveTest",value:function(){return this.activeTest?this.activeTest:null}},{key:"getGroup",value:function(e){return this.testIsActive(e)?this.activeTest.chosenGroup:null}},{key:"getNumberOfGroupsInTest",value:function(e){return this.testIsActive(e)?this.activeTest.numberOfGroups:null}},{key:"isInTestGroup",value:function(e,t){return this.getGroup(e)===t}},{key:"getActiveTestAsString",value:function(){var e;return this.activeTest?(0,i.default)(e="".concat(this.activeTest.name,",")).call(e,this.activeTest.chosenGroup):null}},{key:"getActiveTestName",value:function(){return this.activeTest?this.activeTest.name:null}},{key:"getActiveTestGroup",value:function(){return this.activeTest?this.activeTest.chosenGroup:null}},{key:"_initialize",value:function(){if(u.ACTIVE_TEST&&s.default.enable_top100&&"ru_RU"===s.default.locale){var e=this._getSavedTestGroup(u.ACTIVE_TEST.name);this.activeTest={name:u.ACTIVE_TEST.name,numberOfGroups:u.ACTIVE_TEST.groups,chosenGroup:e||this._getRandomGroupNumber(u.ACTIVE_TEST.groups)},l.default.set(this.storeName,this.activeTest),c.log("Ab-testing is ebabled.","TestName: ".concat(this.getActiveTestName(),"."),"Group: ".concat(this.getActiveTestGroup(),"."))}}},{key:"_getRandomGroupNumber",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"_getSavedTestGroup",value:function(e){var t=l.default.get(this.storeName);return t&&t.name===e?t.chosenGroup:null}},{key:"_cleanUp",value:function(){this.activeTest||l.default.removeKey(this.storeName)}}]),e}();t.default=d},94515:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.EnvironmentManager=void 0;var i=a(n(81643)),r=a(n(26394)),o=a(n(69198)),l=n(84640),u=new(function(){function e(){(0,r.default)(this,e),this.env="production",this.version="42.6.0",this.loaderVersion="0.1",this.branch="HEAD_86b4f73e",this.allowedFiles=JSON.parse('[{"extension":"rar","mimeType":"application/vnd.rar"},{"extension":"tar","mimeType":"application/x-tar"},{"extension":"7z","mimeType":"application/x-7z-compressed"},{"extension":"djvu","mimeType":"image/vnd.djvu"},{"extension":"json","mimeType":"application/json"},{"extension":"log","mimeType":"text/plain"},{"extension":"ppt","mimeType":"application/vnd.ms-powerpoint"},{"extension":"xls","mimeType":"application/vnd.ms-excel"},{"extension":"doc","mimeType":"application/msword"},{"extension":"docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"extension":"rtf","mimeType":"application/rtf"},{"extension":"ttf","mimeType":"font/ttf"},{"extension":"psd","mimeType":"image/vnd.adobe.photoshop"},{"extension":"odt","mimeType":"application/vnd.oasis.opendocument.text"},{"extension":"pdf","mimeType":"application/pdf"},{"extension":"aac","mimeType":"audio/aac"},{"extension":"avi","mimeType":"video/x-msvideo"},{"extension":"avi","mimeType":"video/avi"},{"extension":"csv","mimeType":"text/csv"},{"extension":"epub","mimeType":"application/epub+zip"},{"extension":"gz","mimeType":"application/gzip"},{"extension":"gif","mimeType":"image/gif"},{"extension":"ics","mimeType":"text/calendar"},{"extension":"jpeg","mimeType":"image/jpeg"},{"extension":"jpg","mimeType":"image/jpeg"},{"extension":"mp3","mimeType":"audio/mpeg"},{"extension":"mpeg","mimeType":"video/mpeg"},{"extension":"oga","mimeType":"audio/ogg"},{"extension":"ogv","mimeType":"video/ogg"},{"extension":"png","mimeType":"image/png"},{"extension":"svg","mimeType":"image/svg+xml"},{"extension":"txt","mimeType":"text/plain"},{"extension":"vsd","mimeType":"application/vnd.visio"},{"extension":"wav","mimeType":"audio/wav"},{"extension":"weba","mimeType":"audio/webm"},{"extension":"webm","mimeType":"video/webm"},{"extension":"webp","mimeType":"image/webp"},{"extension":"zip","mimeType":"application/zip"},{"extension":"zip","mimeType":"application/x-zip-compressed"},{"extension":"mp4","mimeType":"application/mp4"},{"extension":"mp4","mimeType":"video/mp4"},{"extension":"mp4a","mimeType":"audio/mp4"},{"extension":"mov","mimeType":"video/quicktime"},{"extension":"html","mimeType":"text/html"},{"extension":"htm","mimeType":"text/html"},{"extension":"css","mimeType":"text/css"},{"extension":"ods","mimeType":"application/vnd.oasis.opendocument.spreadsheet"},{"extension":"odp","mimeType":"application/vnd.oasis.opendocument.presentation"},{"extension":"pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"extension":"xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}]')||null,this.isDesigner=this._checkIfDesignerEditor()}return(0,o.default)(e,[{key:"isProduction",value:function(){return this.env===l.Environment.PRODUCTION}},{key:"isTesting",value:function(){return this.env===l.Environment.TESTING}},{key:"isDevelopment",value:function(){return this.env===l.Environment.DEVELOPMENT}},{key:"getVersion",value:function(){return this.version}},{key:"getLoaderVersion",value:function(){return this.loaderVersion}},{key:"getBranch",value:function(){return this.branch}},{key:"getAllowedFileTypes",value:function(){return this.allowedFiles}},{key:"isPartnerApp",value:function(){return window.parent.jivo_partner||!1}},{key:"isDesignerEditor",value:function(){return this.isDesigner}},{key:"_checkIfDesignerEditor",value:function(){var e,t=window.parent||window,n=t.location.host,a=this.isProduction(),r=-1!==(0,i.default)(e=["app.jivosite.com","app3alpha.jivosite.com","app3beta.jivosite.com"]).call(e,n);return!(!t._jivoDesigner||!(a&&r||!a))}}]),e}());t.EnvironmentManager=u},75959:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(62904)),l=a(n(62652)),u=a(n(58061)),s=n(33367),c=n(63242),d=a(n(81574)),f=n(53793),p=n(81189),h=(a(n(75043)).default.name("EulaManager"),new(function(){function e(){(0,i.default)(this,e),this.context=null,this.eulaLink=null}return(0,r.default)(e,[{key:"showEula",value:function(e,t,n){o.default.eula&&(l.default.show_eula=e,t&&(this.eulaLink=t),u.default.desktop()&&document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),n&&(this.context=n,s.Monitoring.telemetry(c.TelemetryName.EULA_SHOWN,{param1:n})))}},{key:"acceptEula",value:function(){if(p.clientDispatchers.setEulaAccepted(!0),"cb"===this.context){var e=new f.AcceptEula,t=d.default.getInstance();if(t){var n=t.managers.connection;n&&n.isOpen()&&n.send(e)}}s.Monitoring.telemetry(c.TelemetryName.EULA_ACCEPTED,{param1:this.context})}}]),e}()));t.default=h},23582:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),r=a(n(26394)),o=a(n(69198)),l=a(n(62904)),u=a(n(75043)),s=n(37846),c=(u.default.name("FeatureManager"),function(){function e(){(0,r.default)(this,e),this.features=(0,i.default)({},s.Feature.RECAPTCHA,l.default.enable_antispam&&l.default.recaptcha)}return(0,o.default)(e,[{key:"isEnabled",value:function(e){return this.features[e]||!1}}]),e}());t.default=c},46418:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=n(56602),l=a(n(75043)),u=a(n(47321)),s=n(85442),c=l.default.name("HistoryManager"),d=null,f=function(){function e(){if((0,i.default)(this,e),d)return d;this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),d=this}return(0,r.default)(e,[{key:"setHistoryState",value:function(){c.log("setHistoryState");var e=(0,o.getPageWindow)(),t=e.history,n=e.location;(!t.state||t.state&&"number"!=typeof t.state.jmobile)&&t.pushState({jmobile:1},n.title,n.href),t.replaceState({jmobile:1},n.title,n.href)}},{key:"checkPopState",value:function(e,t){c.log("checkPopState",e,t),this.initHash!==this.getLocation().hash&&this.initHref===this.getLocationWithoutHash()||(this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),t!==s.Route.LABEL&&u.default.closeWidget())}},{key:"getLocation",value:function(){return(0,o.getPageWindow)().location}},{key:"getLocationWithoutHash",value:function(){var e=this.getLocation();return e.href.replace(e.hash,"")}}],[{key:"getInstance",value:function(){return d}}]),e}();t.default=f},20097:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59340)),r=a(n(26394)),o=a(n(69198)),l=a(n(58061)),u=(a(n(75043)).default.name("LoaderContextManager"),null),s=function(){function e(t,n){var a=this;if((0,r.default)(this,e),u)return u;this.appStore=n,this.appStore.addListener((function(){a.updateChatStarted()})),this.storeName="jv_loader_info_"+t,this.store={},l.default.supportsLocalStorage()&&(this.store=JSON.parse(localStorage.getItem(this.storeName))||{}),u=this}return(0,o.default)(e,[{key:"setInStore",value:function(e,t){this.store[e]=t,this.saveStore()}},{key:"saveStore",value:function(){l.default.supportsLocalStorage()&&localStorage.setItem(this.storeName,(0,i.default)(this.store))}},{key:"updateChatStarted",value:function(){this.store.isChatStarted!==this.appStore.chat_started&&(this.store.isChatStarted=this.appStore.chat_started,this.saveStore())}}],[{key:"getInstance",value:function(){return u}}]),e}();t.default=s},88561:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),r=a(n(78914)),o=a(n(26394)),l=a(n(69198)),u=n(56602),s=n(99112),c=a(n(75043)).default.name("PageVisibilityManager"),d=new(function(){function e(){var t=this;(0,o.default)(this,e),this.pageVisible=(0,s.pageVisible)(),this.subscribers=[],(0,u.listenVisibility)((function(){t.pageVisible=(0,s.pageVisible)(),c.log("Page visibility changed to:",t.pageVisible),t.fireSubscriptions(t.pageVisible)}))}return(0,l.default)(e,[{key:"fireSubscriptions",value:function(e){var t;(0,r.default)(t=this.subscribers).call(t,(function(t){t(e)}))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t;this.subscribers=(0,i.default)(t=this.subscribers).call(t,(function(t){if(t!==e)return t}))}}]),e}());t.default=d},11723:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),r=a(n(63109)),o=a(n(78914)),l=a(n(51161)),u=a(n(26394)),s=a(n(69198)),c=n(81189),d=n(2843),f=a(n(75043)).default.name("PermissionManager"),p=function(){function e(){(0,u.default)(this,e),this.allowedMics=[],this.allMics=[],this.allSpeakers=[],this.getAllDevices()}var t,n;return(0,s.default)(e,[{key:"checkAudio",value:(n=(0,l.default)(r.default.mark((function e(){var t,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices){e.next=24;break}return e.next=3,this.getAllDevices();case 3:return f.log("start check mic access"),t=null,e.prev=5,e.next=8,navigator.mediaDevices.getUserMedia({audio:!0});case 8:return t=e.sent,f.log("mic is allowed"),n=t.getTracks(),(0,o.default)(n).call(n,(function(e){return e.stop()})),this.allowedMics=n,c.permissionsDispatchers.updatePermission(d.Permission.AUDIO,d.PermissionStatus.ALLOWED),e.abrupt("return",d.PermissionStatus.ALLOWED);case 17:return e.prev=17,e.t0=e.catch(5),f.warn("mic is not allowed",e.t0),c.permissionsDispatchers.updatePermission(d.Permission.AUDIO,d.PermissionStatus.BLOCKED),e.abrupt("return",d.PermissionStatus.BLOCKED);case 22:e.next=27;break;case 24:return f.warn("can't check mic access - old browser"),c.permissionsDispatchers.updatePermission(d.Permission.AUDIO,d.PermissionStatus.BLOCKED),e.abrupt("return",d.PermissionStatus.BLOCKED);case 27:case"end":return e.stop()}}),e,this,[[5,17]])}))),function(){return n.apply(this,arguments)})},{key:"getAllDevices",value:(t=(0,l.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){e.next=6;break}return e.next=3,navigator.mediaDevices.enumerateDevices();case 3:t=e.sent,this.allMics=(0,i.default)(t).call(t,(function(e){return"audioinput"===e.kind})),this.allSpeakers=(0,i.default)(t).call(t,(function(e){return"audiooutput"===e.kind}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.default=p},38514:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),r=a(n(26394)),o=a(n(69198)),l=a(n(62904)),u=n(43472),s=n(81189),c=a(n(36216)),d=n(85442),f=n(17674),p=a(n(45808)),h=n(21224),g=n(56602),m=n(99112),v=a(n(46237)),_=a(n(62107)),y=n(5505),b=n(57018),E=a(n(75043)).default.name("PositionManager"),C="336px",T="496px",w=new(function(){function e(){var t=this;(0,r.default)(this,e),this.offlineBodyHeight=0,this.offlineContainerHeight=0,this._lastHeight=null,this.transitionProp="",this.updatePositionStore=_.default.throttle((function(){t._updatePositionStoreOnDrag()}),30)}return(0,o.default)(e,[{key:"clearPositionStore",value:function(e,t,n){e&&s.positionDispatchers.setWidgetPositionLeft(""),t&&s.positionDispatchers.setWidgetPositionRight(""),n&&s.positionDispatchers.setWidgetPositionHeight("")}},{key:"getPositionStoreData",value:function(){return u.reduxStore.getState().position}},{key:"getPositionStyle",value:function(e,t){switch(e){case d.Route.LABEL:return this._getLabelPosition();case d.Route.CALL:case d.Route.CALL_EULA:return this._getCallPosition();case d.Route.CHAT_MIN:return this._getChatMinPosition();case d.Route.INTRODUCE:return this._getIntroducePosition();default:return this._getChatPosition(t)}}},{key:"initializeDrag",value:function(e){var t=this;e&&(v.default.attach(e),v.default.addListener("start",(function(){t._startDrag()})),v.default.addListener("stop",(function(){t._stopDrag()})),v.default.addListener("move",(function(e,n,a){t._drag(e,n,a)})))}},{key:"getPosRight",value:function(e){return(0,g.getPageWindow)().document.body.clientWidth-(e.offsetLeft||40)-e.offsetWidth+"px"}},{key:"getPosLeft",value:function(e){return(0,g.getPageWindow)().document.body.clientWidth-(e.offsetWidth+30)+"px"}},{key:"_updatePositionStoreOnDrag",value:function(){var e=p.default.get(h.Component.WIDGET_CONTAINER),t=(0,i.default)(e.style.height);t&&t<b.MINIMAL_WIDGET_HEIGHT&&(t=b.MINIMAL_WIDGET_HEIGHT);var n=e.style.left,a=e.style.right;s.positionDispatchers.initializePositionStore({height:t+"px",left:n,right:a})}},{key:"_startDrag",value:function(){E.log("_startDrag");var e=p.default.get(h.Component.WIDGET_CONTAINER),t=this.getStyleKey();e.style.marginLeft=0,e.style.marginRight=0,this.transitionProp=e.style.transition,e.style.transition="","right"===t&&""===e.style.right&&(e.style.right=this.getPosRight(e),e.style.left=""),"left"===t&&""!==e.style.right&&(e.style.left=e.offsetLeft+"px",e.style.right=""),"left"===t&&""===e.style.left&&(e.style.left=e.offsetLeft||"40px",e.style.right="");var n=(0,m.getElementPosition)(e),a=e.offsetHeight;this.originX=(0,i.default)(e.style[t]),this.originHeight=(0,i.default)(a),n.minLeft="left"===t?40:30,n.maxLeft=n.windowWidth-n.width-n.minLeft,n.maxLeft-=30,n.minHeight=400,n.height=a<n.minHeight?n.minHeight:a,n.maxHeight=(0,g.getPageWindow)().innerHeight-30,this.dragData=n}},{key:"_stopDrag",value:function(){E.log("_stopDrag");var e=p.default.get(h.Component.WIDGET_CONTAINER);if(this.updatePositionStore(),e.style.transition=this.transitionProp||"","[object HTMLDivElement]"===e.toString()||"[object HTMLUnknownElement]"===e.toString()){var t=getComputedStyle(e);(0,y._callUserFunction)("onResizeCallback",{width:C,height:t.height+"px"})}}},{key:"_drag",value:function(e,t,n){E.log("_drag",e,t,n);var a=p.default.get(h.Component.WIDGET_CONTAINER),i=this.getStyleKey();"left"==i&&(t=-t);var r=this.dragData,o=this.originX+t;o<r.minLeft?a.style[i]=r.minLeft+"px":o>r.maxLeft?a.style[i]=r.maxLeft+"px":a.style[i]=o+"px";var l=this.originHeight+n;l!==r.height&&(l>r.minHeight||l>r.height)&&(f.Router.isIgnoreDragHeightRoute()&&(l=r.height),l>this.dragData.maxHeight&&(l=this.dragData.maxHeight),this.dragData.height=l,a.style.height=l+"px"),this.updatePositionStore()}},{key:"getStyleKey",value:function(){return"0"==l.default.widget_padding&&"bottom"===l.default.widget_orientation||"left"===l.default.widget_orientation?"left":"right"}},{key:"_getChatPosition",value:function(e){var t=(0,g.getPageWindow)(),n={width:C,top:"auto",bottom:0,paddingTop:0,marginBottom:0};""===this.getPositionStoreData().right&&"right"===this.getStyleKey()&&s.positionDispatchers.setWidgetPositionRight("30px"),""===this.getPositionStoreData().left&&"left"===this.getStyleKey()&&s.positionDispatchers.setWidgetPositionLeft("40px"),n.right=this.getPositionStoreData().right&&!e?this.getPositionStoreData().right:"30px",n.left="",n.marginRight=0;var a=(0,i.default)(this.getPositionStoreData().height),r=a&&(0,i.default)(a)>b.MINIMAL_WIDGET_HEIGHT&&!e?a:T;return n.height=r,t.innerHeight<(0,i.default)(r,10)&&(n.height=(t.innerHeight>=b.MINIMAL_WIDGET_HEIGHT?t.innerHeight:b.MINIMAL_WIDGET_HEIGHT)+"px"),(0,i.default)(this.getPositionStoreData().right)+(0,i.default)(C)>t.document.body.clientWidth&&(n.right="30px",s.positionDispatchers.setWidgetPositionRight("30px")),(""!==this.getPositionStoreData().left&&"left"===l.default.widget_orientation||"bottom"===l.default.widget_orientation&&"0"===l.default.widget_padding)&&(n.left=this.getPositionStoreData().left&&!e?this.getPositionStoreData().left:"40px",n.right=""),"left"===this.getStyleKey()&&(0,i.default)(this.getPositionStoreData().left)+(0,i.default)(C)>t.document.body.clientWidth&&(n.left="40px",n.right="",s.positionDispatchers.setWidgetPositionLeft(n.left),s.positionDispatchers.setWidgetPositionRight("")),n}},{key:"_getLabelPosition",value:function(){return this._getChatPosition()}},{key:"_getCallPosition",value:function(){var e=this._getChatPosition();return c.default.cw_call.status&&"cw_connected"===c.default.cw_call.status?{left:e.left,right:e.right}:{width:C,height:T,left:e.left,right:e.right}}},{key:"_getChatMinPosition",value:function(){var e=this._getChatPosition(!0);return e.height="",50==l.default.widget_padding&&"bottom"==l.default.widget_orientation&&(e.marginRight=this._getMarginRight(C),e.right=l.default.widget_padding+"%"),"left"!==this.getStyleKey()&&"left"!==l.default.widget_orientation||(e.left="40px",e.right=""),(0,g.isCustomLabel)()&&(e.bottom="-170px"),e}},{key:"_getIntroducePosition",value:function(){var e=this._getChatPosition();if(this._lastHeight)return e.height="".concat(this._lastHeight,"px"),e;var t=p.default.getComponent(h.Component.INTRODUCE);if(t){var n=t,a=n.scrollHeight+70;70===a&&this.getPositionStoreData().height&&(a=(0,i.default)(this.getPositionStoreData().height)>>0),e.height="".concat(a,"px"),n.scrollHeight&&(this._lastHeight=a)}return e}},{key:"_getMarginRight",value:function(e){var t=(0,i.default)(e);return t<300&&(t=300),t/2*-1+"px"}}]),e}());t.default=w},13106:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),r=a(n(59340)),o=a(n(77766)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=n(63242),d=n(81189),f=a(n(49043)),p=a(n(33535)),h=a(n(75043)).default.name("RecaptchaManager"),g=function(){function e(t,n){(0,u.default)(this,e),this.application=t,this.token=n,this.recaptchaWidgetIndex=null,this.grecaptcha=null,this.blocked=null}return(0,s.default)(e,[{key:"isBlocked",value:function(){return this.blocked}},{key:"addRecaptchaToPage",value:function(){var e;h.log("Insertion of reCaptcha code",this.token);var t=this.application.utils.common.getPageWindow(),n=t.document.head,a=t.document.createElement("script");a.async=!0,a.src="//google.com/recaptcha/api.js?render=explicit&onload=jivo_onRecaptchaLoadCallback",t.jivo_onRecaptchaLoadCallback=(0,l.default)(e=this.onLoadCallback).call(e,this),n.appendChild(a)}},{key:"onLoadCallback",value:function(){h.log("onLoadCallback"),this.grecaptcha=this.application.utils.common.getPageWindow().grecaptcha,this.recaptchaWidgetIndex=this.grecaptcha.render({sitekey:this.token,badge:"bottomleft"}),this.application.managers.connection.open()}},{key:"getToken",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"startup";h.log("getToken",a),this.grecaptcha.ready((function(){h.log("Get recaptcha token"),n.grecaptcha.execute(n.recaptchaWidgetIndex,{action:a}).catch((function(e){n.onTokenFailure(e,t)})).then((function(a){n.onTokenSuccess(a,e,t)}))}))}},{key:"getRecaptchaHandleUrl",value:function(e){var t,n,a=this.application.reduxStore.getState();return this.application.utils.common.getProtocol()+this.application.config.base_url+(0,o.default)(t=(0,o.default)(n="/script/recaptcha-token/".concat(encodeURIComponent(this.application.config.widget_id),"?visitor_id=")).call(n,encodeURIComponent(a.client.visitorId),"&token=")).call(t,encodeURIComponent(e))}},{key:"onTokenSuccess",value:function(e,t,n){var a=this;if(e){h.log("Recaptcha token received",e);var o=this.getRecaptchaHandleUrl(e);f.default.get({url:o},(function(e,o){e?a.application.managers.monitoring.telemetry(c.TelemetryName.RECAPTCHA_ERROR,{param1:"Server error: "+(0,r.default)(e)}):o&&o.ok&&o.token?(d.clientDispatchers.setCaptchaToken(o.token),a.application.managers.monitoring.telemetry(c.TelemetryName.RECAPTCHA_SUCCESS,{param1:o&&o.score}),h.log("Recaptcha request is successful"),t&&t()):o&&!o.ok&&(a.application.managers.monitoring.telemetry(c.TelemetryName.RECAPTCHA_FAILURE,{param1:o&&o.score,param2:o&&o.reason.join(",")}),h.log("Recaptcha request is unsuccessful"),a.block(),(0,i.default)((function(){p.default.enableRecaptchaAntispam()}),1500),n&&n())}))}}},{key:"onTokenFailure",value:function(e,t){h.log("Execution error",e),this.application.managers.monitoring.telemetry(c.TelemetryName.RECAPTCHA_ERROR,{param1:"Client error: "+(0,r.default)(e)}),t&&t(e)}},{key:"block",value:function(){this.blocked=!0}}]),e}();t.default=g},45808:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78914)),r=a(n(20116)),o=a(n(26394)),l=a(n(69198)),u=(a(n(75043)).default.name("RefManager"),new(function(){function e(){(0,o.default)(this,e),this.refs={},this.observers={}}return(0,l.default)(e,[{key:"set",value:function(e,t){e&&t&&(this.refs[e]=t,this._fire(e))}},{key:"get",value:function(e){if(e&&this.refs[e])return this.refs[e].base?this.refs[e].base:this.refs[e]}},{key:"getComponent",value:function(e){return this.refs[e]}},{key:"subscribe",value:function(e,t){this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t)}},{key:"unsubscribe",value:function(e,t){var n;this.observers[e]=(0,r.default)(n=this.observers[e]).call(n,(function(e){if(e!==t)return e}))}},{key:"_fire",value:function(e){var t;this.observers[e]||(this.observers[e]=[]),(0,i.default)(t=this.observers[e]).call(t,(function(e){e()}))}}]),e}()));t.default=u},40372:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.AudioBufferStore=void 0;var i=a(n(86902)),r=a(n(26394)),o=a(n(69198)),l=new(function(){function e(){(0,r.default)(this,e),this.audioBuffers={},this.mp3BuffersLengths={notification:5808,agent_message:3760,outgoing_message:5014},this.oggBufferLengths={notification:6140,agent_message:6464,outgoing_message:7165}}return(0,o.default)(e,[{key:"set",value:function(e,t){this.audioBuffers[e]=t}},{key:"get",value:function(e){return this.audioBuffers[e]||null}},{key:"getReadyAudioBuffersCount",value:function(){return(0,i.default)(this.audioBuffers).length}},{key:"getReferenceBufferLength",value:function(e,t){switch(t){case"mp3":return this.mp3BuffersLengths[e];case"ogg":return this.oggBufferLengths[e]}}}]),e}());t.AudioBufferStore=l},58193:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.HTMLAudioSoundManager=void 0;var o=a(n(78914)),l=a(n(23765)),u=a(n(33032)),s=a(n(54103)),c=a(n(26394)),d=a(n(69198)),f=a(n(5824)),p=a(n(51379)),h=a(n(214)),g=a(n(66380)),m=n(56591),v=n(56602),_=n(33367),y=a(n(58061)),b=a(n(45808)),E=n(21224);function C(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var T=a(n(75043)).default.name("HTMLAudioSoundManager"),w=function(e){(0,p.default)(n,e);var t=C(n);function n(e){var a,i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.default)(this,n),(i=t.call(this,e,r)).touchListenerTimeout=null,i.soundNodes={},i._windowOnClicked,i._mobileHackHandler=(0,s.default)(a=i._mobileHackHandler).call(a,(0,f.default)(i)),i}return(0,d.default)(n,[{key:"initSoundPlayer",value:function(){T.log("Initialization started"),this.disabled||(this.soundNodes={agent_message:b.default.get(E.Component.SOUND_AGENT_MESSAGE),notification:b.default.get(E.Component.SOUND_NOTIFICATION),outgoing_message:b.default.get(E.Component.SOUND_OUTGOING_MESSAGE)},y.default.mobileOrTablet()&&this._addHackListeners([window.parent,window],"click",this._mobileHackHandler))}},{key:"play",value:function(e,t){var n=this;if(this.disabled)T.log('Cannot play sound "'.concat(e,'". SoundManager is disabled.'));else{var a=this.soundNodes[e];if(a&&void 0!==a.play)try{(y.default.ios()||y.default.safari())&&a.load();var i=a.play();this._promisesSupported(i)?t?i.then((function(){n._pause(e)})):i.catch((function(t){var a;n.touchListenerTimeout||(n._windowOnClicked=(0,s.default)(a=n._windowOnClicked).call(a,n,e),y.default.mobileOrTablet()&&n._removeHackListeners([window.parent,window],"click",n._mobileHackHandler),n._addHackListeners([window.parent,window],"click",n._windowOnClicked),n.touchListenerTimeout=(0,u.default)((function(){n._removeHackListeners([window.parent,window],"click",n._windowOnClicked)}),3e3))})).then():t&&this._pause(e)}catch(e){_.Monitoring.reportException(e)}}}},{key:"_pause",value:function(e){if(!this.disabled){var t=this.soundNodes[e];void 0!==t.pause&&t.pause()}}},{key:"_promisesSupported",value:function(e){return("object"===(0,l.default)(e)||"function"==typeof e)&&e.then&&"function"==typeof e.then}},{key:"_windowOnClicked",value:function(e){this.play(e),clearTimeout(this.touchListenerTimeout),this._removeHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=null}},{key:"_mobileHackHandler",value:function(){this._mobileHack(),this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler)}},{key:"_mobileHack",value:function(){this.play(this.sounds[1],!0)}},{key:"_addHackListeners",value:function(e,t,n){(0,o.default)(e).call(e,(function(e){return(0,v.addListener)(e,t,n)}))}},{key:"_removeHackListeners",value:function(e,t,n){(0,o.default)(e).call(e,(function(e){return(0,v.removeEvent)(e,t,n)}))}}]),n}(m.SoundManagerBase);t.HTMLAudioSoundManager=w},37139:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.SoundDownloader=void 0;var i=a(n(77766)),r=a(n(78914)),o=a(n(26394)),l=a(n(69198)),u=a(n(49043)),s=n(56602),c=n(33367),d=n(64841),f=n(40372),p=n(94515),h=a(n(75043)).default.name("SoundDownloader"),g=function(){function e(t){(0,o.default)(this,e),this.audioContext=t,this.soundValidator=new d.SoundValidator,this.exceptionReported=!1}return(0,l.default)(e,[{key:"downloadSounds",value:function(e,t){var n=this;(0,r.default)(e).call(e,(function(e){n.download(e,t)}))}},{key:"download",value:function(e,t){var n=this,a=this._getRequestParams(e,t);u.default.get(a,(function(a,i){if(a)n._handleDownloadError(a,e,t);else{var r=n.soundValidator.validate(e,t,i);if(r.success)n._decodeBuffer(i,e,t);else if(r.error){n._fallback(e,t)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"validation"},5),h.warn(r.error))}}}),{responseType:"arraybuffer"})}},{key:"_getRequestParams",value:function(e,t){var n=(p.EnvironmentManager.isDevelopment()?"/public":"")+"/sounds/".concat(e,".");return{url:(0,s.staticUrl)(n+t,!0)}}},{key:"_decodeBuffer",value:function(e,t,n){var a=this;this.audioContext.decodeAudioData(e,(function(e){f.AudioBufferStore.set(t,e)}),(function(e){a._handleDecodeBufferError(e,t,n)}))}},{key:"_handleDownloadError",value:function(e,t,n){var a,r,o;this._fallback(t,n)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"download"},5),h.warn((0,i.default)(a=(0,i.default)(r=(0,i.default)(o='Error downloading arrayBuffer for sound "'.concat(t,".")).call(o,n,'". Reason: ')).call(r,e.code," ")).call(a,e.text)))}},{key:"_handleDecodeBufferError",value:function(e,t,n){var a,r;this._fallback(t,n)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"decode"},5),h.warn((0,i.default)(a=(0,i.default)(r='Error decoding arrayBuffer for sound "'.concat(t,".")).call(r,n,'". Reason: ')).call(a,e)))}},{key:"_fallback",value:function(e,t){var n=this._getFallbackExtension(t);return!!n&&(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"fallback"},5),this.download(e,n),!0)}},{key:"_getFallbackExtension",value:function(e){switch(e){case"mp3":return"ogg";default:return null}}},{key:"_reportErrorMessageOnce",value:function(e){this.exceptionReported||((0,s.reportException)(e),this.exceptionReported=!0)}}]),e}();t.SoundDownloader=g},56591:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.SoundManagerBase=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(75043)).default.name("SoundManagerBase"),l=function(){function e(t,n){(0,i.default)(this,e),this.disabled=n,this.sounds=t}return(0,r.default)(e,[{key:"initSoundPlayer",value:function(){o.log("initSoundPlayer method is NOT implemented!")}},{key:"enableSoundPlayer",value:function(){this.disabled=!1}},{key:"disableSoundPlayer",value:function(){this.disabled=!0}},{key:"play",value:function(e){o.log("play method is NOT implemented!")}}]),e}();t.SoundManagerBase=l},64841:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.SoundValidator=void 0;var i=a(n(77766)),r=a(n(26394)),o=a(n(69198)),l=n(40372),u=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"validate",value:function(e,t,n){var a,r,o,u,s;return n?n instanceof ArrayBuffer?this._isValidBufferLength(e,t,n)?{success:!0,error:null}:{success:!1,error:new Error((0,i.default)(o=(0,i.default)(u=(0,i.default)(s='ArrayBuffer byteLength for sound "'.concat(e,".")).call(s,t,'" is ')).call(u,n.byteLength,", should be ")).call(o,l.AudioBufferStore.getReferenceBufferLength(e,t),"."))}:{success:!1,error:new Error((0,i.default)(r='ArrayBuffer for sound "'.concat(e,".")).call(r,t,'" is not an instance of ArrayBuffer.'))}:{success:!1,error:new Error((0,i.default)(a='No arrayBuffer for sound "'.concat(e,".")).call(a,t,'"'))}}},{key:"_isValidBufferLength",value:function(e,t,n){return n.byteLength===l.AudioBufferStore.getReferenceBufferLength(e,t)}}]),e}();t.SoundValidator=u},81688:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.WebAudioSoundManager=void 0;var o=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=n(56591),f=n(33367),p=a(n(58061)),h=a(n(75043)),g=n(37139),m=n(40372);function v(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=h.default.name("WebAudioSoundManager"),y=function(e){(0,u.default)(n,e);var t=v(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(this,n),(a=t.call(this,e,i)).audioContext=null,a.soundDownloader=null,a}return(0,l.default)(n,[{key:"initSoundPlayer",value:function(){if(_.log("Initialization started"),!this.disabled&&!this._checkIfIsInitialized()){var e=p.default.firefox()?"ogg":"mp3";this.audioContext=this._createAudioContext(),this.soundDownloader=new g.SoundDownloader(this.audioContext),this.soundDownloader.downloadSounds(this.sounds,e)}}},{key:"play",value:function(e){var t=this;!this.disabled&&this._checkIfIsInitialized()?(this.audioContext||(_.log("AudioContext was created on play"),this.audioContext=this._createAudioContext()),"suspended"===this.audioContext.state?this.audioContext.resume().then((function(){_.log("AudioContext was resumed"),t._startBufferAudio(e)})):this._startBufferAudio(e)):_.log('Cannot play sound "'.concat(e,'". SoundManager is either disabled or is not initialized.'))}},{key:"_createAudioContext",value:function(){_.log("Creating AudioContext");try{var e=window.AudioContext||window.webkitAudioContext;if(e)return new e}catch(e){var t=new Error("Exception during the creation of audio context. ".concat(e.message));return f.Monitoring.reportException(t),this.disableSoundPlayer(),null}}},{key:"_startBufferAudio",value:function(e){var t=m.AudioBufferStore.get(e);if(t){var n=this.audioContext.createBufferSource();if(n)n.buffer=t,n.connect(this.audioContext.destination),n.start();else{var a=new Error('Error creating buffer source for sound "'.concat(e,'".'));f.Monitoring.reportException(a),this.disableSoundPlayer()}}else{var i=new Error('Error there is no audiobuffer for sound "'.concat(e,'".'));f.Monitoring.reportException(i),this.disableSoundPlayer()}}},{key:"_checkIfIsInitialized",value:function(){return this.sounds.length===m.AudioBufferStore.getReadyAudioBuffersCount()&&(this.soundDownloader=null,!0)}}]),n}(d.SoundManagerBase);t.WebAudioSoundManager=y},44992:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.WebAudioDisabled=t.Sounds=void 0;var i=a(n(58061)),r=n(17674),o=n(85442),l=n(81688),u=n(58193),s=(a(n(75043)).default.name("SoundManager index"),i.default.operaMini()||r.Router.getCurrentRoute()===o.Route.HIDDEN),c=["agent_message","notification","outgoing_message"];t.Sounds=c;var d=!function(){if(!i.default.mobileOrTablet()||!window.AudioContext&&!window.webkitAudioContext||i.default.ieOrEdge())return!1;var e=window.AudioContext||window.webkitAudioContext;try{return(new e).close(),!0}catch(e){return!1}}();t.WebAudioDisabled=d;var f=d?new u.HTMLAudioSoundManager(c,s):new l.WebAudioSoundManager(c,s);t.default=f},41829:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(31581)),r=a(n(26394)),o=a(n(69198)),l=a(n(75119)),u=n(56602),s=a(n(75043)).default.name("TitleManager"),c=new(function(){function e(t,n){(0,r.default)(this,e),this.originalTitle=t,this.jivoTitle=n,this.titleShown=!1,this.timer=null}return(0,o.default)(e,[{key:"getTitle",value:function(){return(0,u.getPageWindow)().document.title}},{key:"startBlinking",value:function(){var e=this;clearInterval(this.timer),this.timer=(0,i.default)((function(){var t;e.titleShown?t=e.originalTitle:(e.originalTitle=e.getTitle(),t=e.jivoTitle),e.changeTitle(t),e.titleShown=!e.titleShown}),1e3)}},{key:"stopBlinking",value:function(){clearInterval(this.timer);var e=this.getTitle();e!==this.originalTitle&&e!==this.jivoTitle&&(this.originalTitle=e),this.changeTitle(this.originalTitle),this.titleShown=!1}},{key:"changeTitle",value:function(e){(0,u.getPageWindow)().document.title=e,s.log("Title changed to:",e)}}]),e}())((0,u.getPageWindow)().document.title,(0,l.default)("lblNewMessage"));t.default=c},11017:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=a(n(62904)),l=a(n(26936)),u=(a(n(75043)).default.name("TransitionManager"),function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,null,[{key:"getEmptyTransition",value:function(){return l.default.NoTransition}},{key:"getTransitionByName",value:function(e){return"function"==typeof l.default[e]?l.default[e](function(){var e=window.parent.document.getElementById("jvlabelWrap");if(e){if("bottom"===o.default.widget_orientation)return{marginRight:e.style.marginRight,width:e.offsetWidth,height:e.offsetHeight};if("right"===o.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth};if("left"===o.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth}}return 0}()):l.default[e]}}]),e}());t.default=u},82207:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),r=a(n(54103)),o=a(n(26394)),l=a(n(69198)),u=n(56602),s=n(81189),c=a(n(62107)),d=a(n(45808)),f=n(21224),p=n(10872),h=a(n(58061)),g=n(57018),m=a(n(75043)).default.name("WindowResizeManager"),v=null,_=function(){function e(t){if((0,o.default)(this,e),v)return v;var n;this.handler=c.default.throttle((0,r.default)(n=this.resizeHandler).call(n,this),100),(0,u.addListener)((0,u.getPageWindow)(),"resize",this.handler),v=this,this.onResize=t,this.lastHeight=null,this.container=null}return(0,l.default)(e,[{key:"destroy",value:function(){(0,u.removeEvent)((0,u.getPageWindow)(),"resize",this.handler)}},{key:"resizeHandler",value:function(){var e=d.default.get(f.Component.WIDGET_CONTAINER);if(m.log("resizeHandler"),e&&(!e||e.style)){this.container=e;var t=(0,i.default)((0,p.getProperty)("right",e))||0,n=(0,i.default)((0,p.getProperty)("left",e))||0,a=(0,i.default)((0,p.getProperty)("height",e))||0,r=t+n+g.CHAT_WIDTH+28,o=(0,u.getPageWindow)().document.body.clientWidth,l=(0,u.getPageWindow)().innerHeight-30;if(r>o)s.positionDispatchers.initializePositionStore({height:a>l?l<g.MINIMAL_WIDGET_HEIGHT?"".concat(g.MINIMAL_WIDGET_HEIGHT,"px"):"".concat(l,"px"):"".concat(a,"px"),left:this.getNewValue(n,r,o,40),right:this.getNewValue(t,r,o,30)});else if(a>l){var v=l<g.MINIMAL_WIDGET_HEIGHT?"".concat(g.MINIMAL_WIDGET_HEIGHT,"px"):"".concat(l,"px");s.positionDispatchers.setWidgetPositionHeight(v)}if(this.onResize){var _=getComputedStyle(e);_&&this.lastHeight!==_.height&&(this.onResize({width:g.CHAT_WIDTH+"px",height:_.height}),this.lastHeight=_.height)}h.default.safari()&&!h.default.mobileOrTablet()&&c.default.throttle(this.updateKeyFrames,200)}}},{key:"updateKeyFrames",value:function(){this.container&&(0,p.updateKeyframes)(this.container)}},{key:"getNewValue",value:function(e,t,n,a){if(!e)return null;var i=e-(t-n);return i<a&&(i=a),"".concat(i,"px")}}],[{key:"getInstance",value:function(){return v}}]),e}();t.default=_},76822:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.checkAlone=c,t.replaceEmoji=d,t.formatText=function(e,t){var n=e;return n?(n=(n=(n=o.default.escape(n)).replace(/(?:\r\n|\r|\n)/g,"<br />")).replace(u.default.getRegExp()," $& "),n=(0,s.default)(n),n=l.default.disable_emoji?n:d(n)):e};var i=a(n(59748)),r=a(n(59748)),o=a(n(62107)),l=a(n(62904)),u=a(n(77244)),s=a(n(17889));function c(e){var t=!1,n=0,a=u.default.parse(e,(function(){return n++,""})).match(/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g);return 1!==n||a||(t=!0),t}function d(e){var t=c(e);return u.default.replace(e,(function(e){var n=u.default.toCodePoint(e),a=document.createElement("jdiv");return r.default.render(i.default.createElement(u.default,{icon:n,alone:t,className:"emojiMessages",style:{}}),a),a.childNodes[0].outerHTML}))}},85870:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.checkRoute=C,t.updateHistory=function(e){E.log("updateHistory",e,o.default.started);var t=!!e.jv_client_id;if(e&&o.default.lastMsgId!==e.last_msg_id||t){E.log("updateHistory",e);w(e,(function(e){E.log("new history data",e),o.default.started&&e?(e.messages&&e.messages.length&&(S(e.messages),k(e.messages)),C()):T()}))}else o.default.started||T()},t.getMsgHistory=w,t.deleteMessagesFromHistory=S,t.updateEditedMessages=k;var i=a(n(78914)),r=a(n(20116)),o=a(n(62652)),l=n(66434),u=n(17674),s=n(85442),c=a(n(99357)),d=a(n(49173)),f=n(8565),p=n(33367),h=n(63242),g=a(n(47321)),m=a(n(75043)),v=n(81189),_=a(n(81574)),y=n(66707),b=n(53172),E=m.default.name("MessageHistory");function C(){o.default.route===s.Route.CHAT&&(c.default.getCurrentChatMessages().length||o.default.chat_started||u.Router.next(s.RouterEvent.Navigate))}var T=function(){y.cssLoader.subscribe((function(){_.default.getInstance().start()}),(function(){_.default.getInstance().stop()}))};function w(e,t){E.log("getMsgHistory",e),e.jv_client_id||e&&e.last_msg_id>o.default.lastMsgId?(E.log("start get new history"),d.default.getHistoryMessages("messages",{},(function(n,a){var u;if(n)!function(e,t){E.log("handleError",e),t(),p.Monitoring.telemetry(h.TelemetryName.API_GET_MESSAGES_ERROR,{param1:e.code}),E.log("error: ",e)}(n,t);else if(E.log("receive new history",a),a&&a.result){var s=a.result;u=s.chat_opened,E.log("handleChatOpened",u),o.default.chat_started=u||!1,u||(c.default.closeChat(),o.default.chat_accepted=!1,g.default.setDepartmentId(null)),function(e){if(E.log("handleMessages",e),e&&e.length){var t=function(){E.log("getLastMessage");var e=(0,r.default)(c.default).call(c.default,(function(e){var t=e.get("from");return(t===f.MessageInitiator.CLIENT||t===f.MessageInitiator.AGENT)&&e.get("msg_id")}));return e[e.length-1]}(),n=function(e){E.log("getLastMessageId",e);var t=e?e.get("msg_id"):null;e||(e=c.default.getLastProactive())&&(t=e.get("msg_id"));return t}(t),a=(0,r.default)(e).call(e,(function(e){var a=(0,l.filterMessage)(e);return e.type===f.MessageType.PROACTIVE&&t&&t.get("type")===f.MessageType.PROACTIVE&&t.destroy(),a&&n!==e.msg_id}));(0,i.default)(a).call(a,(function(e){if(e.deleted)e.status=f.MessageStatus.DELETED;else{E.log("add item from history",e);var t=1e3*e.created_ts,n=1e3*e.updated_ts;e.created_ts=new Date(t),e.updated_ts&&(e.updated_ts=new Date(n)),e.status=f.MessageStatus.DELIVERED,(0,b.getFeatures)().enableMediaSevice&&e.media&&(e.media.status=f.MediaStatus.COMPLETE)}})),v.messagesDispatchers.addMessages(a),p.Monitoring.telemetry(h.TelemetryName.API_GET_MESSAGES_RECEIVED)}}(s.messages),S(s.messages),e&&(o.default.lastMsgId=e.last_msg_id),t(s)}else E.error("Empty history data")}))):t()}function S(e){var t=(0,r.default)(e).call(e,(function(e){return e.deleted}));t.length&&(0,i.default)(t).call(t,(function(e){var t=c.default.getMessageById(e.msg_id);t&&(t.set("status",f.MessageStatus.DELETED),t.set("type",f.MessageType.MESSAGE),t.set("body",null))}))}function k(e){var t=(0,r.default)(e).call(e,(function(e){return!e.deleted}));t.length&&(0,i.default)(t).call(t,(function(e){var t=c.default.getMessageById(e.msg_id);t&&e.updated_ts&&(t.set("updated_ts",1e3*e.updated_ts),t.set("text",e.text))}))}},77347:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.cleanTempProactive=function(){var e;_.log("cleanTempProactive");var t=s.default.getTmpProactive(),n=s.default.getLastMessage(),a=n?n.get("from"):null,i=p.MessageInitiator.AGENT,r=p.MessageInitiator.CLIENT,l=p.MessageInitiator.FORM;n&&t&&t.get("body")&&t.get("body").unsave&&-1!==(0,o.default)(e=[i,r,l]).call(e,a)&&t!==n&&(t.destroy(),c.default.destroy(),d.default.reload(),d.default.agent_id=0);(0,f.prechatEnabled)()&&s.default.getClientMessages()&&s.default.getClientMessages().length&&h.messageActions.deletePrechatMsg()},t.getMessagesGroup=b,t.getScrollToFormState=function(e){var t=s.default.getFormMessage(),n=s.default.getFormIntroduceText();if(t.length){if(n.length){var a=e?(0,u.default)("lblIntroduceRequest"):(0,u.default)("offlineIntroductionText");n[0].set("created_ts",(new Date).getTime()),n[0].set("text",a)}return t[0].set("created_ts",(new Date).getTime()),(0,i.default)(s.default).call(s.default),g.Monitoring.telemetry(m.TelemetryName.CHAT_INTRODUCE,{param1:"btnform"}),{hideScrollButton:!0,messagesGroups:b()}}};var i=a(n(47302)),r=a(n(51942)),o=a(n(81643)),l=a(n(62107)),u=a(n(75119)),s=a(n(99357)),c=a(n(67966)),d=a(n(69961)),f=n(92097),p=n(8565),h=n(75245),g=n(33367),m=n(63242),v=n(81189),_=a(n(75043)).default.name("MessagesMainUtils"),y=!1;function b(){var e,t,n,a,i,u=[],f=0,h=s.default.getLastProactive(),g=s.default.getLastMessage();if(c.default.get("text")&&!y){var m={from:p.MessageInitiator.AGENT,from_id:d.default&&d.default.agent_id,status:p.MessageStatus.READ,private_id:c.default.get("private_id"),text:c.default.get("text"),created_ts:c.default.get("created_ts"),type:p.MessageType.PROACTIVE,body:{unsave:!0}};d.default.bot_id&&(m.from_id=d.default.bot_id,m.from=p.MessageType.BOT),v.messagesDispatchers.addMessage(m),y=!0}else if(h&&h.get("body")&&h.get("body").unsave&&(g.get("from")===p.MessageInitiator.CLIENT||g.get("from")===p.MessageInitiator.AGENT)&&h!==g){var _=(0,r.default)({},h.toJSON());_.body=d.default,v.messagesDispatchers.addMessage(_),h.destroy(),c.default.destroy()}if(l.default.each(s.default.getAll(),(function(i){var r,l=i.toJSON(),s=new Date(l.created_ts),c=!1;!t||t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()||(c=!0),l.type!==p.MessageType.MESSAGE||-1!==(0,o.default)(r=[p.MessageType.COBROWSE,p.MessageType.MEDIA,p.MessageType.INVOICE,p.MessageType.SYSTEM,p.MessageType.WEB_RTC_CALL]).call(r,n)||l.from!==e||l.from_id!==a||c?(c&&(u.push([{type:p.MessageType.SEPARATOR,time:s.getTime(),from:p.MessageInitiator.SYSTEM}]),f++),u.push([i])):u[u.length-1].push(i),e=l.from,n=l.type,a=l.from_id,t=s})),s.default.store.length>0&&u.length>0){var b=u[0][0].get("created_ts"),E=(i=b,Math.round(Math.abs((i-(new Date).getTime())/864e5)));(f>0||E>=1)&&u.unshift([{type:p.MessageType.SEPARATOR,time:b,from:p.MessageInitiator.SYSTEM}])}return u}},33367:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Monitoring=void 0;var i=a(n(59340)),r=a(n(26394)),o=a(n(69198)),l=n(27303),u=n(94515),s=n(56602),c=n(63242),d=(a(n(75043)).default.name("Monitoring"),new(function(){function e(){(0,r.default)(this,e),this.reportedTelemetry={},this.provider=new l.MonitoringProvider}return(0,o.default)(e,[{key:"init",value:function(){var e=arguments,t=this;window.onerror=function(n,a,r,o,l){!l&&(l={}),(window||e||"function"==typeof t.reportException)&&t.reportException({message:n,lineNumber:r,fileName:(0,s.getBundleSrc)()+"&v="+u.EnvironmentManager.getVersion(),columnNumber:o,stack:(0,i.default)(l.stack||l.stacktrace||l)})}}},{key:"reportException",value:function(e){this.provider.reportException(e)}},{key:"telemetry",value:function(e,t){this.provider.telemetry(e,t),!0!==this.reportedTelemetry[e]&&(this.reportedTelemetry[e]=!0)}},{key:"telemetryOnce",value:function(e,t){!0!==this.reportedTelemetry[e]&&this.telemetry(e,t)}},{key:"telemetryWithProbability",value:function(e,t,n){var a=this;this._invokeWithProbability((function(){a.telemetry(e,t)}),n)}},{key:"_invokeWithProbability",value:function(e,t){Math.random()<=.01*t&&e()}},{key:"isTelemetryReported",value:function(e){return!0===this.reportedTelemetry[e]}},{key:"getTelemetryNames",value:function(){return c.TelemetryName}}]),e}()));t.Monitoring=d},27303:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.MonitoringProvider=void 0;var i=a(n(81643)),r=a(n(78914)),o=a(n(77766)),l=a(n(23765)),u=a(n(26394)),s=a(n(69198)),c=a(n(62904)),d=a(n(36216)),f=a(n(58061)),p=a(n(49043)),h=n(56602),g=a(n(9805)),m=n(94515),v=a(n(81574)),_=a(n(75043)),y=_.default.name("MonitoringProvider"),b=function(){function e(){(0,u.default)(this,e),this.lastTelemetry=[],this.errorSentCnt=0}return(0,s.default)(e,[{key:"isNotSearchSpider",value:function(){var e=navigator.userAgent.toLowerCase();return-1==e.search(/google/gi)&&-1==e.search(/\+http:\/\/yandex\.com\/bots/gi)&&-1==e.search(/\+http:\/\/www\.cloudflare\.com\/always-online/gi)&&-1==e.search(/linespider\//gi)}},{key:"reportException",value:function(e){if(g.default.getInstance()&&g.default.getInstance().saveException(e),m.EnvironmentManager.isProduction()&&!c.default.disable_error_reporting&&this.isNotSearchSpider()){if(++this.errorSentCnt>3)return;try{this.reportError(e)}catch(e){y.error(e.message)}}else y.warn("REPORT",e)}},{key:"reportError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n={url:(0,h.getProtocol)()+"//err.jivosite.com/widget",params:{widget:"true",widget_id:c.default.widget_id,widget_version:m.EnvironmentManager.getVersion(),level:t,url:this.getUrl(),client_id:d.default.client_id?d.default.client_id.split(".")[0]:null,lineNumber:e.lineNumber,fileName:e.fileName,column:e.columnNumber,full_message:this.getStack(e.message,e.stack),short_message:e.message,device:f.default.getDevice(),shard:this.getShard()},headers:{"Content-Type":"application/json"}},a=p.default.post(n,(function(e,t){y.log("Error reported:",e,t)}),{monitoring:!0});y.log(n,a)}},{key:"getUrl",value:function(){var e=(0,h.getPageWindow)().location;return e.protocol+"//"+e.host+e.pathname}},{key:"telemetry",value:function(e,t){if(this.saveTelemetry(e),!c.default.disable_telemetry&&this.isNotSearchSpider()){"object"==(0,l.default)(t)&&t||(t={}),t.event=e,t.widget_id=c.default.widget_id,t.chat_mode=c.default.chat_mode,t.site_id=c.default.site_id,t.device=f.default.getDevice(),t.visitor_id=d.default.visitorId,t.widget_version=m.EnvironmentManager.getVersion(),t.shard=this.getShard();var n=v.default.getInstance().managers.abTest;if(n&&n.getActiveTest()&&(t.abtest_name=n.getActiveTestName(),t.abtest_group=n.getActiveTestGroup()),d.default.client_id&&(t.client_id=d.default.client_id.split(".")[0]),m.EnvironmentManager.isProduction())try{p.default.get({url:(0,h.getProtocol)()+"//telemetry.jivosite.com/w",params:t},(function(){}),{monitoring:!0})}catch(e){y.log(e)}else y.log("TELEMETRY",t)}}},{key:"saveTelemetry",value:function(e){5===this.lastTelemetry.length&&this.lastTelemetry.shift(),this.lastTelemetry.push(e.substr(0,60))}},{key:"getStack",value:function(e,t){if("Script error."==e)return t;var n,a,i=_.default.lastLog.join("\r\n");return"{}"!=t&&""!=t&&t?"Uncaught TypeError: undefined is not a function"==e||"t.set is not a function"==e||"Uncaught TypeError: Cannot read property 'set' of undefined"==e?(0,o.default)(a="".concat(t," \r\n ")).call(a,i):t.replace(/(?:\\[n])+/,"\r\n"):(0,o.default)(n="Custom stack: \r\n".concat(i,"\r\n\r\n")).call(n,this.lastTelemetry.join("\r\n"))}},{key:"getShard",value:function(){var e=c.default.base_url,t=["jvs","ru1","sa1","ya","reg","eu1"],n="main";return(0,r.default)(t).call(t,(function(t){e&&-1!==(0,i.default)(e).call(e,t)&&(n=t)})),n}}]),e}();t.MonitoringProvider=b},23586:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;a(n(75043)).default.name("Polyfill");var i={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(window.document||window.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}};t.default=i},92097:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.updatePrechatTime=t.getPrechatUseTime=t.prechatEnabled=t.prechatSetUsed=t.prechatUsed=void 0;var i=a(n(94198)),r=a(n(62904)),o=a(n(62652)),l=n(11470),u=a(n(99357)),s=n(8565),c=a(n(75043)).default.name("Prechat"),d=!1;t.prechatUsed=function(){return d};t.prechatSetUsed=function(e){c.log("prechatSetUsed",e),e&&(0,l.setRuleLocal)("prechatUseTime",(new Date).getTime()),d=e};var f=function(){return r.default.options&&r.default.enable_prechat&&!r.default.maintenance&&!r.default.botmode&&o.default.is_online};t.prechatEnabled=f;t.getPrechatUseTime=function(){var e=(0,l.getRuleLocal)("prechatUseTime");if(!e)return null;var t=((new Date).getTime()-e)/1e3;return(0,l.setRuleLocal)("prechatUseTime",null),(0,i.default)(t)};t.updatePrechatTime=function(e){if(f()){var t=u.default.getMessagesByType(s.MessageType.PRECHAT);t.length&&t[0].set("created_ts",e+1)}}},18750:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81643)),r=a(n(2991)),o=a(n(23765)),l=a(n(26394)),u=a(n(69198)),s=n(33367),c=a(n(49173)),d=n(53172),f=a(n(62107)),p=n(63242),h=a(n(75043)).default.name("Proactive"),g=new(function(){function e(){(0,l.default)(this,e),this.agents=null,this.departments=null,this.proactiveDepartmentId=null}return(0,u.default)(e,[{key:"getActiveAgent",value:function(e,t){var n=this;h.log("getActiveAgent"),t&&(this.proactiveDepartmentId=t),c.default.getStatus((function(t,a){n.parseStatus(t,a,e)}))}},{key:"parseStatus",value:function(e,t,n){if(e)s.Monitoring.telemetry(p.TelemetryName.WIDGET_STATUS,{param1:e.code}),this.agents=null,this.departments=null,n(!1);else{var a=(0,d.getClient)(),i=a.priorityAgentId;a.assignedAgentId&&(i=a.assigned_agent_id),n(this.getAgent(t,i,this.proactiveDepartmentId))}}},{key:"getAgent",value:function(e,t,n){var a=e.departments;if(h.log("parseStatus",e,t,n),e.bots)return e.bots[0];if(this.agents=e.bots||e.agents,this.departments=a,this.agents.length){if(n&&"object"===(0,o.default)(a)&&n in a){var i=this.departments[n],r=this.getOnlineAgentInDep(t,i.agents);if(r)return r;var l=this.getRandomOnlineAgentFromDep(i.agents);return l||(h.log("no online agents from proactive department."),!1)}var u=this.getAgentById(t);if(u)return u;var s=this.getRandomAgent(this.agents.length-1);return s||!1}return!1}},{key:"getRandomAgent",value:function(e){return this.agents[this.randomInt(0,e)]}},{key:"randomInt",value:function(e,t){var n=e+Math.random()*(t+1-e);return Math.floor(n)}},{key:"getAgentById",value:function(e){return f.default.findWhere(this.agents,{agent_id:e})}},{key:"getRandomAgentIdByArray",value:function(e){return e[1===e.length?0:this.randomInt(0,e.length-1)]}},{key:"getOnlineIds",value:function(){var e;return(0,r.default)(e=this.agents).call(e,(function(e){return e.agent_id}))}},{key:"getOnlineInDep",value:function(e){var t=this.getOnlineIds();return f.default.intersection(t,e)}},{key:"getOnlineAgentInDep",value:function(e,t){var n=this.getOnlineInDep(t);if(n.length&&-1!==(0,i.default)(n).call(n,e))return this.getAgentById(e)}},{key:"getRandomOnlineAgentFromDep",value:function(e){if(this.getOnlineInDep(e).length){var t=this.getRandomAgentIdByArray(e);return this.getAgentById(t)}return!1}}]),e}());t.default=g},70645:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.withLocator=void 0;var a=n(94515);t.withLocator=function(e){return e&&!a.EnvironmentManager.isProduction()?{"data-qa-id":e}:{}}},17674:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Router=void 0;var i,r,o,l,u,s,c,d,f,p,h,g,m,v,_,y,b,E=a(n(87672)),C=a(n(33032)),T=a(n(81643)),w=a(n(68415)),S=a(n(62652)),k=a(n(62904)),I=a(n(36216)),A=a(n(99357)),M=a(n(58061)),x=n(85442),R=n(36143),O=n(33367),N=n(63242),D=n(81189),L=a(n(82207)),P=a(n(45808)),B=n(10872),j=n(21224),F=a(n(75959)),H=n(56602),U=n(53172),W=n(20965),z=a(n(75043)).default.name("Router"),G=new w.default({namespace:"ROUTER",initialState:S.default.route,eulaContext:{},debugClicks:0,clickTimer:null,getCurrentRoute:function(){return this.state},isContainerRoute:function(){var e;return-1===(0,T.default)(e=[x.Route.LABEL,x.Route.LABEL_INVITATION,x.Route.HIDDEN]).call(e,this.state)},isChatRoute:function(){var e;return-1!==(0,T.default)(e=[x.Route.CHAT,x.Route.CHAT_INTRODUCE,x.Route.CHAT_EVAL,x.Route.INTRODUCE,x.Route.DEPARTMENTS]).call(e,this.state)},isChatPrevRoute:function(e){var t;return-1!==(0,T.default)(t=[x.Route.CHAT,x.Route.CHAT_CALL,x.Route.CHAT_EVAL,x.Route.INTRODUCE,x.Route.DEPARTMENTS]).call(t,e)},isChatInputRoute:function(e){var t;return-1!==(0,T.default)(t=[x.Route.CHAT,x.Route.CHAT_CALL,x.Route.CHAT_EVAL]).call(t,e)},isIgnoreDragHeightRoute:function(){var e;return-1!==(0,T.default)(e=[x.Route.CALL,x.Route.INTRODUCE,x.Route.CALL_EULA]).call(e,this.state)},isMinRoute:function(){return this.state===x.Route.CHAT_MIN},isChatClosedRoute:function(){var e;return-1!==(0,T.default)(e=[x.Route.LABEL,x.Route.CHAT_MIN]).call(e,this.state)},isFormRoute:function(){var e;return-1!==(0,T.default)(e=[x.Route.INTRODUCE]).call(e,this.state)},isHideAvatarRoute:function(){var e;return-1!==(0,T.default)(e=[x.Route.INTRODUCE,x.Route.DEPARTMENTS]).call(e,this.state)},getPrevRoute:function(){return this.priorState},needToShowIntroduceForm:function(){return S.default.is_online&&!I.default.is_introduced&&1===k.default.contacts_ask},setNext:function(e){z.warn("setNext route:",e),this.transition(e)},getPrevEvent:function(){return this._priorAction},next:function(e,t){z.warn("next",e,"from",this.state),e&&this.handle(e,t)},_navToChat:function(){(0,U.getCallback)().status==W.CallStatus.WAIT?this.transition(x.Route.CHAT_CALL):(0,U.getApp)().isOnline?R.RouterUtils.needToShowIntroduceForm()?this.transition(x.Route.INTRODUCE):R.RouterUtils.showDepartmentsIfPossible()?this.transition(x.Route.DEPARTMENTS):R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT):R.RouterUtils.showDepartmentsIfPossible()?this.transition(x.Route.DEPARTMENTS):this.transition(x.Route.CHAT)},_navToChatFromChatMin:function(){S.default.show_container=!0,this.priorState===x.Route.CHAT_EULA&&!S.default.eula_accepted?this.transition(x.Route.CHAT_EULA):R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)},_debugClicked:function(){var e=this;clearTimeout(this.clickTimer),this.debugClicks++,this.debugClicks>7&&(this.debugClicks=0,this.transition(x.Route.DEBUG),O.Monitoring.telemetryOnce(N.TelemetryName.DEBUG_PANEL_OPENED)),this.clickTimer=(0,C.default)((function(){e.debugClicks=0}),1e3)},states:(b={},(0,E.default)(b,x.Route.HIDDEN,{_onEnter:function(){this.trigger("route_change",x.Route.HIDDEN);var e=L.default.getInstance();e&&e.destroy()}}),(0,E.default)(b,x.Route.LABEL,(i={_onEnter:function(){this.trigger("route_change",x.Route.LABEL)}},(0,E.default)(i,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(i,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,E.default)(i,x.RouterEvent.ToChat,(function(){this.transition(x.Route.CHAT)})),(0,E.default)(i,x.RouterEvent.ApiOpen,(function(){this._navToChat()})),(0,E.default)(i,x.RouterEvent.Navigate,(function(){this._navToChat()})),(0,E.default)(i,x.RouterEvent.ToLabelInvitation,(function(){this.transition(x.Route.LABEL_INVITATION)})),(0,E.default)(i,x.RouterEvent.ToMobileMenu,(function(){this.transition(x.Route.MOBILE_MENU)})),(0,E.default)(i,x.RouterEvent.ToCallPopup,(function(){this.transition(x.Route.CALL_POPUP)})),i)),(0,E.default)(b,x.Route.LABEL_INVITATION,(r={_onEnter:function(){this.trigger("route_change",x.Route.LABEL_INVITATION)}},(0,E.default)(r,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(r,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,E.default)(r,x.RouterEvent.ApiOpen,(function(){this._navToChat()})),(0,E.default)(r,x.RouterEvent.Navigate,(function(){this._navToChat()})),(0,E.default)(r,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),r)),(0,E.default)(b,x.Route.DEPARTMENTS,(o={_onEnter:function(){this.trigger("route_change",x.Route.DEPARTMENTS)}},(0,E.default)(o,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),(0,E.default)(o,x.RouterEvent.ToCall,(function(){M.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL),O.Monitoring.telemetry(N.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),(0,E.default)(o,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(o,x.RouterEvent.Navigate,(function(){R.RouterUtils.needToShowIntroduceForm()&&0===A.default.store.length?this.transition(x.Route.INTRODUCE):this.transition(x.Route.CHAT)})),(0,E.default)(o,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),o)),(0,E.default)(b,x.Route.INTRODUCE,(l={_onEnter:function(){this.trigger("route_change",x.Route.INTRODUCE)}},(0,E.default)(l,x.RouterEvent.Submit,(function(){R.RouterUtils.needToShowEula()?this.transition(x.Route.CHAT_EULA):(this.transition(x.Route.CHAT),this.trigger("submit_eula_success",x.Route.INTRODUCE))})),(0,E.default)(l,x.RouterEvent.ToCall,(function(){(0,H.isChatPage)()?this.transition(x.Route.CHAT_CALL):this.transition(x.Route.CALL)})),(0,E.default)(l,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),(0,E.default)(l,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(l,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),l)),(0,E.default)(b,x.Route.MOBILE_MENU,(u={_onEnter:function(){this.trigger("route_change",x.Route.MOBILE_MENU)}},(0,E.default)(u,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,E.default)(u,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),(0,E.default)(u,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(u,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,E.default)(u,x.RouterEvent.Navigate,(function(){R.RouterUtils.needToShowIntroduceForm()?this.transition(x.Route.INTRODUCE):R.RouterUtils.showDepartmentsIfPossible()?this.transition(x.Route.DEPARTMENTS):this.transition(x.Route.CHAT)})),u)),(0,E.default)(b,x.Route.CHAT,(s={_onEnter:function(){this.trigger("route_change",x.Route.CHAT)}},(0,E.default)(s,x.RouterEvent.Submit,(function(e){e&&e.from&&e.from!==this.state||(R.RouterUtils.needToShowEula()?(e&&(this.eulaContext={link:e.link,context:e.context}),this.transition(x.Route.CHAT_EULA)):this.trigger("submit_success"))})),(0,E.default)(s,x.RouterEvent.ToCall,(function(){M.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL),O.Monitoring.telemetry(N.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),(0,E.default)(s,x.RouterEvent.ToIntroduce,(function(){I.default.is_introduced||1!==k.default.contacts_ask?this._navToChat():this.transition(x.Route.INTRODUCE)})),(0,E.default)(s,x.RouterEvent.ToSocial,(function(){this.transition(x.Route.CHAT_SOCIAL)})),(0,E.default)(s,x.RouterEvent.ToEval,(function(){this.transition(x.Route.CHAT_EVAL)})),(0,E.default)(s,x.RouterEvent.CloseWindow,(function(){this.transition(R.RouterUtils.getRouteChatMin())})),(0,E.default)(s,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(s,x.RouterEvent.ToEula,(function(e){e&&R.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,E.default)(s,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),(0,E.default)(s,x.RouterEvent.ToCallSetup,(function(){this.transition(x.Route.CHAT_SETUP_CALL)})),s)),(0,E.default)(b,x.Route.CHAT_MIN,(c={_onEnter:function(){S.default.show_container=!0,this.trigger("route_change",x.Route.CHAT_MIN)}},(0,E.default)(c,x.RouterEvent.ToChat,(function(){R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,E.default)(c,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CHAT_CALL)})),(0,E.default)(c,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(c,x.RouterEvent.ApiOpen,(function(){this._navToChatFromChatMin()})),(0,E.default)(c,x.RouterEvent.Navigate,(function(){this._navToChat()})),c)),(0,E.default)(b,x.Route.CHAT_EULA,(d={_onEnter:function(){var e=this.eulaContext&&this.eulaContext.link?this.eulaContext.link:null,t=this.eulaContext&&this.eulaContext.context?this.eulaContext.context:"introduce";"cb"!==t&&G.getPrevRoute()!==x.Route.CHAT_CALL&&F.default.showEula(!0,e,t),this.eulaContext={},this.trigger("route_change",x.Route.CHAT_EULA)}},(0,E.default)(d,x.RouterEvent.Submit,(function(){var e,t=this.priorState;t?(this.trigger("submit_eula_success",G.getPrevRoute()),R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):-1===(0,T.default)(e=[x.Route.INTRODUCE,x.Route.CHAT_MIN]).call(e,t)?this.transition(t):this.transition(x.Route.CHAT)):this.transition(x.Route.CHAT)})),(0,E.default)(d,x.RouterEvent.ToCall,(function(){M.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL)})),(0,E.default)(d,x.RouterEvent.Cancel,(function(){this.priorState&&this.priorState!==x.Route.CHAT_MIN?this.transition(this.priorState):R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,E.default)(d,x.RouterEvent.CloseWindow,(function(){!M.default.mobileOrTablet()&&S.default.chat_started&&(0,U.getApp)().isOnline?this.transition(x.Route.CHAT_MIN):this.transition(x.Route.LABEL)})),(0,E.default)(d,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(d,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),d)),(0,E.default)(b,x.Route.CHAT_SOCIAL,(f={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_SOCIAL)}},(0,E.default)(f,x.RouterEvent.Submit,(function(){this.transition(x.Route.LABEL)})),(0,E.default)(f,x.RouterEvent.ToChat,(function(){R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,E.default)(f,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,E.default)(f,x.RouterEvent.Cancel,(function(){R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,E.default)(f,x.RouterEvent.CloseWindow,(function(){this.transition(R.RouterUtils.getRouteChatMin())})),(0,E.default)(f,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(f,x.RouterEvent.ToEula,(function(e){e&&R.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,E.default)(f,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),f)),(0,E.default)(b,x.Route.CHAT_EVAL,(p={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_EVAL)}},(0,E.default)(p,x.RouterEvent.Submit,(function(){this.transition(x.Route.CHAT)})),(0,E.default)(p,x.RouterEvent.ToCall,(function(){M.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL)})),(0,E.default)(p,x.RouterEvent.ToSocial,(function(){this.transition(x.Route.CHAT_SOCIAL)})),(0,E.default)(p,x.RouterEvent.Cancel,(function(){this.transition(x.Route.CHAT)})),(0,E.default)(p,x.RouterEvent.CloseWindow,(function(){this.transition(R.RouterUtils.getRouteChatMin())})),(0,E.default)(p,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(p,x.RouterEvent.ToEula,(function(e){e&&R.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,E.default)(p,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),(0,E.default)(p,x.RouterEvent.ToChat,(function(){this.transition(x.Route.CHAT)})),p)),(0,E.default)(b,x.Route.CHAT_CALL,(h={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_CALL)}},(0,E.default)(h,x.RouterEvent.Submit,(function(){R.RouterUtils.needToShowEula()?this.transition(x.Route.CHAT_EULA):this.trigger("submit_success")})),(0,E.default)(h,x.RouterEvent.ToCall,(function(){if(R.RouterUtils.needToShowEvaluation())this.transition(x.Route.CHAT_EVAL);else{var e,t=G.getPrevRoute();if(t)this.transition(-1===(0,T.default)(e=[x.Route.CHAT_MIN,x.Route.CHAT_EULA]).call(e,t)?t:x.Route.CHAT)}})),(0,E.default)(h,x.RouterEvent.ToSocial,(function(){this.transition(x.Route.CHAT_SOCIAL)})),(0,E.default)(h,x.RouterEvent.Cancel,(function(){R.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,E.default)(h,x.RouterEvent.CloseWindow,(function(){this.transition(R.RouterUtils.getRouteChatMin())})),(0,E.default)(h,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(h,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,E.default)(h,x.RouterEvent.ToEula,(function(e){e&&R.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,E.default)(h,x.RouterEvent.ToIntroduce,(function(){1===k.default.contacts_ask&&this.transition(x.Route.INTRODUCE)})),(0,E.default)(h,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),h)),(0,E.default)(b,x.Route.CHAT_SETUP_CALL,(g={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_SETUP_CALL)}},(0,E.default)(g,x.RouterEvent.Cancel,(function(){this.transition(x.Route.CHAT)})),(0,E.default)(g,x.RouterEvent.Submit,(function(){this.transition(x.Route.CHAT)})),(0,E.default)(g,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(g,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),(0,E.default)(g,x.RouterEvent.CloseWindow,(function(){R.RouterUtils.isChatMinAvailable()?this.transition(x.Route.CHAT_MIN):this.transition(x.Route.LABEL)})),g)),(0,E.default)(b,x.Route.CALL,(m={_onEnter:function(){this.trigger("route_change",x.Route.CALL)}},(0,E.default)(m,x.RouterEvent.Submit,(function(){R.RouterUtils.needToShowEula()?this.transition(x.Route.CALL_EULA):this.trigger("submit_success")})),(0,E.default)(m,x.RouterEvent.ToEula,(function(){this.transition(x.Route.CALL_EULA)})),(0,E.default)(m,x.RouterEvent.CloseWindow,(function(){S.default.show_container=!1,R.RouterUtils.isChatMinAvailable()?this.transition(x.Route.CHAT_MIN):this.transition(x.Route.LABEL)})),(0,E.default)(m,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(m,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,E.default)(m,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),m)),(0,E.default)(b,x.Route.CALL_EULA,(v={_onEnter:function(){this.trigger("route_change",x.Route.CALL_EULA)}},(0,E.default)(v,x.RouterEvent.Submit,(function(){if(G.getPrevRoute()===x.Route.CALL)return this.transition(x.Route.CALL),void this.trigger("submit_eula_success",G.getPrevRoute());this.trigger("submit_success")})),(0,E.default)(v,x.RouterEvent.Cancel,(function(){S.default.show_eula=!1,this.transition(x.Route.CALL)})),(0,E.default)(v,x.RouterEvent.ToChat,(function(){this.transition(x.Route.CHAT)})),(0,E.default)(v,x.RouterEvent.CloseWindow,(function(){S.default.show_eula=!1,this.transition(x.Route.LABEL)})),(0,E.default)(v,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,E.default)(v,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),v)),(0,E.default)(b,x.Route.CALL_POPUP,(_={_onEnter:function(){this.trigger("route_change",x.Route.CALL_POPUP)}},(0,E.default)(_,x.RouterEvent.Submit,(function(){this.transition(x.Route.CALL)})),(0,E.default)(_,x.RouterEvent.CloseWindow,(function(){R.RouterUtils.isChatMinAvailable()?this.transition(x.Route.CHAT_MIN):this.transition(x.Route.LABEL)})),_)),(0,E.default)(b,x.Route.DEBUG,(y={_onEnter:function(){this.trigger("route_change",x.Route.DEBUG)}},(0,E.default)(y,x.RouterEvent.CloseWindow,(function(){this.transition(R.RouterUtils.getRouteChatMin())})),(0,E.default)(y,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,E.default)(y,x.RouterEvent.ToCall,(function(){M.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL),O.Monitoring.telemetry(N.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),y)),b)});t.Router=G,G.on("route_change",(function(e){if(D.appDispatchers.setAppRoute(e),M.default.safari()&&!M.default.mobileOrTablet()){var t=G.getPrevRoute();(e===x.Route.DEBUG&&t===x.Route.INTRODUCE||e===x.Route.INTRODUCE&&t===x.Route.DEBUG||e==x.Route.INTRODUCE&&t===x.Route.CHAT)&&(0,C.default)((function(){var e=P.default.get(j.Component.WIDGET_CONTAINER);(0,B.updateKeyframes)(e)}),50)}}))},36143:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.RouterUtils=void 0;var i=a(n(81643)),r=a(n(26394)),o=a(n(69198)),l=a(n(62904)),u=a(n(62652)),s=a(n(36216)),c=a(n(69961)),d=a(n(99357)),f=a(n(58061)),p=n(8565),h=n(85442),g=a(n(67966)),m=a(n(75043)).default.name("RouterUtils"),v=new(function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"showDepartmentsIfPossible",value:function(){var e,t=l.default.departments&&l.default.departments.length,n=t&&-1!=(0,i.default)(e=[-1,0,2,3]).call(e,l.default.contacts_ask);return t&&1===l.default.contacts_ask&&s.default.is_introduced&&!s.default.department_id&&(n=!0),n&&!c.default.agent_id&&!u.default.chat_started&&!s.default.department_id&&u.default.is_online}},{key:"needToShowEula",value:function(){return l.default.eula&&!u.default.eula_accepted}},{key:"needToShowIntroduceForm",value:function(){return!s.default.is_introduced&&u.default.is_focused&&1===l.default.contacts_ask&&!g.default.get("text")}},{key:"checkMessage",value:function(){var e=d.default.getChatId(),t=d.default.getLastMessage(),n=d.default.getAgentChatMessages(e).length>0,a=d.default.getCurrentClientMessages().length>0,i=d.default.getChatMessages(e).length>=5&&n,r=d.default.getBotMessages(e);if(r.length){var o=r[r.length-1].get("msg_id");i=d.default.getChatMessagesAfterId(e,o).length>=5&&n}return!(u.default.chat_started&&t&&!t.get("chat_id")&&t.get("from")===p.MessageInitiator.CLIENT&&i)&&!!(u.default.chat_started&&a&&e&&i&&t&&t.get("chat_id"))}},{key:"needToShowEvaluation",value:function(){var e=this.checkMessage();return m.log("needToShowEvaluation",e),!(!l.default.show_rate_form||!e||s.default.evaluate||!u.default.chat_started)}},{key:"getRouteChatMin",value:function(){return this.isChatMinAvailable()?(u.default.show_container=!0,h.Route.CHAT_MIN):"cw_connected"===s.default.cw_call.status?(u.default.show_container=!0,h.Route.CALL):(u.default.show_container=!1,h.Route.LABEL)}},{key:"callbackEnabled",value:function(){var e=l.default.callback_settings;return!!(e.time&&e.countries&&e.countries.length)}},{key:"isChatMinAvailable",value:function(){var e=c.default.agent_id||c.default.bot_id,t=c.default.body&&"left"==c.default.body.state;return u.default.chat_started&&u.default.is_online&&e&&!t&&!f.default.mobileOrTablet()&&"cw_connected"!==s.default.cw_call.status}}]),e}());t.RouterUtils=v},11470:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getRuleLocal=function(e){if(e in h)return h[e]},t.setRuleLocal=function(e,t){e in h&&(h[e]=t)},t.addPageView=function(){var e=c.default.get("pages_count");e?c.default.set("pages_count",(0,o.default)(e)+1):c.default.set("pages_count",1)},t.compare=g,t.timeDiff=m,t.getValue=v,t.isTimeCondition=function(e){return e&&(0,r.default)(e).call(e,"time")>=0},t.isGoalCondition=function(e){return"goal_close"===e||"goal_scroll"===e},t.getPageUrlValue=_,t.checkCondition=y,t.checkTimeConditions=function(e,t,n){for(var a=!1,i=0;i<e.length;i++)if(y(e[i],n))a=!0;else if("all"===t)return!1;return a},t.hasOnceCondition=function(e){for(var t=!1,n=0;n<e.length;n++){var a=e[n];if("once_a_day"==a.condition){t=a;break}}return t},t.setInvitationTime=function(){c.default.set("invitation_time",(new Date).getTime())},t.isYandexMarketClient=function(e){var t,n=1==d.default.get("visits_count"),a=c.default.get("pages_count")<10;return!f.default.mobileOrTablet()&&n&&a&&-1!==(0,r.default)(t=["market","YM"]).call(t,e.source)&&"cpc"==e.medium},t.isPopupCommand=function(e){var t;return-1!==(0,r.default)(t=["proactive","open_offline","show_callform"]).call(t,e)};var i=a(n(77766)),r=a(n(81643)),o=a(n(94198)),l=a(n(62904)),u=n(81426),s=n(56602),c=a(n(5972)),d=a(n(93268)),f=a(n(58061)),p=a(n(75043)).default.name("RuleManagerUtils"),h={scrollPosition:!1,movedToCloseButton:!1,firstMessageTime:null,pageEnterTime:(new Date).getTime(),prechatUseTime:null};function g(e,t,n){var a,i;switch(n){case"contain":return-1!=(0,r.default)(a=e.toLowerCase()).call(a,t.toLowerCase());case"greater":return e>t;case"greater_equal":return e>=t;case"lower":return e<t;case"lower_equal":return e<=t;case"not_contain":return-1===(0,r.default)(i=e.toLowerCase()).call(i,t.toLowerCase());case"not_equal":return t!=e;case"regexp":return new RegExp(e,"i").test(t);default:return t==e}}function m(e){return Math.round(((new Date).getTime()-e)/1e3)}function v(e){switch(e){case"online":return l.default.chat_mode===u.ChatMode.ONLINE;case"page_url":return(0,s.getCurrentPage)().url.replace(/^http(s?)\:\/\//i,"");case"hour":return(new Date).getHours();case"page_title":return(0,s.getCurrentPage)().title;case"week_day":var t=(new Date).getDay();return 0===t?7:t;case"time_after_close":var n=c.default.get("close_time");return n?m(n):Number.MAX_VALUE;case"time_after_first_message":return h.firstMessageTime?m(h.firstMessageTime.getTime()):NaN;case"time_after_invitation":var a=c.default.get("invitation_time");return null===a||""===a?Number.MAX_VALUE:m(a);case"time_on_page":return m(h.pageEnterTime);case"time_on_site":return m(c.default.get("enter_ts"));case"number_of_visits":return d.default.get("visits_count");case"goal_close":return h.movedToCloseButton;case"goal_scroll":return h.scrollPosition;case"pages_count":return(0,o.default)(c.default.get("pages_count"));case"country":return l.default.geoip.split(";")[0];case"city":return l.default.geoip.split(";")[2]||null;case"once_a_day":return!0;default:return c.default.get(e)}}function _(e){var t=e.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/gi);if(t&&t.length){var n={href:e,hostname:t[0]};e=(0,s.getUnicodeHref)(n).replace(/http(|s):\/\//,"")}else e=e.replace(/http(|s):\/\//,"");return e}function y(e,t){var n,a,r,l;p.log("checkCondition",e);var u=v(e.condition);"page_url"===e.condition&&(e.value=_(e.value)),"pages_count"===e.condition&&(e.value=(0,o.default)(e.value));var s=g(u,e.value,e.comparator),c=(0,i.default)(n="".concat(t||"","; ")).call(n,s?"success":"failed");return c+=(0,i.default)(a=" condition ".concat(e.condition,"; comparator=")).call(a,e.comparator),p.info((0,i.default)(r=(0,i.default)(l="".concat(c,"; expected=")).call(l,e.value,"; actual=")).call(r,u)),"once_a_day"==e.condition||s}},6991:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(51942)),r=a(n(23765)),o=a(n(54103)),l=a(n(62904)),u=n(56602),s=a(n(36216)),c=a(n(58061)),d=n(37916),f=n(33367),p=n(63242),h=n(81189),g=n(94515),m=a(n(93268)),v=a(n(75043)).default.name("Social"),_=new(0,n(89766).EventEmitter),y={vk:!1,fb:!1,mode:!1},b=null,E=!1,C={getSocial:function(){return b||y},setPopupMode:function(e){b=e,_.emit("update",y)},getPopupMode:function(){return b},setSocial:function(e){return y=e},isLoginned:function(){return y.vk||y.fb},getJoints:function(){var e=0,t={};return d.CallbackUtils.isCallbackEnabled()?(t.callback=!0,e++):l.default.power_button_phone&&(t.cbUrl=l.default.power_button_phone,e++),l.default.joint?(l.default.joint.sb&&e++,l.default.joint.ig&&e++,l.default.joint.fb&&l.default.joint.fb.joint_id&&(t.fbUrl="https://m.me/"+l.default.joint.fb.joint_id,e++),l.default.joint.wa&&(t.waUrl="https://wa.me/"+l.default.joint.wa,e++),l.default.joint.vk&&l.default.joint.vk.joint_id&&(t.vkUrl="https://vk.me/club"+l.default.joint.vk.joint_id,e++),l.default.joint.vb&&l.default.joint.vb.botname&&(t.vbUrl="viber://pa?chatURI="+l.default.joint.vb.botname,e++),l.default.joint.tg&&l.default.joint.tg.botname&&(t.tgUrl=this.getTgLink()+l.default.joint.tg.botname,e++),this.isImVersion()&&l.default.joint.im&&l.default.joint.im.joint_id&&(t.imUrl="sms://open?service=iMessage&recipient=urn:biz:".concat(l.default.joint.im.joint_id,"&biz-intent-id=click_in_jivo"),e++),{links:t,count:e}):{links:t,count:e}},startSocials:function(){var e;(v.log("startSocials"),E||c.default.mobileOrTablet()||!l.default.joint||!l.default.joint.vk&&!l.default.joint.fb||m.default.get("is_blacklisted"))||(E=!0,this.initSocial(),(0,u.addListener)(window,"message",(0,o.default)(e=this.checkLogin).call(e,this),!1))},initSocial:function(){var e=this.checkSocial();if(v.log("initSocial",e),e){var t=this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+l.default.locale,n=document.createElement("iframe");n.src=t,n.className="iframe-social",n.title="JivoSocial",document.body.appendChild(n)}},getTgLink:function(){var e="https://telegram.me/";l.default.geoip&&("RU"==l.default.geoip.split(";")[0]&&(e="tg://resolve/?domain="));return e},checkSocial:function(){if(l.default.joint){var e="check";l.default.joint.vk&&!l.default.joint.fb&&(e="checkvk"),l.default.joint.fb&&!l.default.joint.vk&&(e="checkfb");var t=document.getElementsByClassName("check-iframe");return!(t&&t.length>0)&&(!(!l.default.joint.vk&&!l.default.joint.fb)&&e)}},genSocialIframeUrl:function(e){v.log("getnSocialIframeUrl",e);var t=["mode="+e];l.default.joint.vk&&(t.push("vk_app_id="+l.default.joint.vk.app_id),t.push("vk_joint_id="+l.default.joint.vk.joint_id),t.push("vk_key="+this.genVkRandomKey())),l.default.joint.fb&&(t.push("fb_app_id="+l.default.joint.fb.app_id),t.push("fb_joint_id="+l.default.joint.fb.joint_id),t.push("fb_key="+s.default.client_id+"_"+l.default.widget_id)),t.push("logs="+(l.default.logs||0));var n=g.EnvironmentManager.isDevelopment()?"/public/social.html?":"/social.min.html?";return(0,u.staticUrl)(n+t.join("&"),!0)},genVkRandomKey:function(){return(s.default.client_id+"="+l.default.widget_id).replace(/./g,(function(e){return e.charCodeAt(0).toString(16)}))},getIframeUrl:function(e){return this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+l.default.locale},checkLogin:function(e,t){if(v.log("checkLogin",e,t),e&&"object"===(0,r.default)(e)){if(t&&(e={data:{social:t}}),e.data&&e.data.social){var n={},a=e.data.social;return a.fb&&(n.fb=!0,n.vk=!1,n.mode="fb",f.Monitoring.telemetryOnce(p.TelemetryName.SOCIAL_SHOW_FACEBOOK)),a.vk&&(n.vk=!0,n.fb=!1,n.mode="vk",f.Monitoring.telemetryOnce(p.TelemetryName.SOCIAL_SHOW_VK)),a.fb||a.vk||(n.vk=!1,n.fb=!1,n.mode="email"),y={vk:n.vk,fb:n.fb,mode:n.mode},_.emit("update",y),h.socialDispatchers.initializeSocialStore(y),n}}else v.log("postMessage from social failed: ",e)},isImVersion:function(){return(c.default.ios()||c.default.ipad())&&c.default.iosVersion()>=11.3},ifIMessageEnabled:function(){var e=this.getJoints();return!!(this.isImVersion()&&e.links&&e.links.imUrl)}},T=(0,i.default)(_,C);t.default=T},53172:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getAgents=s,t.getAgentById=c,t.getJoinedAgents=function(){var e=[],t=d();if(t&&t.length>0){var n=t[t.length-1].joinedAgents;(0,r.default)(n).call(n,(function(t){e.push(c(t))}))}return e},t.getApp=function(){return u.reduxStore.getState().app},t.getCallback=function(){return u.reduxStore.getState().callback},t.getChats=d,t.getChatById=function(e){var t;return(0,o.default)(t=d()).call(t,(function(t){return t.id===e}))},t.getClient=function(){return u.reduxStore.getState().client},t.getMessages=function(){return u.reduxStore.getState().messages},t.getPosition=function(){return u.reduxStore.getState().position},t.getProactive=function(){return u.reduxStore.getState().proactive},t.getSettings=function(){return u.reduxStore.getState().settings},t.getSystemSettings=function(){return u.reduxStore.getState().settings.system},t.getUserSettings=function(){return u.reduxStore.getState().settings.user},t.getCallbackSettings=function(){return u.reduxStore.getState().settings.user.callback},t.getFeatures=function(){return u.reduxStore.getState().settings.features},t.getClientMessages=function(e){return(0,i.default)(e).call(e,(function(e){return e.from===l.MessageInitiator.CLIENT}))},t.getMessagesByType=function(e,t){return(0,i.default)(e).call(e,(function(e){return e.type===t}))};var i=a(n(20116)),r=a(n(78914)),o=a(n(94473)),l=n(8565),u=n(43472);function s(){return u.reduxStore.getState().agents}function c(e){var t;return(0,o.default)(t=s()).call(t,(function(t){return t.id===e}))}function d(){return u.reduxStore.getState().chats}},49902:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),r=a(n(54103)),o=a(n(31581)),l=a(n(68415)),u=a(n(62107)),s=a(n(5972)),c=a(n(75043)).default.name("Timer"),d=new l.default({timer:0,seconds:0,timerText:!1,initialState:"unitialized",namespace:"Timer",setTimerNull:function(){clearInterval(this.timer),s.default.set("cw_timer",null)},initialize:function(){c.log("Timer initalized.")},states:{unitialized:{start_timer:"STARTTIMER"},STARTTIMER:{_onEnter:function(){this.handle("start_timer")},start_timer:function(){var e=1e3*this.seconds,t=this.timerText;t&&(t.innerText=e/1e3);var n=this.seconds;clearInterval(this.timer),this.timer=(0,o.default)((0,r.default)(u.default).call(u.default,(function(){var t=s.default.get("cw_timer");if(t){var a=(0,i.default)((new Date).getTime())-(0,i.default)(t);if((e=1e3*((e=1e3*this.seconds-a)/1e3).toFixed(2))<=0)return clearInterval(this.timer),this.timer=!1,void this.handle("timer_finished")}else s.default.set("cw_timer",(new Date).getTime());n=e/1e3,(e-=100)<=0&&(n=e,clearInterval(this.timer),this.timer=!1,this.handle("timer_finished")),this.emit("tick",n)}),this),10)},timer_finished:"STOP",cancel_timer:"unitialized"},STOP:{_onEnter:function(){c.log("STOP, timer_finished")},start_timer:"STARTTIMER"}}});t.default=d},10872:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.getSavedLabelPosition=t.saveLabelPosition=t.isFallbackNeeded=t.updateKeyframes=t.setProperty=t.getProperty=void 0;var f=a(n(87672)),p=a(n(58061));function h(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}var g=a(n(75043)).default.name("TransitionUtils"),m=function(e,t){return t&&t.style?v()?t.style[e]:t.style.getPropertyValue("--".concat(e)):null};t.getProperty=m;t.setProperty=function(e,t,n){v()?n.style[e]=t:n.style.setProperty("--".concat(e),t)};t.updateKeyframes=function(e){if(g.log("updateKeyframes"),p.default.supportsWebAnimationApi()){var t=m("height",e),n=m("left",e),a=m("right",e),i=e&&e.getAnimations()[0],r=i&&i.effect.getKeyframes(),o=r&&r[r.length-1];g.log("updateKeyframes",r),o&&(o.height=t,o.left=n,o.right=a,i.effect.setKeyframes(r),i.currentTime=300)}};var v=function(){return!p.default.supportsCssVariables()||p.default.ieOrEdge()||p.default.safari()&&!p.default.supportsWebAnimationApi()};t.isFallbackNeeded=v;var _={};t.saveLabelPosition=function(e){_={right:e.right||null,left:e.left||null,offsetWidth:e.offsetWidth||null}};t.getSavedLabelPosition=function(){return function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=h(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=h(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}({},_)}},3283:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),r=a(n(69198)),o=n(33367),l=a(n(51362)),u=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"decode",value:function(e){try{return l.default.decodeString(e)}catch(e){e.message+=" UTMDecoder",o.Monitoring.reportException(e)}return e}}]),e}();t.default=u},61690:function(e,t,n){"use strict";var a=n(87646);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i={common:a(n(56602)),social:a(n(37607)),callback:a(n(37916)),call:a(n(51139)),chat:a(n(63465)),config:a(n(75737)),dom:a(n(99112)),messageHistory:a(n(85870)),messagesMain:a(n(77347)),qa:a(n(70645)),router:a(n(36143)),ruleManager:a(n(11470)),store:a(n(53172)),transition:a(n(10872))};t.default=i},37607:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getIMessageLink=void 0;t.getIMessageLink=function(e){return"sms://open?service=iMessage&recipient=urn:biz:".concat(e,"&biz-intent-id=click_in_jivo")}},38687:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getLineHeight=t.getTextSize=void 0;var i=a(n(58061)),r=n(56602);t.getTextSize=function(e){if(i.default.ios()&&(0,r.isWixContext)())return"normal";var t=null;return i.default.ios()?(1!==e&&(t=100*e+"%"),t||"none"):t};t.getLineHeight=function(e,t){var n=null;return 1!==t&&(n=(e||1.25)/t+"em"),n}},94686:function(e,t,n){"use strict";var a=n(60530)(n(25843)),i={phone:function(e){return e.length>0&&(0,a.default)(e).call(e).replace(/\D+/g,"").length>=5&&/^\+?[0-9() -]+$/i.test(e)},client_name:function(e){return e.length>0&&e.length<100},email:function(e){return e.length>=4&&new RegExp(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i).test(e)},message:function(e){return e.length>0},description:function(e){return e.length>0}};e.exports=i},43942:function(e,t,n){"use strict";var a=n(87646),i=n(60530),r=n(63978),o=n(20368),l=n(39649),u=n(78914),s=n(34074),c=n(20116),d=n(14310),f=n(86902);r(t,"__esModule",{value:!0}),t.default=void 0;var p=i(n(94198)),h=i(n(69301)),g=i(n(81643)),m=i(n(59340)),v=i(n(87672)),_=i(n(77766)),y=i(n(33032)),b=i(n(54103)),E=i(n(26394)),C=i(n(69198));n(301);var T=a(n(62904)),w=n(57018),S=i(n(62652)),k=i(n(36216)),I=i(n(8282)),A=i(n(75119)),M=i(n(99357)),x=i(n(67966)),R=i(n(36421)),O=i(n(62107)),N=n(56602),D=i(n(3283)),L=n(75737),P=n(99112),B=n(17674),j=n(85442),F=n(24335),H=n(33367),U=n(63242),W=n(78605),z=i(n(9805)),G=n(11470),V=i(n(5972)),q=i(n(93268)),K=i(n(47321)),Y=n(81189),Z=n(42796),J=n(53172),X=n(94515),$=(n(37846),i(n(81574))),Q=i(n(75043)),ee=n(53793);function te(e,t){var n=f(e);if(d){var a=d(e);t&&(a=c(a).call(a,(function(t){return s(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u(n=te(Object(a),!0)).call(n,(function(t){(0,v.default)(e,t,a[t])}));else if(l)o(e,l(a));else{var i;u(i=te(Object(a))).call(i,(function(t){r(e,t,s(a,t))}))}}return e}var ae=Q.default.name("VI"),ie=["purl","ptitle","navcount","visible","status"],re=function(){function e(){var t,n,a;((0,E.default)(this,e),this.ifNeedConnect())?(S.default.viReconnectTime=null,this.changeCurrentKeysFn=O.default.debounce((0,b.default)(t=this.changeCurrentKeys).call(t,this),100),(0,P.pageVisible)()?(0,y.default)((0,b.default)(n=this.init).call(n,this),1e3):(0,N.listenVisibility)((0,b.default)(a=this.onVisibilityChange).call(a,this))):ae.log("not initialized");this.inited=!1}return(0,C.default)(e,[{key:"onVisibilityChange",value:function(){(0,P.pageVisible)()&&!this.inited&&(this.changeCurrentKeysFn(),this.init(),this.inited=!0)}},{key:"ifNeedConnect",value:function(){return T.default.new_visitors_insight&&!T.default.maintenance&&!T.default.botmode&&!q.default.get("is_blacklisted")&&!(0,N.isWixEditor)()&&!F.isDesignerEditor&&!(0,N.isAppCobrowse)()&&!(!S.default.is_online&&1===T.default.hide_offline)&&!(B.Router.getCurrentRoute()===j.Route.HIDDEN)&&(null===S.default.viReconnectTime||(new Date).getTime()>S.default.viReconnectTime)}},{key:"init",value:function(){var e,t,n,a,i,r,o,l,u=this;if(this.openConnection()){if(ae.log("start init"),this.net.onopen=(0,b.default)(e=this.connectionOnOpen).call(e,this),this.net.onget=(0,b.default)(t=this.onget).call(t,this),this.net.onset=(0,b.default)(n=this.onset).call(n,this),this.net.onclose=(0,b.default)(a=this.connectionOnClosed).call(a,this),this.net.onerror=(0,b.default)(i=this.connectionOnError).call(i,this),this.net.onfail=(0,b.default)(r=this.connectionOnFail).call(r,this),this.net.ondrop=(0,b.default)(o=this.connectionOnDrop).call(o,this),this.cacheCurrentKeys=this.getAllCurrentKeys(),k.default.addListener(this.changeCurrentKeysFn),S.default.addListener(this.changeCurrentKeysFn),I.default.on("update",this.changeCurrentKeysFn),$.default.getInstance().reduxStore.subscribe(this.changeCurrentKeysFn),M.default.on("create",this.changeCurrentKeysFn),R.default.addListener("update",O.default.debounce((0,b.default)(l=this.checkClientAway).call(l,this),w.AWAY_CLIENT_TIMEOUT)),B.Router.on("route_change",(function(e){e===j.Route.HIDDEN&&u.closeConnection()})),(0,N.isWixContext)()){var s=(0,N.getPageWindow)().wix_context;s.addEventListener(s.Events.PAGE_NAVIGATION,this.changeCurrentKeysFn)}(0,N.listenVisibility)((function(){u.changeCurrentKeysFn(),(0,P.pageVisible)()&&u.openConnection()}))}}},{key:"checkClientAway",value:function(){R.default.isActive||(0,P.pageVisible)()||!this.isConnected||this.net.close()}},{key:"getURL",value:function(){var e,t,n,a=X.EnvironmentManager.isProduction()||"https:"===(0,N.getProtocol)()?"wss":"ws";return(0,_.default)(e=(0,_.default)(t=(0,_.default)(n="".concat(a,"://")).call(n,(0,T.getViHost)(),"/")).call(t,T.default.widget_id,"?")).call(e,k.default.visitorId)}},{key:"openConnection",value:function(){return this.isConnected||!this.ifNeedConnect()?(ae.log("cant open connection"),!1):(this.net||(this.net=new ClientSocket),this.net.open(this.getURL()),!0)}},{key:"closeConnection",value:function(){ae.log("close connection"),this.isConnected&&this.net&&this.net.close()}},{key:"connectionOnOpen",value:function(){ae.log("connection open"),this.isConnected=!0,this.sendDynamicKeys(),this.changeCurrentKeysFn()}},{key:"connectionOnClosed",value:function(e){this.isConnected=!1,ae.log("connection close: ",e)}},{key:"connectionOnError",value:function(e){ae.error("connection error: ",e)}},{key:"connectionOnFail",value:function(e){H.Monitoring.telemetry(U.TelemetryName.VISITORS_FAIL,{param1:e})}},{key:"connectionOnDrop",value:function(e){var t=this;0!==e&&(S.default.viReconnectTime=(new Date).getTime()+e,ae.log("connection drop: ",e/1e3+"s"),(0,y.default)((function(){var e;L.ConfigUtils.reloadConfig((0,b.default)(e=t.openConnection).call(e,t))}),e))}},{key:"getKeys",value:function(e){var t=this,n=k.default.client_info,a=(0,N.getPageWindow)(),i={name:function(){return k.default.display_name||n.client_name},phone:function(){return n&&n.phone?n.phone:null},email:function(){return n&&n.email?n.email:null},desc:function(){return n&&n.description?n.description:null},purl:function(){return(0,N.isWixContext)()?a.wix_url:(new D.default).decode((0,N.getCurrentPage)().url)},ptitle:function(){var e=(0,N.getCurrentPage)().title;return e===(0,A.default)("lblNewMessage")&&(e=t.cacheCurrentKeys&&t.cacheCurrentKeys.ptitle),(0,N.isWixContext)()?a.wix_title:e},cid:function(){return k.default.client_id?k.default.client_id.split(".")[0]:null},utm:function(){var e=ne(ne(ne(ne(ne({},k.default.utm.campaign&&{campaign:k.default.utm.campaign}),k.default.utm.source&&{source:k.default.utm.source}),k.default.utm.medium&&{medium:k.default.utm.medium}),k.default.utm.keyword&&{keyword:k.default.utm.keyword}),k.default.utm.content&&{content:k.default.utm.content});return(0,m.default)(e)},status:function(){var e,t,n=!M.default.getCurrentChatAgentMessages().length&&M.default.getCurrentClientMessages().length;return t=S.default.chat_started?S.default.chat_accepted?W.ClientStatus.ON_CHAT:S.default.is_online?$.default.getInstance().managers.connection.isOpen()&&n?W.ClientStatus.INVITE_SENT:W.ClientStatus.ON_SITE:$.default.getInstance().managers.connection.isOpen()&&n&&(0,J.getApp)().lastChatOpened?W.ClientStatus.INVITE_SENT:W.ClientStatus.ON_SITE:x.default.get("text")?W.ClientStatus.PROACTIVE_SHOW:W.ClientStatus.ON_SITE,k.default.cw_call.status&&-1!==(0,g.default)(e=["cw_wait","cw_connecting","cw_connected"]).call(e,k.default.cw_call.status)&&(t=W.ClientStatus.ON_CALL),t==W.ClientStatus.INVITE_SENT&&$.default.getInstance().managers.connection.isOpen()&&!n&&H.Monitoring.telemetryOnce(U.TelemetryName.VI_STATUS_FAIL,{param1:"no_client_message",param2:S.default.chat_accepted?"1":"0"}),t},navcount:function(){return V.default.get("pages_count")},visits:function(){return q.default.get("visits_count")},chats:function(){return M.default.getChatCounts()},visible:function(){return(0,P.pageVisible)()},opened:function(){return!B.Router.isChatClosedRoute()},agentids:function(){return S.default.chat_accepted&&(0,m.default)(I.default.getAgentIdsByStatus("join"))},pa_id:function(){return k.default.pa_id},avatar:function(){return k.default.avatar_url},wversion:function(){return X.EnvironmentManager.getVersion()},cdata:function(){var e=$.default.getInstance().reduxStore.getState().client.customData;return e?(0,m.default)(e):null}};return e?i[e]&&i[e]():(0,h.default)(O.default).call(O.default,i)}},{key:"getAllCurrentKeys",value:function(){var e=this,t={};return O.default.each(this.getKeys(),(function(n){t[n]=e.getKeys(n)})),t}},{key:"changeCurrentKeys",value:function(){var e=this,t=this.getAllCurrentKeys();this.isConnected&&(0,m.default)(this.cacheCurrentKeys)!==(0,m.default)(t)&&O.default.each(this.getKeys(),(function(n){var a=t[n];e.cacheCurrentKeys[n]!==a&&e.set(n,a)}))}},{key:"sendAllKeys",value:function(e,t){var n=this;O.default.each(this.getKeys(),(function(a){n.cacheCurrentKeys[a]||(n.cacheCurrentKeys[a]=n.getKeys(a));var i=n.cacheCurrentKeys[a];i&&n.net.set({room:t,to:e,key:a,value:i})}))}},{key:"sendDynamicKeys",value:function(){var e=this;O.default.each(ie,(function(t){e.set(t,e.getKeys(t))}))}},{key:"set",value:function(e,t,n,a){if(this.isConnected&&null!=t){this.cacheCurrentKeys[e]=t;var i={key:e,value:t};a&&(i.room=a),n&&(i.to=n),z.default.getInstance().saveViEvent(i),this.net.set(i)}}},{key:"onget",value:function(e){var t=this;z.default.getInstance().saveViEvent(e),"*"===e.key||"all"===e.key?(this.sendAllKeys(e.from,e.room),O.default.each({startsec:function(){var e=V.default.get("enter_ts");return e&&(0,G.timeDiff)(e)}},(function(n,a){n()&&t.set(a,n(),e.from,e.room)}))):this.getKeys(e.key)&&this.set(e.key,this.getKeys(e.key),e.from,e.room)}},{key:"onset",value:function(e){var t=this;if(z.default.getInstance().saveViEvent(e),"invite"===e.key&&!this.isInvited){S.default.is_online||B.Router.isChatClosedRoute()&&(Y.transitionDispatchers.startTransition(Z.ScriptName.OPEN_WIDGET),B.Router.next(j.RouterEvent.ToChat));var n=$.default.getInstance().managers.connection;n.isOpen()?n.send(new ee.StartChat(e.value)):n.open((function(){n.send(new ee.StartChat(e.value))}),!0),this.isInvited=!0,(0,y.default)((function(){t.isInvited=!1}),w.APP_INVITE_TIME),H.Monitoring.telemetry(U.TelemetryName.VISITORS_INVITE,{param1:(0,p.default)(e.value)}),K.default.setVisitorInvite(!0)}}}]),e}(),oe={run:function(){ae.log("run",k.default.visitorId),0!=k.default.visitorId?new re:H.Monitoring.telemetry(U.TelemetryName.VISITORS_FAIL,{param1:"visitorId = 0",param2:navigator.userAgent})}};t.default=oe},99349:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63109)),r=a(n(51161)),o=a(n(26394)),l=a(n(69198)),u=n(56602),s=a(n(9669)),c=n(53172),d=n(81189),f=a(n(62904)),p=a(n(75043)).default.name("StatusProvider"),h=new(function(){function e(){(0,o.default)(this,e),p.log("init")}var t;return(0,l.default)(e,[{key:"getUrl",value:function(){var e=(0,c.getSystemSettings)();return(0,u.getProtocol)()+"//"+e.comet.host+"/widget/status/"+e.siteId+"/"+e.widgetId+"?rnd="+Math.random()}},{key:"getStatus",value:(t=(0,r.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.get(this.getUrl()).then((function(e){if(p.warn("response",e,t),e){var n=e.data;n.maintenance&&d.appDispatchers.setMaintenance(!0);var a=n.bots&&n.bots.length;n.agents&&!n.agents.length&&(a&&f.default.enable_bot_offline?d.appDispatchers.setAppIsOnline(!0):d.appDispatchers.setAppIsOnline(!1)),t(!0)}else t(!1)})).catch((function(e){p.warn(e),t(!1)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}());t.default=h},68806:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),r=a(n(31581)),o=a(n(26394)),l=a(n(69198)),u=a(n(62652)),s=a(n(62107)),c=a(n(58061)),d=a(n(56602)),f=n(99112),p=a(n(47321)),h=a(n(59592)),g=n(81189),m=a(n(75043)),v=a(n(48938)),_=m.default.name("SiteConnector"),y=new(function(){function e(){var t=this;(0,o.default)(this,e),this.window=d.default.getPageWindow(),this.document=this.window.document,this.bodyEl=this.document.body,this.documentEl=this.document.documentElement,this.scrollEl=this.document.scrollingElement||this.bodyEl,this.pageZoom=null,this.userZoom=null,this.appZoom=null,this.isSiteOptimizedForMobile=!1,this.isWidgetOnWix=!1,this.changeZoomSubscription=[],this.checkZoomsFn=s.default.throttle((function(){t.checkZooms()}),200,{trailing:!0}),!c.default.mobileOrTablet()||d.default.isWixContext()&&!c.default.android()||(this.checkViewport(),this.initListenChangeZooms()),c.default.tablet()&&d.default.addListener(this.bodyEl,"touchstart",(function(e){e&&e.target&&"label"!==u.default.route&&(0,f.hasClass)(t.documentEl,"jivo-tablet-overlay"),(0,f.hasClass)(e.target,v.default.mobileContainer)&&(0,f.hasClass)(e.target,v.default._tablet)&&(e.preventDefault(),p.default.closeWidget())}))}return(0,l.default)(e,[{key:"initListenChangeZooms",value:function(){var e=this;d.default.addListener(this.window,"scroll",this.checkZoomsFn,!0),d.default.addListener(this.window,"resize",this.checkZoomsFn,!0),d.default.addListener(this.window,"orientationchange",this.checkZoomsFn),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(d.default.addListener(this.window.visualViewport,"scroll",this.checkZoomsFn,!0),d.default.addListener(this.window.visualViewport,"resize",this.checkZoomsFn,!0)),u.default.addListener("update",(function(){"label"!==u.default.route&&"hidden"!==u.default.route?e.setZoomChangeIterval(500):e.setZoomChangeIterval(1e3)}))}},{key:"setZoomChangeIterval",value:function(e){e!==this.intervalTime&&(clearInterval(this.intervalId),this.intervalTime=e,this.intervalId=(0,r.default)(this.checkZoomsFn,e))}},{key:"checkZooms",value:function(){var e=this.getUserZoom(),t=this.getPageZoom(),n=this.getAppZoom();e===this.userZoom&&t===this.pageZoom&&n===this.appZoom||(_.log("zoom:",e,t,n),this.userZoom=e,this.pageZoom=t,this.appZoom=n,g.zoomDispatchers.initializeZoomStore({user:this.userZoom,page:this.pageZoom,app:this.appZoom}),this.triggerChangeZoom())}},{key:"checkViewport",value:function(){var e=this.document.querySelector("meta[name=viewport]");if(e&&e.content)for(var t=e.getAttribute("content").toLowerCase().split(","),n=e.getAttribute("id"),a=0;a<t.length;a++){t[a]=t[a].replace(/^\s+/,"");var i=t[a].split("=");"width"==i[0]&&"device-width"===i[1]&&(this.isSiteOptimizedForMobile=!0),"width"!=i[0]||"device-width"===i[1]||"wixMobileViewport"!=n||this.window.isWixIframe||(this.isWidgetOnWix=!0)}}},{key:"triggerChangeZoom",value:function(){var e=this;s.default.each(this.changeZoomSubscription,(function(t){t({userZoom:e.userZoom,pageZoom:e.pageZoom,appZoom:e.appZoom})}))}},{key:"blockScroll",value:function(){(0,f.addClass)(this.bodyEl,"jivo-block-scroll"),d.default.addListener(this.window,"scroll",this.preventDefault),d.default.addListener(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(this.window.visualViewport.addEventListener("scroll",this.preventDefault),this.window.visualViewport.addEventListener("resize",this.preventDefault))}},{key:"unblockScroll",value:function(){(0,f.removeClass)(this.bodyEl,"jivo-block-scroll"),d.default.removeEvent(this.window,"scroll",this.preventDefault),d.default.removeEvent(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.removeEventListener&&(this.window.visualViewport.removeEventListener("scroll",this.preventDefault),this.window.visualViewport.removeEventListener("resize",this.preventDefault))}},{key:"addOverlay",value:function(){(0,f.addClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"removeOverlay",value:function(){(0,f.removeClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"blockSite",value:function(){var e=this;void 0===this.blockState&&(this.resetScrollPositions(),(0,f.addClass)(this.documentEl,"jivo-site-full-block"),c.default.tablet()&&(0,i.default)((function(){(0,f.addClass)(e.documentEl,"jivo-tablet-overlay")}),300),this.blockState=!0)}},{key:"unblockSite",value:function(){(0,f.removeClass)(this.documentEl,"jivo-site-full-block"),(0,f.removeClass)(this.documentEl,"jivo-tablet-overlay"),this.restoreScrollPositions(),delete this.blockState}},{key:"resetScrollPositions",value:function(){this.scrollEl&&(this.originalScrollTop=this.scrollEl.scrollTop,this.originalScrollLeft=this.scrollEl.scrollLeft,this.scrollEl.scrollTop=0,this.scrollEl.scrollLeft=0)}},{key:"restoreScrollPositions",value:function(){(this.originalScrollTop||this.originalScrollleft)&&this.scrollEl&&(this.scrollEl.scrollTop=this.originalScrollTop,this.scrollEl.scrollLeft=this.originalScrollLeft,delete this.originalScrollTop,delete this.originalScrollLeft)}},{key:"preventDefault",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"getUserZoom",value:function(){var e=this.documentEl.clientWidth/this.window.innerWidth,t=this.window.visualViewport;if(t&&1!==t.scale){var n=this.getPseudo().clientWidth;e=this.documentEl.clientWidth<n?n/t.width:this.documentEl.clientWidth/t.width}return!this.isSiteOptimizedForMobile&&e>=.97&&e<=1.03&&(e=1),e}},{key:"getPageZoom",value:function(){return this.window.visualViewport?"landscape"===this.getOrientation()?this.window.screen.height/this.window.visualViewport.width:this.window.screen.width/this.window.visualViewport.width:"landscape"===this.getOrientation()?this.window.screen.height/this.window.innerWidth:this.window.screen.width/this.window.innerWidth}},{key:"getAppZoom",value:function(){return this.window.visualViewport?"landscape"===this.getOrientation()&&c.default.ios()?this.window.visualViewport.width/this.window.screen.height:this.window.visualViewport.width/this.window.screen.width:"landscape"===this.getOrientation()?this.window.innerWidth/this.window.screen.height:this.window.innerWidth/this.window.screen.width}},{key:"getTextSize",value:function(){if(c.default.ios()&&d.default.isWixContext())return"normal";var e=null;if(!c.default.ios())return e;var t=this.getAppZoom();return 1!==t&&(e=100*t+"%"),e||"none"}},{key:"getLineHeight",value:function(e){var t=null,n=this.getAppZoom();return 1!==n&&(t=(e||1.25)/n+"em"),t}},{key:"getOrientation",value:function(){var e,t=0;switch("number"==typeof this.window.orientation?t=this.window.orientation:this.window.screen&&this.window.screen.orientation&&(t=this.window.screen.orientation.angle),t){case-90:case 90:e="landscape";break;default:e="portrait"}return e}},{key:"getBodyOffset",value:function(){var e=this.getBodyPosition(),t=this.bodyEl.getBoundingClientRect(),n=this.documentEl.getBoundingClientRect();return{top:"static"===e?0:t.top-n.top,left:"static"===e?0:t.left-n.left}}},{key:"getBodyPosition",value:function(){return this.window.getComputedStyle(this.bodyEl).position}},{key:"getPseudo",value:function(){if(this.documentEl.querySelector){var e=this.documentEl.querySelector("."+h.default.pseudoHeight);return e||0}return 0}},{key:"listenChangeZoom",value:function(e){this.changeZoomSubscription.push(e)}}]),e}());t.default=y},8282:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(32366)),l=a(n(20116)),u=a(n(94198)),s=a(n(94473)),c=a(n(26394)),d=a(n(69198)),f=a(n(31474)),p=a(n(51379)),h=a(n(214)),g=a(n(66380)),m=a(n(47701)),v=a(n(62107));function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}a(n(75043)).default.name("AgentsStore");var y=new(function(e){(0,p.default)(n,e);var t=_(n);function n(){return(0,c.default)(this,n),t.apply(this,arguments)}return(0,d.default)(n,[{key:"getAgentById",value:function(e){return e?(0,s.default)(v.default).call(v.default,this.store,(function(t){return t.get("agent_id")===(0,u.default)(e)})):null}},{key:"getBotById",value:function(e){return e?(0,s.default)(v.default).call(v.default,this.store,(function(t){return t.get("bot_id")===(0,u.default)(e)})):null}},{key:"getAgentsByStatus",value:function(e){return e?(0,l.default)(v.default).call(v.default,this.store,(function(t){return t.get("body.state")===e})):null}},{key:"getAgentIdsByStatus",value:function(e){return e?(0,o.default)(v.default).call(v.default,this.store,(function(t,n){return n.get("body.state")===e&&t.push(n.get("agent_id")||n.get("bot_id")),t}),[]):null}},{key:"getOnlyAgentIdsByStatus",value:function(e){return e?(0,o.default)(v.default).call(v.default,this.store,(function(t,n){return n.get("body.state")===e&&n.get("agent_id")&&t.push(n.get("agent_id")),t}),[]):null}},{key:"getBotIdsByStatus",value:function(e){return e?(0,o.default)(v.default).call(v.default,this.store,(function(t,n){return n.get("body.state")===e&&n.get("bot_id")&&t.push(n.get("bot_id")),t}),[]):null}},{key:"closeChat",value:function(){v.default.each(this.store,(function(e){e.set("body.state","left")}))}},{key:"updateAgentList",value:function(e){var t=this;e&&e.length&&(1==e.length&&this.closeChat(),v.default.each(e,(function(e){var a;a=e.bot_id?t.getBotById(e.bot_id):t.getAgentById(e.agent_id),e.body={state:"join"},e=v.default.omit(e,"state","vox_name"),a?a.set(e):(0,f.default)((0,g.default)(n.prototype),"push",t).call(t,e)})))}},{key:"toReduxFormat",value:function(){var e=[];return v.default.each(this.store,(function(t){var n=t.toJSON(),a={avatarUrl:n.avatar_url||null,id:n.agent_id||n.bot_id,name:n.display_name||null,title:n.title||null,isBot:!!n.bot_id};e.push(a)})),e}}]),n}(m.default))({type:"default",name:"agents",keys:{agent_id:null,bot_id:null,display_name:null,title:null,avatar_url:null,body:{state:"join"}}});t.default=y},35067:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),r=a(n(26394)),o=a(n(69198)),l=a(n(62107)),u=a(n(82993)),s=a(n(3283)),c=(a(n(75043)).default.name("HistoryStore"),new(function(){function e(){(0,r.default)(this,e),this.LS=u.default}return(0,o.default)(e,[{key:"push",value:function(e){var t=this.get()||[];e=this.format(e),this.getHistoryByUrl(t,e.url).length?t=this.updateHistoryByUrl(t,e.url):(10===t.length&&(t=this.deleteOldestEntry(t)),e.time=(new Date).getTime(),t.push(e)),this.LS.set("history",t)}},{key:"get",value:function(){return this.LS.get("history")||[]}},{key:"destroy",value:function(){this.LS.removeKey("history")}},{key:"format",value:function(e){return e.url=this.subStr((new s.default).decode(e.url)),e.title=this.subStr(e.title),e}},{key:"subStr",value:function(e){return e.length>150?e.substr(0,150)+"...":e}},{key:"getHistoryByUrl",value:function(e,t){return(0,i.default)(l.default).call(l.default,e,(function(e){return e.url===t}))}},{key:"updateHistoryByUrl",value:function(e,t){for(var n=0;n<e.length;n++)e[n].url===t&&(e[n].time=(new Date).getTime());return e}},{key:"deleteOldestEntry",value:function(e){var t=this.sortByTime(e);return t.shift(),t}},{key:"sortByTime",value:function(e){return l.default.sortBy(e,(function(e){return e.time}))}}]),e}()));t.default=c},35195:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(81643)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(71093)),p=n(8565);function h(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=h(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"isAgentMessage",value:function(){var e=this.store;return e.from===p.MessageInitiator.AGENT||"bot"===e.from}},{key:"unStorage",value:function(){if(window.parent.window&&window.parent.window.isWixPreview)return!0;var e=this.store,t=[p.MessageType.EMAIL,p.MessageType.SOCIAL,p.MessageType.PRECHAT];return-1!==(0,o.default)(t).call(t,e.type)||e.body&&e.body.unsave||!1}}]),n}(f.default);t.default=g},99357:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(1068);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(78580)),l=a(n(36384)),u=a(n(59036)),s=a(n(94473)),c=a(n(20116)),d=a(n(26394)),f=a(n(69198)),p=a(n(31474)),h=a(n(51379)),g=a(n(214)),m=a(n(66380)),v=a(n(47701)),_=a(n(35195)),y=a(n(62107)),b=a(n(36216)),E=n(56602),C=a(n(17673)),T=a(n(8575)),w=a(n(62652)),S=n(8565);function k(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var I=a(n(75043)).default.name("MessagesStore"),A=new(function(e){(0,h.default)(n,e);var t=k(n);function n(e){var a;return(0,d.default)(this,n),(a=t.call(this,e)).destroyDeletedMessages(),a.destroyErrorMediaMessages(),a.setTempMessagesForInit(),a}return(0,f.default)(n,[{key:"push",value:function(e){var t=this.formatMessage(e);return(0,p.default)((0,m.default)(n.prototype),"push",this).call(this,t)}},{key:"pushAll",value:function(e){(0,p.default)((0,m.default)(n.prototype),"pushAll",this).call(this,e)}},{key:"sort",value:function(){this.store=y.default.sortBy(this.store,(function(e){return e.get("created_ts")}))}},{key:"formatMessage",value:function(e){var t=y.default.pick(e,["private_id","msg_id","chat_id","created_ts","updated_ts","from","from_id","text","type","status","body"]),n=e.meta||e.body;if(void 0!==n)if("tinkoffInvoice"===n.type){if("SUCCESS"===n.status){var a=(0,c.default)(y.default).call(y.default,this.store,(function(t){return(t.get("body")?t.get("body").invoice_id:t.invoice_id)===e.body.invoice_id}));if(a.length){var i=a[0].get("body");i&&(i.status="SUCCESS",a[0].set("body",i))}}}else if(n.chat_invoice_id){var r={type:"yandex",status:n.invoice_status,url:n.url,userEmail:b.default.client_info.email||"",invoiceId:n.chat_invoice_id,amount:n.amount,comment:n.invoice_comment};t.type=S.MessageType.INVOICE,t.body=r;var o=r.status;if("pending"===o){var l=window.parent.location.href,u=["&shopSuccessURL","shopFailURL","shopDefaultUrl"],s=C.default.parse(T.default.parse(r.url).query),d=[];for(var f in s.ym_merchant_receipt&&(r.url=(0,E.removeQueryParam)("ym_merchant_receipt",r.url)),u)u.hasOwnProperty(f)&&d.push(u[f]+"="+encodeURIComponent(l));r.cps_email="",s.cps_email&&"undefined"!=s.params&&(r.cps_email=s.cps_email||""),b.default.client_info.email&&(r.cps_email=b.default.client_info.email),r.url=(0,E.removeQueryParam)("cps_email",r.url),r.url=(0,E.setGetParam)("cps_email",r.cps_email,r.url),r.url+=d.join("&")}else if("confirmed"===o){var p=(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.INVOICE&&"yandex"===e.get("body.type")&&e.get("body.invoiceId")===n.chat_invoice_id}));p.length&&p[0].set("body.status","confirmed")}}return e.type==S.MessageType.MESSAGE&&e.media&&(t.type=S.MessageType.MEDIA,t.body=e.media),t}},{key:"getLastMessage",value:function(){return this.store[this.store.length-1]||null}},{key:"getFirstMessage",value:function(){return this.store.length?this.store[0]:null}},{key:"getClientMessages",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("from")===S.MessageInitiator.CLIENT}))}},{key:"getAgentMessages",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("from")===S.MessageInitiator.AGENT}))}},{key:"getAgentTextMessages",value:function(){var e=this.getChatId();return e?(0,c.default)(y.default).call(y.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("from")===S.MessageInitiator.AGENT&&t.get("type")===S.MessageType.MESSAGE})):[]}},{key:"getMessagesByType",value:function(e){return(0,c.default)(y.default).call(y.default,this.store,(function(t){return t.get("type")===e}))}},{key:"getMessageById",value:function(e){return e?(0,s.default)(y.default).call(y.default,this.store,(function(t){return t.get("msg_id")===e})):null}},{key:"getMessageByPrivateId",value:function(e){return e?(0,s.default)(y.default).call(y.default,this.store,(function(t){return t.get("private_id")===e})):null}},{key:"closeChat",value:function(){var e=this.getLastMessage(),t=this.getLastProactive();t&&t.set("chat_id",e.get("chat_id"))}},{key:"getCurrentProactive",value:function(){var e=this.getLastProactive(),t=null;return w.default.chat_started?e&&!e.get("chat_id")&&(t=e):t=null,I.log("getCurrentProactive",t),t}},{key:"getLastProactive",value:function(){var e=(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.PROACTIVE}));return I.log("getLastProactive",e),e.length?e[e.length-1]:null}},{key:"getTmpProactive",value:function(){var e=(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.PROACTIVE&&e.get("body")&&e.get("body").unsave}));return I.log("getTmpProactive",e),e.length?e[e.length-1]:null}},{key:"getUnreadMessage",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){var t=e.toJSON();return t.from===S.MessageInitiator.AGENT&&t.status!==S.MessageStatus.READ&&t.status!==S.MessageStatus.DELETED&&t.type!==S.MessageType.FOR_TEST}))}},{key:"getOfflineUnreadProactive",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){var t=e.toJSON();return t.from===S.MessageInitiator.AGENT&&t.status!==S.MessageStatus.READ&&t.type===S.MessageType.FOR_TEST}))}},{key:"destroyDeletedMessages",value:function(){var e=this.getDeletedMessages();y.default.each(e,(function(e){e.destroy()}))}},{key:"getDeletedMessages",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("status")==S.MessageStatus.DELETED}))}},{key:"destroyErrorMediaMessages",value:function(){var e=this.getMediaErrors();y.default.each(e,(function(e){e.destroy()}))}},{key:"getMediaErrors",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){if(!e)return!1;var t=e.toJSON();return t.type==S.MessageType.MEDIA&&t.body&&t.body.status&&t.body.status!==S.MediaStatus.COMPLETE&&t.body.status!==S.MediaStatus.EXPIRED}))}},{key:"getChatCounts",value:function(){var e,t=0;return y.default.each(this.store,(function(n){var a=n.get("chat_id");null!==a&&a!==e&&(e=a,t+=1)})),t}},{key:"getAllChatIds",value:function(){var e=[];return y.default.each(this.store,(function(t){t.get("chat_id")&&e.push(t.get("chat_id"))})),(0,u.default)(new l.default(e))}},{key:"getChatId",value:function(){var e=this.getAgentMessages(),t=(0,c.default)(this).call(this,(function(e){return e.get("chat_id")&&e.get("from")===S.MessageInitiator.CLIENT})),n=e.length?e[e.length-1].get("chat_id"):null,a=t.length?t[t.length-1].get("chat_id"):null;return a>n&&(n=a),n}},{key:"getChatMessages",value:function(e){return(0,c.default)(y.default).call(y.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("type")!==S.MessageType.SYSTEM&&"bot"!==t.get("from")}))}},{key:"getChatMessagesAfterId",value:function(e,t){return(0,c.default)(y.default).call(y.default,this.store,(function(n){return n.get("chat_id")===e&&n.get("type")!==S.MessageType.SYSTEM&&"bot"!==n.get("from")&&n.get("msg_id")>t}))}},{key:"getCurrentChatMessages",value:function(){var e=this.getChatId();return e?this.getChatMessages(e):[]}},{key:"getAgentChatMessages",value:function(e){return(0,c.default)(y.default).call(y.default,this.store,(function(t){var n;return t.get("chat_id")===e&&(0,o.default)(n=[S.MessageInitiator.AGENT,S.MessageInitiator.FORM]).call(n,t.get("from"))&&t.get("type")!==S.MessageType.PROACTIVE}))}},{key:"getCurrentChatAgentMessages",value:function(){var e=this.getChatId();return this.getAgentChatMessages(e)}},{key:"getCurrentClientMessages",value:function(){return(0,c.default)(y.default).call(y.default,this.getChatMessages(this.getChatId()),(function(e){return e.get("from")===S.MessageInitiator.CLIENT}))}},{key:"find",value:function(e){return(0,s.default)(y.default).call(y.default,this.store,(function(t){return e(t)}))}},{key:"filter",value:function(e){return(0,c.default)(y.default).call(y.default,this.store,(function(t){return e(t)}))}},{key:"getUndelivered",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("status")===S.MessageStatus.NOT_DELIVERED}))}},{key:"setUndeliveredForInit",value:function(){return y.default.each(this.store,(function(e){e.get("from")===S.MessageInitiator.CLIENT&&e.get("status")===S.MessageStatus.SENT&&e.set("status",S.MessageStatus.NOT_DELIVERED)}))}},{key:"setTempMessagesForInit",value:function(){return y.default.each(this.store,(function(e){e&&(e.get("from")===S.MessageInitiator.CLIENT&&e.get("status")===S.MessageStatus.SENT&&e.get("type")===S.MessageType.TEMPORARY&&(((new Date).getTime()-e.get("created_ts"))/1e3>604800?(e.set("status",S.MessageStatus.NOT_DELIVERED),e.set("type",S.MessageType.MESSAGE)):e.destroy()))}))}},{key:"getSentMessages",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("from")===S.MessageInitiator.CLIENT&&e.get("status")===S.MessageStatus.SENT&&!e.get("msg_id")&&e.get("type")!==S.MessageType.TEMPORARY}))}},{key:"getFormMessage",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.FORM}))}},{key:"getFormIntroduceText",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.PREFORM&&e.get("from")===S.MessageInitiator.FORM}))}},{key:"getBotMessages",value:function(e){return(0,c.default)(y.default).call(y.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("type")===S.MessageType.MESSAGE&&"bot"===t.get("from")}))}},{key:"getTemporaryMessageWithText",value:function(e){var t=(0,c.default)(y.default).call(y.default,this.store,(function(t){return t.get("type")===S.MessageType.TEMPORARY&&t.get("text")===e}));return t.length?t[t.length-1]:null}},{key:"getTemporaryMessages",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.TEMPORARY&&e.get("from")===S.MessageInitiator.CLIENT}))||null}},{key:"getOfflineTmpMessage",value:function(){var e=(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.TEMPORARY&&e.get("from")===S.MessageInitiator.CLIENT}));return e.length?e[e.length-1]:null}},{key:"getLastUnreadApiInvitation",value:function(){var e=(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO}));return e.length?e[e.length-1]:null}},{key:"getUnreadApiInvitations",value:function(){return(0,c.default)(y.default).call(y.default,this.store,(function(e){return e.get("type")===S.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO&&e.get("body").unsave}))}},{key:"getSystemMessageByText",value:function(e){return(0,c.default)(y.default).call(y.default,this.store,(function(t){return t.get("type")===S.MessageType.SYSTEM&&t.get("text")===e}))}},{key:"hasMessages",value:function(){return this.store.length>0}},{key:"getCobrowseByHash",value:function(e){if(e)return(0,s.default)(y.default).call(y.default,this.store,(function(t){var n=t.toJSON();return n.type===S.MessageType.COBROWSE&&n.body&&n.body.type===S.MessageType.COBROWSE&&n.body.address===e}))}}]),n}(v.default))({type:"default",name:"messages",itemClass:_.default,keys:{private_id:function(){return(0,E.generateGUID)()},msg_id:null,chat_id:null,created_ts:function(){return(new Date).getTime()},updated_ts:null,from:S.MessageInitiator.EMPTY,from_id:null,text:null,type:S.MessageType.EMPTY,status:S.MessageStatus.SENT,body:{}}});t.default=A},36421:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(31581)),r=a(n(51942)),o=a(n(58061)),l=a(n(62107)),u=n(56602),s=n(99112),c=n(17674),d=a(n(75043)),f=n(89766).EventEmitter,p=(new Date).getTime(),h=d.default.name("TabActiveManager"),g=(0,r.default)(new f,{isActive:null}),m=l.default.throttle((function(){p=(new Date).getTime(),c.Router.isChatRoute()&&(0,s.pageVisible)()&&!0!==g.isActive&&(h.log("setActive"),g.isActive=!0,g.emit("update"))}),500),v=function(){h.log("setNotActive"),g.isActive=!1,g.emit("update")};(0,i.default)((function(){!1!==g.isActive&&(new Date).getTime()-p>3e4&&v()}),15e3),o.default.desktop()?((0,u.addListener)(window.parent,"scroll",m,!0),(0,u.addListener)(window.parent,"mousemove",m,!0)):((0,u.addListener)(window.parent,"touchmove",m,!0),(0,u.addListener)(window.parent,"touchend",m,!0)),(0,u.listenVisibility)((function(){(0,s.pageVisible)()?m():v()})),c.Router.on("route_change",(function(){c.Router.isChatRoute()?m():v()}));var _=g;t.default=_},33535:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=void 0;var f=a(n(81643)),p=a(n(2991)),h=a(n(63109)),g=a(n(51161)),m=a(n(20116)),v=a(n(78914)),_=a(n(33032)),y=a(n(51942)),b=a(n(87672)),E=a(n(36216)),C=a(n(69961)),T=a(n(62652)),w=a(n(99357)),S=a(n(8282)),k=a(n(67966)),I=a(n(35067)),A=n(56602),M=a(n(75119)),x=a(n(47321)),R=a(n(40695)),O=a(n(58061)),N=a(n(44992)),D=n(66434),L=n(93298),P=n(17674),B=n(85442),j=n(8565),F=n(75245),H=n(33367),U=n(63242),W=n(5505),z=n(92097),G=n(81189),V=n(75737),q=n(60241),K=a(n(75043)),Y=n(20965),Z=a(n(44299)),J=a(n(41829)),X=a(n(93268)),$=n(85870),Q=a(n(81574)),ee=a(n(62904)),te=n(32444),ne=n(53172),ae=n(65698);function ie(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=ie(Object(a),!0)).call(n,(function(t){(0,b.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=ie(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var oe,le=K.default.name("actions/connection"),ue={accept:function(e){var n=e.agent_info.bot_id;if(T.default.chat_started=!0,T.default.chat_accepted=!0,G.chatsDispatchers.setChatEvaluated(!1),!T.default.is_online){if(n||t.default.setOnline(),F.messageActions.deleteUnansweredOfflineSystemInvite(),(0,ne.getClient)().isIntroduced)F.messageActions.sendTempMessageAsClientMessageIfNeeded();else if(P.Router.needToShowIntroduceForm()){var a=w.default.getOfflineTmpMessage();a&&a.destroy(),P.Router.next(B.RouterEvent.ToIntroduce)}H.Monitoring.telemetry(U.TelemetryName.NEWOFFLINE_AGENT_ACCEPT)}n?C.default.agent_id=0:(C.default.bot_id&&t.default.setOnline(),C.default.bot_id=0),C.default.agent_id=e.agent_info.agent_id||null,C.default.bot_id=e.agent_info.bot_id||null,C.default.display_name=e.agent_info.display_name||null,C.default.title=e.agent_info.title||null,C.default.avatar_url=e.agent_info.avatar_url||null,C.default.typing=e.agent_info.typing||null;var i=C.default.toReduxFormat();n?(G.botsDispatchers.addBot(i),G.chatsDispatchers.setJoinedBots([C.default.bot_id]),S.default.updateAgentList([e.agent_info])):(G.agentsDispatchers.addAgent(i),G.chatsDispatchers.setJoinedAgents([e.agent_info]),G.chatsDispatchers.setJoinedBots([]),G.appDispatchers.setIsInputDisabled(!1)),n||(G.clientDispatchers.setPaId(C.default.agent_id),!E.default.is_introduced&&T.default.is_online&&F.messageActions.checkContactsForm()),R.default.trackChatConnected(),(0,W._callUserFunction)("onAccept"),H.Monitoring.telemetry(U.TelemetryName.CHAT_ACCEPTED,re({param1:n?"bot":"agent"},R.default.getCountersTelemetry()))},transferred:function(e){T.default.is_online||t.default.setOnline(),(0,y.default)(C.default,e.agent_info);var n=e.agent_info.bot_id,a=C.default.toReduxFormat();n?(G.botsDispatchers.addBot(a),G.chatsDispatchers.setJoinedBots([n])):(G.agentsDispatchers.addAgent(a),G.chatsDispatchers.setJoinedAgents([e.agent_info]),G.chatsDispatchers.setJoinedBots([])),G.messagesDispatchers.addMessage({text:(0,M.default)("lblTransferred").replace("_AGENT_",e.agent_info.display_name),type:"system",from:"system"}),G.clientDispatchers.setPaId(C.default.agent_id)},startup_ok:function(e){le.log("startup_ok",e),x.default.reloadStories(),S.default.closeChat(),G.appDispatchers.setMaintenance(!1),t.default.resetCallStatus(null),P.Router.getCurrentRoute()===B.Route.CHAT_MIN&&P.Router.setNext(B.Route.LABEL),G.clientDispatchers.setClientId(e.jv_client_id),G.clientDispatchers.setClientSessionId(e.jv_sess_id),(0,ae.setStartupClientInfo)(e.client_info),F.messageActions.deleteMaintenanceMessage(),(0,$.updateHistory)(e),(E.default.is_introduced&&!T.default.is_online||T.default.is_online)&&Q.default.getInstance().managers.connection.flushBuffer()},startup_error:function(e){"blacklisted"==e.err_code?(T.default.chat_started=!1,T.default.chat_accepted=!1,X.default.set("is_blacklisted",!0,86400),P.Router.next(B.RouterEvent.Hide),N.default.disableSoundPlayer()):"moved"==e.err_code?(le.log("startup_error, Site is moved"),V.ConfigUtils.reloadConfig((function(e){le.log("Site is moved",e);var t=Q.default.getInstance();if(t){var n=t.managers.connection;n.isOpen()||(0,_.default)((function(){n.open()}),5e3)}}))):"maintenance"==e.err_code?t.default.maintenance():e.err_code,H.Monitoring.telemetry(U.TelemetryName.STARTUP_ERROR,{param1:x.default.getVisitorInvite()?1:0,param2:e.err_code}),x.default.setVisitorInvite(!1)},resume_ok:function(e){if(le.log("resume_ok",e),G.appDispatchers.setMaintenance(!1),x.default.reloadStories(),I.default.destroy(),(E.default.is_introduced&&!T.default.is_online||T.default.is_online)&&(P.Router.needToShowIntroduceForm()||Q.default.getInstance().managers.connection.flushBuffer()),e.agents&&e.agents.length>0){var n,a=!1;(0,v.default)(n=e.agents).call(n,(function(e){e.bot_id&&(a=e)})),a?(G.botsDispatchers.addBot({avatarUrl:a.avatar_url||null,id:a.bot_id,name:a.display_name||null,title:a.title||null,isBot:!0}),G.chatsDispatchers.setJoinedBots([a.bot_id])):G.chatsDispatchers.setJoinedAgents(e.agents),t.default.updateAgentInfo(e.agents),S.default.getAgentsByStatus("join").length&&(T.default.chat_accepted=!0,G.appDispatchers.setAppIsOnline(!0),G.appDispatchers.setLastChatOpened(!0))}else G.chatsDispatchers.setNoJoinedAgents(),T.default.chat_accepted=!1;var i=P.Router.getCurrentRoute();O.default.mobileOrTablet()||T.default.chat_started||w.default.getCurrentChatMessages().length||!T.default.is_online||i===B.Route.CALL||i===B.Route.CHAT_CALL||i===B.Route.LABEL||k.default.get("text")||P.Router.next(B.RouterEvent.CloseWindow);var r=e.client_info.cw_call;t.default.resetCallStatus(r),r===Y.CallStatus.WAIT&&x.default.startCallTimeout(),r&&((0,y.default)(E.default.cw_call,r),P.Router.getCurrentRoute()===B.Route.CHAT_CALL||O.default.mobileOrTablet()||P.Router.next(B.RouterEvent.ToCall),r.status!=Y.CallStatus.CONNECTED&&r.status!=Y.CallStatus.CONNECTING||(0,L.resetDelayedCallStatus)()),e.client_info.has_integration&&G.clientDispatchers.setHasIntegration(e.client_info.has_integration),e.assigned_agent_id&&G.clientDispatchers.setAssignedAgentId(e.assigned_agent_id),x.default.checkChatStarted(e.chat_started),(0,ae.setStartupClientInfo)(e.client_info),F.messageActions.checkContactsForm(),F.messageActions.deleteMaintenanceMessage(),(0,$.updateHistory)(e)},cw_wait:function(e){},cw_call_end:function(e){var t=Q.default.getInstance().reduxStore.getState().callback;if(le.warn("cw_call_end",t),t.webRTCCallStatus){var n=(0,te.getActiveMessage)(Y.WebRTCCallStatus.ACCEPTED);if(le.warn("cw_connecting",n),n){var a=n.private_id;G.messagesDispatchers.updateWebRTCCallStatus(a,Y.WebRTCCallStatus.ENDED)}G.callbackDispatchers.setActiveWebRTCCallMessageId(null),G.callbackDispatchers.setWebRTCCallStatus(null),G.callbackDispatchers.setCallbackStatus(Y.CallStatus.ENDED),(0,W._callUserFunction)("onCallEnd",{result:"ok"}),H.Monitoring.telemetry(U.TelemetryName.CALL_END,{param1:"webrtc"})}else x.default.clearCallTimeout(),F.messageActions.systemCallMessage((0,M.default)("c_callDisconnected"),"callEnd"),G.callbackDispatchers.setCallbackStatus(Y.CallStatus.ENDED),G.callbackDispatchers.setCallbackAvailable(!0),(0,W._callUserFunction)("onCallEnd",{result:"ok"}),H.Monitoring.telemetry(U.TelemetryName.CALL_END)},cw_connecting:function(e){if(Q.default.getInstance().reduxStore.getState().callback.webRTCCallStatus){G.callbackDispatchers.setWebRTCCallStatus(Y.CallStatus.CONNECTING),N.default.play("agent_message"),F.messageActions.addWebRTCCallMessage();var t=Q.default.getInstance().reduxStore.getState().messages,n=(0,m.default)(t).call(t,(function(e){return le.warn("find active message",e),e.type===j.MessageType.WEB_RTC_CALL&&e.body&&e.body.webRTCCallStatus===Y.WebRTCCallStatus.INITIAL}));if(n.length){var a=n[0].private_id;G.messagesDispatchers.updateWebRTCCallStatus(a,Y.WebRTCCallStatus.INITIAL)}(0,ae.openChatOnMessage)()}else G.callbackDispatchers.setCallbackStatus(Y.CallStatus.CONNECTING);(0,L.resetDelayedCallStatus)()},cw_connected:function(e){var t=Q.default.getInstance().reduxStore.getState().callback;if(le.warn("cw_connected",t.webRTCCallStatus,t.activeWebRTCCallMessageId),!t.activeWebRTCCallMessageId){var n=(0,te.getActiveMessage)(Y.WebRTCCallStatus.INITIAL);if(le.warn("cw_connecting",n),n){var a=n.private_id;G.messagesDispatchers.updateWebRTCCallStatus(a,Y.WebRTCCallStatus.ACCEPTED)}}t.webRTCCallStatus?(G.callbackDispatchers.setWebRTCCallStatus(Y.CallStatus.CONNECTED),G.messagesDispatchers.updateWebRTCCallStatus(t.activeWebRTCCallMessageId,Y.WebRTCCallStatus.ACCEPTED)):(G.callbackDispatchers.setCallbackStatus(Y.CallStatus.CONNECTED),G.callbackDispatchers.setCallbackAvailable(!1)),(0,L.resetDelayedCallStatus)()},cw_error:function(e){var t=(0,M.default)("cw_reason_".concat(e.reason)),n=t;n&&n!=t||(n=(0,M.default)("cw_unableToConnect")+" "+(0,M.default)("cw_errInfoText"));var a=Q.default.getInstance().reduxStore.getState().callback;if(a.webRTCCallStatus){if(a.webRTCCallStatus!==Y.CallStatus.ENDED){G.callbackDispatchers.setWebRTCCallStatus(Y.CallStatus.ERROR);var i=a.activeWebRTCCallMessageId;if(!i){var r=(0,te.getActiveMessage)(Y.WebRTCCallStatus.INITIAL);i=r&&r.private_id}G.messagesDispatchers.updateWebRTCCallStatus(i,Y.WebRTCCallStatus.ERROR)}G.callbackDispatchers.setCallbackAvailable(!0),G.callbackDispatchers.setCallbackStatus(Y.CallStatus.ERROR),P.Router.getCurrentRoute()===B.Route.CHAT_SETUP_CALL&&P.Router.next(B.RouterEvent.Cancel)}else x.default.clearCallTimeout(),G.messagesDispatchers.addMessage({text:n,type:"system",from:"system",body:{type:"call",name:"callEnd"}}),G.callbackDispatchers.setCallbackAvailable(!0),G.callbackDispatchers.setCallbackStatus(Y.CallStatus.ERROR),G.callbackDispatchers.setCallbackError(n),O.default.mobileOrTablet()||P.Router.next(B.RouterEvent.ToCall);(0,W._callUserFunction)("onCallEnd",{result:"fail",reason:n}),H.Monitoring.telemetry(U.TelemetryName.CALL_ERROR,{param1:e.reason})},cw_call_requested:(oe=(0,g.default)(h.default.mark((function e(t){var a,i,r,o,l;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.default.enable_webrtc_calls){e.next=2;break}return e.abrupt("return");case 2:return a=t.call_id,i=t.vox_user_login,r=t.vox_user_password,G.callbackDispatchers.setCallbackAvailable(!1),G.callbackDispatchers.setWebRTCCallStatus(Y.CallStatus.WAIT),e.next=7,n.e(772).then(n.t.bind(n,26472,7));case 7:o=e.sent,l=o.default,Q.default.getInstance().managers.webRTCCall=new l(Q.default.getInstance(),a,i,r),ee.default.enable_webrtc_separate_window||Q.default.getInstance().managers.webRTCCall.setupSdk();case 11:case"end":return e.stop()}}),e)}))),function(e){return oe.apply(this,arguments)}),agentMessage:function(e,n){le.log("agentMessage",e),T.default.is_online||t.default.setOnline(),F.messageActions.saveLastSystemMessage(),e.media&&(e.media.status=j.MediaStatus.COMPLETE);var a={text:e.message||e.text,type:e.media?j.MessageType.MEDIA:j.MessageType.MESSAGE,from:e.from,from_id:e.from_id,private_id:e.private_id||(0,A.generateGUID)(),msg_id:e.msg_id,chat_id:e.chat_id,meta:e.meta,body:e.media},i=e.type==j.MessageType.LISTPICKER;if(n)if(i&&(a.text=e.body.text||e.body.title),e.is_markdown&&(a.body?a.body.is_markdown=!0:a.body={is_markdown:!0}),e.type==j.MessageType.INVITE){if(a.type=j.MessageType.SYSTEM,a.text=(0,M.default)("botTransferChat"),H.Monitoring.telemetry(U.TelemetryName.BOT_TRANSFER_CHAT),(0,ae.isNeedShowBotForm)(ee.default))return void F.messageActions.handleBotContactsForm()}else H.Monitoring.telemetry(U.TelemetryName.CLIENT_MESSAGE_BOT);G.messagesDispatchers.addMessage(a),i&&(a.type=j.MessageType.LISTPICKER,a.body=e.body,a.msg_id=e.msg_id+.1,a.body&&a.body.force_reply&&G.appDispatchers.setIsInputDisabled(!0),G.messagesDispatchers.addMessage(a)),x.default.agentMessageAck([e.msg_id]),G.clientDispatchers.setLastMessage(null),x.default.agentTyping(0),T.default.lastMsgTime=(new Date).getTime(),(0,ae.openChatOnMessage)()},update_agent_info:function(e){var n;T.default.is_online||t.default.setOnline();var a=e.agent_info,i=(0,p.default)(n=S.default.getAgentsByStatus("join")).call(n,(function(e){var t=e.store;return t.agent_id===a.agent_id?a:t}));t.default.updateAgentInfo([a]),G.chatsDispatchers.setJoinedAgents(i)},invoice:function(e){le.log("invoice",e),G.messagesDispatchers.addMessage({type:"invoice",msg_id:e.invoice.msg_id,from:"agent",body:{type:e.invoice.gateway_system+"Invoice",comment:e.invoice.comment,amount:e.invoice.amount,invoice_id:e.invoice.invoice_id,payment_url:e.invoice.payment_url,status:e.status,currency:e.invoice.currency}})},agent_chat_close:function(){T.default.chat_started=!1,T.default.chat_accepted=!1,w.default.closeChat(),G.chatsDispatchers.setNoJoinedAgents(),G.chatsDispatchers.setChatEvaluated(!1),x.default.setDepartmentId(null)},agent_service_message:function(e){le.warn("unhandled agent_service_message",e)},agent_typing:function(e){T.default.is_online||t.default.setOnline(),x.default.agentTyping(e.typing)},update_client_info:function(e){e.avatar_url&&(E.default.avatar_url=e.avatar_url),e.display_name&&(E.default.display_name=e.display_name),e.assigned_agent_id&&G.clientDispatchers.setAssignedAgentId(e.assigned_agent_id),e.email&&G.clientDispatchers.setClientEmail(e.email),e.phone&&G.clientDispatchers.setClientPhone(e.phone),ee.default.bots&&(e.email||e.phone)&&G.clientDispatchers.setIsIntroduced(!0)},update_client_id:function(e){le.warn("update_client_id",e),(0,ne.getClient)().clientId!==e.jv_client_id&&(G.clientDispatchers.setClientId(e.jv_client_id),(0,$.updateHistory)(e))},message_state:function(e){var t=w.default.getMessageByPrivateId(e.private_id);if(le.log("messageState",e,t),t){var n={chat_id:e.chat_id,msg_id:e.msg_id,status:j.MessageStatus.DELIVERED};t.set(n),t.get("from")===j.MessageInitiator.CLIENT&&(t.get("type")==j.MessageType.TEMPORARY&&E.default.is_introduced&&!T.default.is_online&&"sent"==e.status&&(le.warn("messageState replace temp form message",t),t.set("type",j.MessageType.MESSAGE)),(0,z.prechatSetUsed)(!1))}(0,q.needToRateForm)()},blacklist:function(){X.default.set("is_blacklisted",!0,86400),T.default.chat_started=!1,T.default.chat_accepted=!1,P.Router.next(B.RouterEvent.Hide),N.default.disableSoundPlayer()},disconnecting:function(){J.default.stopBlinking()},force_offline:function(){T.default.is_online&&(G.appDispatchers.setAppIsOnline(!1),F.messageActions.handleContactsForm(),H.Monitoring.telemetry(U.TelemetryName.NEWOFFLINE_FORCE_OFFLINE))},offline:function(){T.default.is_online&&F.messageActions.sendNoAgentsOnline(),E.default.is_introduced?R.default.trackOfflineMessageSent():(ee.default.bots||ee.default.enable_bot_offline||(G.appDispatchers.setAppIsOnline(!1),G.appDispatchers.setIsInputDisabled(!0),F.messageActions.handleContactsForm()),H.Monitoring.telemetryOnce(U.TelemetryName.NEWOFFLINE_FORCE_OFFLINE))},update_client:function(e){e.has_integration&&(0,A.hasIntegration)(e.has_integration)&&(G.clientDispatchers.setHasIntegration(e.has_integration),G.messagesDispatchers.addMessage({text:(0,M.default)("social_success_"+e.has_integration),type:j.MessageType.SYSTEM,body:{type:j.MessageType.SOCIAL}}),P.Router.next(B.RouterEvent.ToChat),H.Monitoring.telemetry(U.TelemetryName.SOCIAL_HAS_INTEGRATION+e.has_integration),x.default.isChatContactForm()&&H.Monitoring.telemetry(U.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"connect_"+e.has_integration}))},connect_failed:function(){le.log("connect_failed")},offline_ack:function(e){F.messageActions.offlineAck(e)},agent_message:function(e){T.default.is_online||t.default.setOnline(),e.meta&&t.default.agentMessage(e)},chat_message:function(e){var n;if(le.log("chat_message",e),T.default.is_online||t.default.setOnline(),-1!==(0,f.default)(n=["join","left"]).call(n,e.params.type))x.default.updateChatAgent(e);else{var a=e.params.from===j.MessageType.BOT;if((e.params.from===j.MessageInitiator.AGENT||a)&&t.default.agentMessage(e.params,a),e.params.from===j.MessageInitiator.CLIENT){var i=(0,D.filterMessage)(e.params),r=e.params,o=w.default.getMessageByPrivateId(r.private_id);if(r.private_id&&o){var l={chat_id:r.chat_id,msg_id:r.msg_id,status:j.MessageStatus.DELIVERED};o.set(l)}if(i&&!o){var u=r.private_id?r.private_id:(0,A.generateGUID)();G.messagesDispatchers.addMessage(re(re(re({from:j.MessageInitiator.CLIENT,text:e.params.text,type:j.MessageType.MESSAGE,private_id:u,status:j.MessageStatus.DELIVERED},r.chat_id?{chat_id:r.chat_id}:null),r.msg_id?{msg_id:r.msg_id}:null),r.media?{media:r.media}:null))}i&&!P.Router.isChatInputRoute(P.Router.getCurrentRoute())&&P.Router.next(B.RouterEvent.ToChat)}}},chat_message_update:function(e){var t=e.params.msg_id,n=w.default.getMessageById(t);le.log("chat_message_update",e,t,n),n&&(e.params.deleted?(n.set("status",j.MessageStatus.DELETED),n.set("type",j.MessageType.MESSAGE),n.set("body",null)):e.params.updated_ts&&(n.set("updated_ts",1e3*e.params.updated_ts),n.set("text",e.params.text)))},agents_list_updated:function(e){if(le.log("agents_list_updated"),T.default.is_online||t.default.setOnline(),e.params.length){if(1===e.params.length){var n=e.params[0];(0,y.default)(C.default,n),n.bot_id||G.clientDispatchers.setPaId(n.agent_id)}t.default.updateAgentInfo(e.params),G.chatsDispatchers.setJoinedAgents(e.params),G.agentsDispatchers.initializeAgentStore(S.default.toReduxFormat())}},maintenance:function(){le.log("Maintenance mode is on"),G.appDispatchers.setMaintenance(!0),G.callbackDispatchers.setCallbackAvailable(!1),F.messageActions.addMaintenanceMessage()},updateAgentInfo:function(e){if(le.log("updateAgentInfo",e),1===e.length){var t=e[0];(0,y.default)(C.default,{agent_id:t.agent_id||0,bot_id:t.bot_id||0,display_name:t.display_name,title:t.title||null,avatar_url:t.avatar_url||null}),t.bot_id||(G.agentsDispatchers.updateAgent({id:t.agent_id||t.bot_id,name:t.display_name,title:t.title,avatarUrl:t.avatar_url||null,isBot:!!t.bot_id}),G.clientDispatchers.setPaId(t.agent_id))}},resetCallStatus:function(e){le.log("resetCallStatus",e),e?G.callbackDispatchers.setCallbackStatus(e.status):G.callbackDispatchers.setCallbackStatus(!1)},setOnline:function(){if(G.appDispatchers.setAppIsOnline(!0),!ee.default.bots&&!ee.default.enable_bot_offline){var e=(0,M.default)("offlineAgentConnected");F.messageActions.systemMessageOnce(e)}},enableRecaptchaAntispam:function(){le.log("Enable antispam"),G.callbackDispatchers.setCallbackAvailable(!1),F.messageActions.systemMessageOnce((0,M.default)("maintenanceSystemText"),"text",!1),G.appDispatchers.setIsInputDisabled(!0),Z.default.allRulesCancel()},client_message_ack:function(){}};t.default=ue},65698:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.isNeedShowBotForm=t.setStartupClientInfo=t.openChatOnMessage=void 0;var i=a(n(33032)),r=a(n(31581)),o=n(56602),l=n(42796),u=a(n(58061)),s=n(17674),c=n(85442),d=n(92097),f=n(81189),p=a(n(41829)),h=a(n(44992)),g=n(5505),m=n(33367),v=n(63242),_=n(53172),y=a(n(47321)),b=n(53278);t.openChatOnMessage=function(){var e;!u.default.desktop()||(0,o.isCustomLabel)()&&"function"==typeof(0,o.getPageWindow)().jivo_onMessageReceived||(s.Router.isChatInputRoute(s.Router.getCurrentRoute())||s.Router.next(c.RouterEvent.ToChat),s.Router.getPrevRoute()===c.Route.CHAT_MIN?f.transitionDispatchers.startTransition(l.ScriptName.MAXIMIZE_WIDGET):f.transitionDispatchers.startTransition(l.ScriptName.OPEN_WIDGET),u.default.safari()&&!u.default.mobileOrTablet()&&(e=(0,r.default)((function(){(0,b.fixSafariKeyframes)()}),50),(0,i.default)((function(){clearInterval(e)}),300)),p.default.startBlinking());h.default.play("agent_message"),(0,g._callUserFunction)("onMessageReceived"),m.Monitoring.telemetry(v.TelemetryName.AGENT_MESSAGE,{param1:(0,d.getPrechatUseTime)()})};t.setStartupClientInfo=function(e){var t=(0,_.getClient)();f.clientDispatchers.setHasIntegration(e.has_integration),f.clientDispatchers.setAssignedAgentId(e.assigned_agent_id||null);var n=e.name||e.client_name;if(t.isIntroduced){var a={client_name:t.name||n,description:t.description,accept_eula:t.eulaAccepted||null};t.email&&!e.email&&(a.email=t.email),t.phone&&!e.phone&&(a.phone=t.phone),t.name&&!e.name&&(a.client_name=t.name),(a.email||a.phone)&&y.default.setIntroduce(a)}else!t.email&&e.email&&f.clientDispatchers.setClientEmail(e.email),!t.phone&&e.phone&&f.clientDispatchers.setClientPhone(e.phone),!t.name&&n&&f.clientDispatchers.setClientName(n)};t.isNeedShowBotForm=function(e){var t=e.lastStatus;return!((t&&t.agents?t.agents.length:0)>0&&2==e.contacts_ask)&&(e.bots&&e.enable_bot_offline)}},47321:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),r=a(n(77766)),o=a(n(81643)),l=a(n(59340)),u=a(n(36216)),s=a(n(69961)),c=a(n(62652)),d=(a(n(18228)),n(56602)),f=a(n(62904)),p=a(n(58061)),h=a(n(40695)),g=n(93298),m=a(n(99357)),v=a(n(67966)),_=a(n(8282)),y=a(n(75119)),b=a(n(75043)),E=n(17674),C=n(85442),T=n(8565),w=n(75245),S=n(36143),k=a(n(44992)),I=n(33367),A=n(63242),M=n(5505),x=n(43472),R=n(81189),O=n(51139),N=n(20965),D=a(n(5972)),L=n(42796),P=a(n(82036)),B=a(n(6991)),j=a(n(75959)),F=a(n(68806)),H=a(n(81574)),U=n(53793),W=n(53172),z=a(n(93268)),G=b.default.name("Actions"),V=null,q=null,K="",Y=0,Z=null,J=!1,X={visitorInvite:!1,sendUpdateProactive:function(){var e=(0,W.getClient)().sessionId;if(e){var t={name:"update_client",jv_sess_id:e},n=m.default.getCurrentProactive();if(v.default.get("text")&&(n=v.default),n&&n.get("text")&&n.get("body")){var a=n.get("body");t.proactive_rule={invitation_text:n.get("text"),private_id:n.get("private_id"),created_ts:Math.floor(n.get("created_ts")/1e3)},a.agent_id&&(t.proactive_rule.agent_id=a.agent_id),a.bot_id&&(t.proactive_rule.bot_id=a.bot_id)}if(V!=(0,l.default)(t)&&(V=(0,l.default)(t),G.log("sendUpdateProactive",t),t.proactive_rule)){var i=H.default.getInstance();if(i){var r=i.managers.connection;r&&r.isOpen()&&r.send(t)}}}else G.log("updateProactive no session.")},startCallDebounce:function(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(G.warn("startCallDebounce",e,n),t.default.startCallTimeout(),(0,o.default)(a=["cw_wait","cw_connecting","cw_connected"]).call(a,u.default.cw_call.status)>=0)G.log("already calling");else{var l=(0,O.getPhoneNumberInfo)(e);l?R.clientDispatchers.setClientPhone("+"+l.phoneCode+l.innerNumber):R.clientDispatchers.setClientPhone(e),t.default.setIntroduce({name:u.default.client_info.client_name,phone:u.default.client_info.phone,email:u.default.client_info.email,description:u.default.client_info.description},!1),(0,O.checkStartCall)(e,i,(function(a,i){if(i||(G.log("Wrong response from telephony"),i={ok:!1,error_list:["wrong_response"]}),i.only_forward)return R.callbackDispatchers.setCallbackStatus(N.CallStatus.ERROR),R.callbackDispatchers.setCallbackError((0,y.default)("cw_call_forward")),void u.default.dispatch();var o;i.ok?(c.default.chat_started=!0,c.default.chat_accepted=!0,R.callbackDispatchers.setCallbackStatus(N.CallStatus.WAIT),w.messageActions.handleContactsForm(),w.messageActions.systemCallMessage((0,r.default)(o="".concat((0,y.default)("cw_call_to")," ")).call(o,(0,O.getMaskedPhone)(e)),"callMessageStart"),(0,M._callUserFunction)("onCallStart"),h.default.trackCallWidgetRequested(),I.Monitoring.telemetry(A.TelemetryName.CALL_START,{param1:n})):(t.default.setCallError(),I.Monitoring.telemetry(A.TelemetryName.CALL_ERROR,{param1:i.error_list.join(" ")}),i.work_time&&i.work_time.schedule&&((0,g.onDelayedCallAvailable)(i.work_time),(0,g.redirectAfterRequestDelayedCall)(),I.Monitoring.telemetry(A.TelemetryName.CALL_START,{param1:n})),p.default.mobileOrTablet()||E.Router.getCurrentRoute()!==C.Route.LABEL||E.Router.next(C.RouterEvent.Navigate))}))}},checkConnection:function(e){var t=H.default.getInstance().managers.connection;G.warn("checkConnection",e,t),t.isOpen()?e():t.open(e,!0)},requestCWAvailable:function(e){G.warn("requestCWAvailable"),z.default.get("is_blacklisted")||(f.default.maintenance?R.callbackDispatchers.setCallbackAvailable(!1):(0,O.callWidgetPing)((function(t){R.callbackDispatchers.setCallbackAvailable(t.ok),t.work_time&&(0,g.onDelayedCallAvailable)(t.work_time),u.default.cw_call_enabled&&"function"==typeof e&&e()}),c.default.chat_started))},requestApiCWAvailable:function(e){(0,O.callWidgetPing)((function(t){if(R.callbackDispatchers.setCallbackAvailable(t.ok),u.default.cw_call_enabled&&"function"==typeof e)e({result:"ok"});else{var n=t.error_list?t.error_list.join(" "):"Call request error";e({result:"fail",reason:n})}}),c.default.chat_started)},pingAndOpenCall:function(){G.info("pingAndOpenCall"),t.default.checkConnection((function(){(0,O.callWidgetPing)((function(e){R.callbackDispatchers.setCallbackAvailable(e.ok);var t=E.Router.getCurrentRoute()===C.Route.LABEL;!e.ok||!t&&c.default.is_online?e.ok&&!t&&c.default.is_online&&(G.log("api toggle call form"),E.Router.next(C.RouterEvent.ToCall),p.default.desktop()&&R.transitionDispatchers.startTransition(L.ScriptName.OPEN_WIDGET)):(R.userDispatchers.setCallHeaderText(null),E.Router.next(C.RouterEvent.ToCall),p.default.desktop()&&R.transitionDispatchers.startTransition(L.ScriptName.OPEN_WIDGET),I.Monitoring.telemetry(A.TelemetryName.API_CALL_OPEN))}),c.default.chat_started)}))},blurActiveElement:function(){var e=(0,d.getPageWindow)().document.activeElement;e&&"function"==typeof e.blur&&e.blur()},closeWidget:function(e){R.appDispatchers.setAppIsFocused(0),p.default.mobileOrTablet()?(t.default.blurActiveElement(),e||(0,M._callUserFunction)("onClose")):E.Router.isMinRoute()?parent.document.getElementById("jivo_custom_widget")||(0,M._callUserFunction)("onClose"):(v.default.get("proactiveName")&&(h.default.trackProactiveInvitationRejected(v.default.get("proactiveName")),R.proactiveDispatchers.setName(null)),(0,M._callUserFunction)("onClose")),D.default.set("close_time",(new Date).getTime()),R.appDispatchers.setChatOpenByClient(!1)},openChatCallbacks:function(){G.log("openChatCallbacks"),c.default.is_online?h.default.trackChatOpenedByClick():h.default.trackOfflineFormOpenedByClick(),(0,M._callUserFunction)("onOpen")},hideWidget:function(){E.Router.next(C.RouterEvent.Hide),k.default.disableSoundPlayer()},setClientContactInfo:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];G.log("setClientContactInfo",e,n,i),t.default.setIntroduce(e,!0,i),n||(R.clientDispatchers.setIsIntroduced(!0),h.default.trackGaveContacts(),a&&I.Monitoring.telemetry(A.TelemetryName.INTRODUCE,{param1:f.default.contacts_ask}),(0,M._callUserFunction)("onIntroduction"))},sendIntroduceMessage:function(e,t){G.warn("sendIntroduceMessage",e,t),e&&w.messageActions.sendClientMessage(e,t)},setIntroduce:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.clientDispatchers.setClientEmail(e.email||null),R.clientDispatchers.setClientPhone(e.phone||null),R.clientDispatchers.setClientName(e.name||e.client_name||null),R.clientDispatchers.setClientDescription(e.description||null);var i=new U.Introduction(u.default.client_info.client_name,u.default.client_info.phone,u.default.client_info.email,u.default.client_info.description,f.default.eula&&c.default.eula_accepted||null);G.log("setIntroduce",e,n,a);var r=H.default.getInstance();if(r){var o=r.managers.connection;o&&(o.isOpen()||n)&&(o.isOpen()?(o.send(i),t.default.sendIntroduceMessage(e.message,a)):o.open((function(){o.send(i),t.default.sendIntroduceMessage(e.message,a)})))}},setDepartmentId:function(e){R.clientDispatchers.setDepartmentId(e)},startCall:function(e,n,a){G.log("startCall from chat",e),t.default.checkConnection((function(){t.default.startCallDebounce(e.replace(/\D+/g,""),n,a)}))},sendEvaluation:function(e){G.log("sendEvaluation",e),R.chatsDispatchers.setChatEvaluated(0!==e);var t=m.default.getAgentMessages(),n=t.length?t[t.length-1].get("chat_id"):null;if(n){var a=new U.Rate(e,n),i=H.default.getInstance();i&&i.managers.connection.send(a)}else G.log("sendEvaluation","error: no chat_id for rate form");I.Monitoring.telemetry(A.TelemetryName.CLIENT_RATE_FORM,{param1:e})},markEvaluated:function(){R.chatsDispatchers.setChatEvaluated(!0)},clientTyping:function(e){var t=e?1:0;if(Y!=t){Y=t;var n=new U.ClientTyping(t),a=H.default.getInstance().managers.connection;a&&a.isOpen()&&a.send(n)}},typingInsight:function(e){if(1==f.default.typing_insight&&K!=e){K=e;var t=H.default.getInstance().managers.connection;t&&t.isOpen()&&t.send({name:"client_service_message",service:"typing_insight",event:"input_changed",new_val:e})}},updateTitle:function(e,t){if(G.log("updateTitle",e),window&&window.location){if(!p.default.mobileOrTablet()||E.Router.getCurrentRoute()===C.Route.LABEL){var n=t||(0,d.getCurrentPage)().url;G.log("updateTitle url",n);var a=H.default.getInstance().managers.connection;a&&a.isOpen()&&a.send({name:"url_change",url:n,title:(0,d.setSubstrTitle)(e)})}}else G.log("no window")},agentMessageAck:function(e){var t=H.default.getInstance();t&&t.managers.connection.send(new U.AgentMessagesAck(e))},agentMessageRead:function(e){var t=H.default.getInstance();t&&t.managers.connection.send(new U.AgentMessagesRead(e))},submitShowEula:function(e){if(S.RouterUtils.needToShowEula()){var t,n=(0,O.getMaskedPhone)(e);return j.default.showEula((0,r.default)(t="".concat((0,y.default)("eula_phone"),"<br/>")).call(t,n),null,"cb"),E.Router.next(C.RouterEvent.Submit,{context:"cb"}),!0}return!1},reloadStories:function(){c.default.reload(),u.default.reload(),t.default.syncRouter()},syncRouter:function(){if(G.log("syncRouter",c.default.route,E.Router.getCurrentRoute()),c.default.route!==E.Router.getCurrentRoute()){var e,n,a=E.Router.getPrevEvent();if(u.default.is_introduced&&"introduce"===c.default.route)return;if(-1!==(0,o.default)(e=[0,-1]).call(e,f.default.contacts_ask)&&"introduce"===c.default.route)return;if(!(c.default.route!==C.Route.CHAT_SOCIAL||a&&B.default.getPopupMode()))return void G.warn("prevent to show Social without user click.");if(-1!=(0,o.default)(n=[C.Route.CHAT_EULA,C.Route.CALL_EULA]).call(n,c.default.route)&&(!a||a&&-1==(0,o.default)(a).call(a,"submit"))&&c.default.show_eula)return void G.warn("prevent to show Eula without user click.");E.Router.setNext(c.default.route),t.default.reloadTransitionStore()}},disableFileUpload:function(){R.featuresDispatchers.disableFiletransfer(1),f.default.options=0},agentTyping:function(e){0==e?clearTimeout(q):q=(0,i.default)((function(){t.default.agentTyping(0)}),3e3),R.chatsDispatchers.setAgentTyping(e)},updateChatAgent:function(e){var t=e.params,n=_.default.getAgentById(t.from_id);n?(n.set("body.state",t.type),R.messagesDispatchers.addMessage({type:"system",body:{from_id:t.from_id,action:t.type,type:"chat"},msg_id:t.msg_id,chat_id:t.chat_id})):G.error("updateChatAgent: No agent info in agents store.")},clearCallTimeout:function(){Z&&clearTimeout(Z)},startCallTimeout:function(){t.default.clearCallTimeout(),Z=(0,i.default)((function(){var e;(0,o.default)(e=["cw_wait","cw_connecting"]).call(e,u.default.cw_call.status)>=0&&t.default.setCallError()}),24e4)},setCallError:function(){var e=(0,y.default)("cw_unableToConnect")+" "+(0,y.default)("cw_errInfoText");R.callbackDispatchers.setCallbackStatus(N.CallStatus.ERROR),R.callbackDispatchers.setCallbackError(e),R.messagesDispatchers.addMessage({text:e,type:T.MessageType.SYSTEM,from:T.MessageInitiator.SYSTEM,body:{type:"call",name:"callEnd"}})},isChatContactForm:function(){var e;return-1!==(0,o.default)(e=[0,-1]).call(e,f.default.contacts_ask)},clearHistory:function(){c.default.reset(),u.default.reset(),m.default.destroy()},initializeReduxStores:function(){if(G.log("initializeReduxStores",c.default),R.appDispatchers.initializeAppStore({isFocused:c.default.is_focused,isOnline:c.default.is_online,route:c.default.route,tabRoute:null,lastChatOpened:c.default.lastChatOpened,isInputDisabled:!1,maintenance:f.default.maintenance,chatOpenByClient:!1}),R.clientDispatchers.initializeClientStore({assignedAgentId:u.default.assigned_agent_id,clientId:u.default.client_id,description:u.default.client_info.description,email:u.default.client_info.email,eulaAccepted:c.default.eula_accepted,hasIntegration:u.default.has_integration,isBlacklisted:null,isIntroduced:u.default.is_introduced,lastMessage:u.default.last_message,name:u.default.client_info.client_name,priorityAgentId:u.default.pa_id,phone:u.default.client_info.phone,sessionId:u.default.jv_sess_id,utm:u.default.utm,visitorId:u.default.visitorId,inputText:u.default.inputText,userToken:u.default.user_token,departmentId:u.default.department_id}),F.default.checkZooms(),R.callbackDispatchers.initializeCallbackStore({available:u.default.cw_call_enabled,delayedPeriods:u.default.cw_call_delayed_periods,delayedStatus:u.default.cw_call_delayed_status,delayedTimezone:u.default.cw_call_delayed_tz,isDelayed:u.default.cw_call_delayed,error:u.default.cw_call.error,status:u.default.cw_call.status,activeWebRTCCallMessageId:u.default.activeWebRTCCallMessageId,webRTCCallStatus:u.default.webRTCCallStatus,separateForm:f.default.callback_settings&&f.default.callback_settings.separate_form}),R.agentsDispatchers.initializeAgentStore(_.default.toReduxFormat()),R.botsDispatchers.initializeBotsStore(_.default.toReduxFormat()),R.messagesDispatchers.initializeMessagesStore(),R.chatsDispatchers.initializeChatsStore(),p.default.mobileOrTablet()||R.positionDispatchers.initializePositionStore({height:P.default.height,left:P.default.left,right:P.default.right}),t.default.reloadTransitionStore(),v.default.get("body")&&(s.default.agent_id||s.default.bot_id)){var e=s.default.toReduxFormat();e.isBot?(R.botsDispatchers.addBot({avatarUrl:e.avatarUrl,id:e.id,name:e.name,title:e.title,isBot:!0}),R.chatsDispatchers.setJoinedBots([e.id])):(R.agentsDispatchers.addAgent(e),R.chatsDispatchers.addJoinedAgent(e.id))}},reloadTransitionStore:function(){G.log("reloadTransitionStore");var e=E.Router.isContainerRoute()?L.ScriptName.OPEN_WIDGET:L.ScriptName.CLOSE_WIDGET;E.Router.getCurrentRoute()===C.Route.CALL_POPUP&&(e=L.ScriptName.CLOSE_WIDGET),E.Router.isMinRoute()&&(e=L.ScriptName.MIN_WIDGET),e==L.ScriptName.OPEN_WIDGET&&x.reduxStore.getState().transition.currentScript==L.ScriptName.MAXIMIZE_WIDGET||R.transitionDispatchers.initializeTransitionStore({currentScript:e})},getCurrentChatStatus:function(){return c.default.chat_accepted?N.ChatState.ACCEPTED:c.default.chat_started?N.ChatState.STARTED:N.ChatState.NOT_STARTED_OR_CLOSED},checkChatStarted:function(e){c.default.is_online||(G.log("checkChatStarted for offline."),R.appDispatchers.setLastChatOpened(e),m.default.store.length||e||(c.default.chat_started=!1))},setVisitorInvite:function(e){this.visitorInvite=e},getVisitorInvite:function(){return this.visitorInvite},initSocial:function(){J||(B.default.startSocials(),J=!0)},addMessagesOnOpen:function(){w.messageActions.addMessagesOnOpen(c.default.is_online)}};t.default=X},75245:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.messageActions=void 0;var i=a(n(51942)),r=a(n(78914)),o=a(n(81643)),l=a(n(33032)),u=a(n(94473)),s=a(n(26394)),c=a(n(69198)),d=a(n(36216)),f=a(n(62652)),p=a(n(69961)),h=n(53172),g=n(56602),m=a(n(62904)),v=a(n(58061)),_=a(n(40695)),y=a(n(99357)),b=a(n(67966)),E=a(n(6991)),C=a(n(75119)),T=a(n(75043)),w=n(17674),S=n(85442),k=n(8565),I=n(92097),A=n(24335),M=n(33367),x=n(63242),R=n(5505),O=n(60906),N=n(11470),D=n(63465),L=n(81189),P=a(n(81574)),B=n(20965),j=a(n(99349)),F=T.default.name("MessageActions"),H=new(function(){function e(){(0,s.default)(this,e),this.cacheOfflineMsg={},this.mediaFile=!1,this.formTimeout=null}return(0,c.default)(e,[{key:"systemMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];F.log("systemMessage",e,t);var a={type:"text"!==t?"call":t,name:t};n||(a.unsave=!0),L.messagesDispatchers.addMessage({text:e,type:k.MessageType.SYSTEM,body:a})}},{key:"testMessage",value:function(e){L.messagesDispatchers.addMessage({text:e,type:k.MessageType.FOR_TEST,from:k.MessageInitiator.AGENT})}},{key:"botMessage",value:function(e){F.log("botMessage",e),L.messagesDispatchers.addMessage({type:k.MessageType.PREFORM,text:e,from:k.MessageInitiator.FORM})}},{key:"messageOnce",value:function(e,t,n,a){var i=this.checkIfMessageExists(e,t);if(F.log("messageOnce",i),!i)switch(e){case k.MessageType.SYSTEM:this.systemMessage(t,n,a);break;case k.MessageType.PREFORM:this.botMessage(t);break;case k.MessageType.FOR_TEST:this.testMessage(t)}}},{key:"systemMessageOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.messageOnce(k.MessageType.SYSTEM,e,t,n)}},{key:"botMessageOnce",value:function(e){this.messageOnce(k.MessageType.PREFORM,e)}},{key:"checkIfMessageExists",value:function(e,t){var n=(0,h.getMessages)();if(!n.length)return!1;var a=(0,u.default)(n).call(n,(function(n){var a=n.type===e,i=!t||n.text===t;return a&&i}));return a||!1}},{key:"_sendClientMessageBase",value:function(e,t){var n=this;F.warn("_sendClientMessageBase",e,t);var a=t||(0,g.generateGUID)(),i=b.default.get("proactiveName");if(i)_.default.trackProactiveInvitationAccepted(i),L.proactiveDispatchers.setName(null);else if(f.default.chat_started){var r=y.default.getCurrentChatAgentMessages(),o=y.default.getCurrentClientMessages();o&&!o.length&&r&&r.length&&_.default.trackClientAnswerAgentChatRequest()}else _.default.trackClientInitChat(),(0,R._callUserFunction)("onClientStartChat");O.ApiInvitationsManager.isInitialized()&&O.ApiInvitationsManager.hasInvitations()&&O.ApiInvitationsManager.markInvitationsAnswered(),this.saveLastSystemMessage();var u={name:"client_message",message:e,private_id:a};d.default.department_id&&(u.widget_department_id=d.default.department_id);var s=!(0,h.getClient)().isIntroduced&&!f.default.is_online,c=null;if(!this.mediaFile&&!t){var p={from:k.MessageInitiator.CLIENT,text:e,type:s?k.MessageType.TEMPORARY:k.MessageType.MESSAGE,private_id:a,status:k.MessageStatus.SENT};(0,I.prechatUsed)()&&(p.body={is_prechat:!0}),c=y.default.push(p),L.messagesDispatchers.addMessage(p,!0)}if(1===y.default.getClientMessages().length&&(0,R._callUserFunction)("onMessageSent"),(0,g.isWixEditor)()||A.isDesignerEditor)F.warn("send message disabled.");else{if(!c&&t&&(c=y.default.getMessageByPrivateId(t)),!f.default.chat_started){var v={param1:y.default.getChatCounts()>0?"old":"new",param2:(0,I.prechatUsed)()?"prechat_used":"from_input",param3:m.default.locale,param4:_.default.isUtmz?"1":"0"};M.Monitoring.telemetryOnce(x.TelemetryName.VISITOR_MSG_SENT,v)}if((0,I.prechatEnabled)()&&((0,I.prechatUsed)()&&(u.is_prechat_btn=!0),this.deletePrechatMsg()),3==m.default.contacts_ask&&E.default.isLoginned()&&this.initSocial(),this.needToShowContactsForm()&&!m.default.bots&&this.startFormSequence(f.default.is_online?(0,C.default)("lblIntroduceRequest"):(0,C.default)("offlineIntroductionText")),w.Router.needToShowIntroduceForm()&&(w.Router.next(S.RouterEvent.ToIntroduce),M.Monitoring.telemetry(x.TelemetryName.CHAT_INTRODUCE,{param1:"show",param2:(0,g.getContactSettingsInfo)()})),this.mediaFile&&(u.media=this.mediaFile.file,u.private_id=this.mediaFile.privateId,this.mediaFile=!1),(0,N.getRuleLocal)("firstMessageTime")||(0,N.setRuleLocal)("firstMessageTime",new Date),c){if(s)return;(0,l.default)((function(){n.bufferMessageForMessageState(c,u)}),2e3)}f.default.chat_started=!0,f.default.lastMsgTime=(new Date).getTime(),P.default.getInstance().managers.connection.send(u)}}},{key:"bufferMessageForIntroduce",value:function(e,t){F.warn("bufferMessageForIntroduce",e);var n=P.default.getInstance();if(n){var a=n.managers.connection;a.buffer.contains(t.private_id)||a.buffer.add(t)}}},{key:"bufferMessageForMessageState",value:function(e){F.warn("bufferMessageForMessageState",e),e&&!e.get("msg_id")&&(e.set("status",k.MessageStatus.NOT_DELIVERED),y.default.trigger("update"),M.Monitoring.telemetry(x.TelemetryName.CLIENT_MESSAGE_SEND_ERROR,{param1:f.default.is_online,param2:e.get("type")}))}},{key:"needToShowContactsForm",value:function(){var e;return F.warn("needToShowContactsForm"),!(0,h.getClient)().isIntroduced&&!p.default.bot_id&&(-1!==(0,o.default)(e=[0,-1]).call(e,m.default.contacts_ask)||!f.default.is_online)&&!y.default.getFormMessage().length&&y.default.getClientMessages().length}},{key:"checkContactsForm",value:function(){if(this.needToShowContactsForm()){var e=(0,C.default)("lblIntroduceRequest"),t=this.checkIfMessageExists(k.MessageType.PREFORM,e);if(t||this.botMessage(e),t){var n=y.default.getMessageByPrivateId(t.private_id);n&&n.set("created_ts",(new Date).getTime())}this.addContactsForm()}}},{key:"addContactsForm",value:function(){F.warn("addContactsForm");var e=this.checkIfMessageExists(k.MessageType.FORM);if(e){var t=y.default.getMessageByPrivateId(e.private_id);t&&t.set("created_ts",(new Date).getTime()+1)}else L.messagesDispatchers.addMessage({type:k.MessageType.FORM,from:k.MessageInitiator.FORM}),this.addSocialTelemetry()}},{key:"saveLastSystemMessage",value:function(){var e=y.default.getLastMessage();e&&"system"==e.get("type")&&e.get("body")&&e.get("body").unsave&&e.set("body",null)}},{key:"storeMediaFile",value:function(e,t){this.mediaFile={file:e,privateId:t}}},{key:"addSocialTelemetry",value:function(){var e=E.default.getJoints().links,t="";e.vkUrl&&e.fbUrl&&(t="show_vkfb"),e.vkUrl&&!e.fbUrl&&(t="show_vk"),!e.vkUrl&&e.fbUrl&&(t="show_fb"),(e.vkUrl||e.fbUrl)&&M.Monitoring.telemetry(x.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:t})}},{key:"initSocial",value:function(){var e=this;F.log("initSocial",E.default.isLoginned()),y.default.getMessagesByType(k.MessageType.SOCIAL).length||v.default.mobileOrTablet()||(0,l.default)((function(){1!==y.default.getCurrentClientMessages().length||d.default.has_integration||(p.default.bot_id||L.messagesDispatchers.addMessage({text:(0,C.default)("social_online_text"),type:k.MessageType.SYSTEM,body:{type:k.MessageType.SOCIAL}}),(0,l.default)((function(){e.addSocialMessage()}),2e3))}),2e3)}},{key:"addSocialMessage",value:function(){F.log("addSocialMessage"),m.default.joint&&!d.default.client_info.email&&!d.default.has_integration&&!v.default.mobileOrTablet()&&!y.default.getMessagesByType(k.MessageType.SOCIAL).length&&y.default.getCurrentClientMessages().length>0&&L.messagesDispatchers.addMessage({text:"",type:k.MessageType.SOCIAL})}},{key:"sendOfflineMessageFromApi",value:function(e){F.log("sendOfflineMessageFromApi",e);var t={name:"offline_message",message:e.message,email:e.email,phone:e.phone,client_name:e.name||e.client_name,cap_symbols:e.cap_symbols||"",from_online:f.default.forcedOffline,description:d.default.client_info.description,accept_eula:m.default.eula&&f.default.eula_accepted||null},n=P.default.getInstance();n&&n.managers.connection.send(t);_.default.trackOfflineMessageSent()}},{key:"getSystemInviteText",value:function(){return m.default.offline_form_text}},{key:"getOfflineSuccessText",value:function(){return(0,C.default)("offlineSuccessContactsSubmit")}},{key:"offlineSystemInvite",value:function(){if(!m.default.maintenance&&!f.default.is_online&&!f.default.chat_started){var e=this.getSystemInviteText();F.log("offlineSystemInvite",e),this.messageOnce(k.MessageType.FOR_TEST,e)}}},{key:"startFormSequence",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;F.log("startFormSequence",e,n),f.default.is_online&&p.default.bot_id&&!m.default.enable_bot_offline||(this.formTimeout&&clearTimeout(this.formTimeout),f.default.is_online||this.setInputDisabled(!0),n?this.formTimeout=(0,l.default)((function(){0===y.default.getFormMessage().length&&(e&&t.botMessageOnce(e),(0,l.default)((function(){t.addContactsForm()}),n),M.Monitoring.telemetry(x.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))}),n):0===y.default.getFormMessage().length&&(e&&this.botMessageOnce(e),this.addContactsForm(),M.Monitoring.telemetry(x.TelemetryName.CHAT_INTRODUCE,{param1:"show"})))}},{key:"deleteUnansweredOfflineSystemInvite",value:function(){F.warn("deleteUnansweredOfflineSystemInvite"),0===y.default.getTemporaryMessages().length&&(this.deleteOfflineSystemInvites(),(0,D.isValidEmail)()||(0,h.getClient)().isIntroduced||this.deleteOfflineTmpMessage(),L.messagesDispatchers.initializeMessagesStore())}},{key:"deleteOfflineTmpMessage",value:function(){F.warn("deleteOfflineTmpMessage"),this.destroyByType(k.MessageType.FOR_TEST),this.destroyByType(k.MessageType.TEMPORARY),f.default.is_online&&0==m.default.contacts_ask||(this.destroyByType(k.MessageType.PREFORM),this.destroyByType(k.MessageType.FORM))}},{key:"addPrechatMessage",value:function(){if((0,I.prechatEnabled)()){var e=y.default.getMessagesByType(k.MessageType.PRECHAT),t=y.default.getCurrentChatAgentMessages(),n=y.default.getCurrentClientMessages(),a=y.default.getLastProactive();!f.default.is_online||f.default.chat_started||e.length||(n.length||t.length)&&!a||this.pushPrechat()}}},{key:"pushPrechat",value:function(){L.messagesDispatchers.addMessage({body:{unsave:!0},type:k.MessageType.PRECHAT,from:k.MessageInitiator.FORM})}},{key:"deletePrechatMsg",value:function(){var e=y.default.getMessagesByType(k.MessageType.PRECHAT);e&&(0,r.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"deleteOfflineSystemInvites",value:function(){var e=y.default.getMessagesByType(k.MessageType.FOR_TEST);F.log("deleteOfflineSystemInvites",e),(0,r.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"addMaintenanceMessage",value:function(){this.systemMessageOnce((0,C.default)("maintenanceSystemText"),"text",!1),L.appDispatchers.setIsInputDisabled(!0)}},{key:"deleteMaintenanceMessage",value:function(){F.log("deleteMaintenanceMessage");var e=y.default.getSystemMessageByText((0,C.default)("maintenanceSystemText"));(0,r.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"destroyByType",value:function(e){var t=y.default.getMessagesByType(e);(0,r.default)(t).call(t,(function(e){e&&e.destroy()}))}},{key:"markdownMessage",value:function(e){F.log("markdownMessage",e),L.messagesDispatchers.addMessage({type:k.MessageType.MESSAGE,text:e,from:k.MessageInitiator.AGENT,body:{customerIO:!0,unsave:!0}})}},{key:"systemCallMessage",value:function(e,t){var n=y.default.getLastMessage();(!n||n&&n.get("text")!==e)&&this.systemMessage(e,t)}},{key:"sendClientMessage",value:function(e,t){var n=this;0===y.default.getClientMessages().length?j.default.getStatus((function(){n.sendClientMessageCheck(e,t)})):this.sendClientMessageCheck(e,t)}},{key:"sendClientMessageCheck",value:function(e,t){if(t){var n=P.default.getInstance();if(n)n.managers.connection.provider.setLastError(null)}if(m.default.bots)return this._sendClientMessageBase(e,t),void(m.default.enable_bot_offline||this.handleContactsForm());f.default.is_online?this._sendClientMessageBase(e,t):(this._sendClientMessageBase(e,t),this.handleContactsForm())}},{key:"sendOfflineMessage",value:function(e){F.log("sendOfflineMessage",e),f.default.chat_started=!0,L.appDispatchers.setLastChatOpened(!0);var t=y.default.getLastMessage();this.saveLastSystemMessage();var n,a=(0,g.generateGUID)();if(!this.mediaFile){var i={from:k.MessageInitiator.CLIENT,text:e,type:k.MessageType.MESSAGE,private_id:a,status:k.MessageStatus.SENT};n=y.default.push(i),L.messagesDispatchers.addMessage(i,!0)}var r=this._createOfflineMessage(e,a);this.mediaFile&&(r.media=this.mediaFile.file,r.private_id=this.mediaFile.privateId,this.mediaFile=!1);var o=P.default.getInstance();o&&o.managers.connection.send(r);this.checkIfMessageIsDelivered(n);var l=this.getOfflineSuccessText(),u=this.checkIfMessageExists(k.MessageType.SYSTEM,l);(0,h.getClient)().isIntroduced&&u&&y.default.getClientMessages().length>=1&&t&&(this.equalMessages(t.toJSON(),u)&&M.Monitoring.telemetryOnce(x.TelemetryName.NEWOFFLINE_MESSAGE_AFTER_FORM));_.default.trackOfflineMessageSent()}},{key:"offlineAck",value:function(e){F.log("offlineAck"),(0,g.isEmpty)(this.cacheOfflineMsg)&&!e||(w.Router.getCurrentRoute()===S.Route.CHAT||v.default.mobileOrTablet()||w.Router.next(S.RouterEvent.ToChat),this.cacheOfflineMsg=e)}},{key:"sendNoAgentsOnline",value:function(){m.default.bots||m.default.enable_bot_offline||this.systemMessageOnce((0,C.default)("offlineForceOfflineMessage"))}},{key:"handleContactsForm",value:function(){if(!(0,h.getApp)().isOnline&&!(0,h.getClient)().isIntroduced&&y.default.getClientMessages().length&&y.default.getOfflineTmpMessage()){F.warn("handleContactsForm");var e=y.default.getFormMessage();if(0===e.length)this.startFormSequence((0,C.default)("offlineIntroductionText")),M.Monitoring.telemetryOnce(x.TelemetryName.NEWOFFLINE_FIRST_MESSAGE);else{var t=y.default.getFormIntroduceText();t.length&&t[0].set("created_ts",(new Date).getTime()),e[0].set("created_ts",(new Date).getTime()),this.setInputDisabled(!0)}}}},{key:"handleBotContactsForm",value:function(){F.log("handleBotContactsForm"),!(0,h.getClient)().isIntroduced&&m.default.bots&&m.default.enable_bot_offline&&0===y.default.getFormMessage().length&&(this.startFormSequence(),M.Monitoring.telemetryOnce(x.TelemetryName.NEWOFFLINE_FIRST_MESSAGE))}},{key:"sendTemporaryMessage",value:function(e){var t=e.get("text");F.log("sendTemporaryMessage",t);var n=e.get("body"),a=this._createOfflineMessage(t);this._formatMediaForOfflineMessage(a,n);var i=P.default.getInstance();i&&i.managers.connection.send(a);_.default.trackOfflineMessageSent(),this._swapTemporaryOfflineMessage(a),(0,I.prechatSetUsed)(!1)}},{key:"setInputDisabled",value:function(e){F.log("setInputDisabled",e),L.appDispatchers.setIsInputDisabled(e)}},{key:"equalMessages",value:function(e,t){return!(!e||!t||e.type!==t.type||e.text!==t.text)}},{key:"checkIfMessageIsDelivered",value:function(e){F.log("checkIfMessageIsDelivered"),(0,l.default)((function(){e&&!e.get("msg_id")&&e.set("status",k.MessageStatus.NOT_DELIVERED)}),2e3)}},{key:"sendTempMessageAsClientMessageIfNeeded",value:function(){var e=this,t=y.default.getTemporaryMessages();F.warn("sendTempMessageAsClientMessageIfNeeded",t),t&&(0,r.default)(t).call(t,(function(t){if(t){var n=t.get("text");t.destroy(),e.sendClientMessage(n,t.get("private_id"))}}))}},{key:"_swapTemporaryOfflineMessage",value:function(e){if(F.log("_swapTemporaryOfflineMessage"),e){var t=y.default.getTemporaryMessageWithText(e.message);if(e&&t){var n=t.get("body");n&&n.file?t.set("type",k.MessageType.MEDIA):t.set("type",k.MessageType.MESSAGE),t.set("private_id",e.private_id),t.set("status",k.MessageStatus.SENT)}this.checkIfMessageIsDelivered(t)}}},{key:"_fakeOfflineMessage",value:function(e){F.log("_fakeOfflineMessage",e),f.default.chat_started=!0,L.appDispatchers.setLastChatOpened(!0);var t={from:k.MessageInitiator.CLIENT,text:e,type:k.MessageType.TEMPORARY};this.mediaFile&&(t.media=this.mediaFile.file,t.private_id=this.mediaFile.privateId,this.mediaFile=!1),t=y.default.push(t),L.messagesDispatchers.addMessage(t,!0)}},{key:"_createOfflineMessage",value:function(e,t){F.log("_createOfflineMessage");var n={name:"offline_message",message:e||"",email:d.default.client_info.email,phone:d.default.client_info.phone,client_name:d.default.client_info.client_name,cap_symbols:"",from_online:!1,description:d.default.client_info.description,accept_eula:m.default.eula&&f.default.eula_accepted||null,private_id:t||(0,g.generateGUID)()};return(0,I.prechatUsed)()&&(n.is_prechat_btn=!0),n}},{key:"_formatMediaForOfflineMessage",value:function(e,t){if(e&&t&&t.file_url){var n=(0,g.getUrlEmoji)(t.type,t.file_url),a=(0,i.default)({},t);a.file=t.file_url,delete a.file_url,a.type=(0,g.detectType)(t.type),e.message=n,e.media=a}}},{key:"setListpickerAnswer",value:function(e,t){F.log("setListpickerAnswer",e,t);var n=y.default.getMessageById(e);if(n){n.set("body.answer_id",t);var a=n.get("body.keyboard")[t];n.set("body.keyboard",[a]),n.get("body.force_reply")&&n.set("body.force_reply",null),n.destroy(),this.setInputDisabled(!1)}}},{key:"hideEmailForm",value:function(){var e=y.default.getMessagesByType("email");e.length&&e[e.length-1].destroy()}},{key:"addMessagesOnOpen",value:function(e){this.deleteUnansweredOfflineSystemInvite(),e?this.addPrechatMessage():this.offlineSystemInvite()}},{key:"addWebRTCCallMessage",value:function(){F.warn("addWebRTCCallMessage");var e=P.default.getInstance().reduxStore.getState().chats,t=e[e.length?e.length-1:0],n=t&&t.joinedAgents[0],a=(0,g.generateGUID)(),i={from:k.MessageInitiator.AGENT,type:k.MessageType.WEB_RTC_CALL,from_id:n,private_id:a,body:{webRTCCallStatus:B.WebRTCCallStatus.INITIAL}};L.messagesDispatchers.addMessage(i),L.callbackDispatchers.setActiveWebRTCCallMessageId(a)}},{key:"readProactive",value:function(){b.default.get("text")&&b.default.get("status")!==k.MessageStatus.READ&&L.proactiveDispatchers.setStatus(k.MessageStatus.READ)}}]),e}());t.messageActions=H},92234:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78580)),r=a(n(51942)),o=a(n(69961)),l=a(n(99357)),u=a(n(62652)),s=a(n(47321)),c=a(n(58061)),d=a(n(40695)),f=n(92097),p=n(17674),h=n(85442),g=n(75245),m=a(n(75119)),v=n(33367),_=n(63242),y=n(8565),b=n(81189),E=n(42796),C=n(56602),T=n(53172),w=n(20965),S=a(n(75043)).default.name("ruleActions"),k=function(){(0,T.getApp)().isOnline&&g.messageActions.deleteUnansweredOfflineSystemInvite(),p.Router.getCurrentRoute()!==h.Route.LABEL||c.default.mobileOrTablet()||(p.Router.next(h.RouterEvent.ToChat),b.transitionDispatchers.startTransition(E.ScriptName.OPEN_WIDGET),g.messageActions.readProactive())},I={proactive:function(e,t,n){S.log("proactive",t),(0,r.default)(o.default,t);var a=o.default.toReduxFormat();a.isBot?(b.botsDispatchers.addBot({avatarUrl:a.avatarUrl,id:a.id,name:a.name,title:a.title,isBot:!0}),b.chatsDispatchers.setJoinedBots([a.id])):(b.agentsDispatchers.addAgent(a),b.chatsDispatchers.addJoinedAgent(a.id));var i=(new Date).getTime(),l={text:e,name:n,createdTs:i,privateId:(0,C.generateGUID)(),status:y.MessageStatus.EMPTY,agentId:t&&t.agent_id?t.agent_id:null};b.proactiveDispatchers.addProactive(l,t),b.userDispatchers.setCallHeaderText(null),k(),s.default.sendUpdateProactive(),(0,f.updatePrechatTime)(i);var u=l.text===(0,m.default)("defRuleInvitationText")?"default":"custom";v.Monitoring.telemetry(_.TelemetryName.CHAT_INVITE,{param1:u})},showCallForm:function(e,t){s.default.requestCWAvailable((function(){var n;if(S.log("requestCWAvailable: ",(0,T.getCallback)().available),v.Monitoring.telemetry(_.TelemetryName.CWP_SHOW_ON_PROACTIVE),(0,i.default)(n=[w.CallPopupStatus.ENABLED,w.CallPopupStatus.ONLY_TRIGGERS]).call(n,(0,T.getCallback)().separateForm))return b.userDispatchers.setCallHeaderText(e),p.Router.next(h.RouterEvent.ToCallPopup),void("function"==typeof t&&t());(0,T.getCallback)().available&&(0,T.getApp)().route==h.Route.LABEL&&(b.userDispatchers.setCallHeaderText(e),!c.default.mobileOrTablet()&&p.Router.next(h.RouterEvent.ToCall),b.transitionDispatchers.startTransition(E.ScriptName.OPEN_WIDGET),"function"==typeof t&&t())}))},systemMessage:function(e){if(!o.default.bot_id){var t=l.default.getLastMessage();t&&t.get("type")===y.MessageType.SYSTEM&&t.get("text")===e&&t.destroy();var n={type:y.MessageType.SYSTEM,text:e};u.default.chat_started||(n.body={unsave:!0}),b.messagesDispatchers.addMessage(n),k()}},systemMessageEmail:function(e){b.messagesDispatchers.addMessage({type:"email",text:e,body:{unsave:!0}}),k(),d.default.trackSystemMessageEmailShown()},openOffline:function(){g.messageActions.offlineSystemInvite(!0),k()}};t.default=I},40695:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),r=a(n(81643)),o=a(n(78914)),l=n(56602),u=a(n(62904)),s=a(n(75043)).default.name("analytics"),c={counters:{ya:0,fb:0,ga:0},isUtmz:!1,_yaCounter:[],_trackedEvents:[],getCountersTelemetry:function(){return{param2:this.counters.ya,param3:this.counters.fb,param4:this.counters.ga}},getAnalyticsClientId:function(){var e,t=(0,l.getPageWindow)(),n={};if("function"==typeof t.ga){var a;if("function"==typeof t.ga.getAll)(0,o.default)(a=t.ga.getAll()).call(a,(function(e){n.ga||(n.ga=e.get("clientId"))}));this.counters.ga=1}return(0,o.default)(e=this._yaCounter).call(e,(function(e){t[e]&&"function"==typeof t[e].getClientID&&(n.ym||(n.ym=t[e].getClientID()))})),n},isAnalyticsIdAvaiable:function(){var e=this.getAnalyticsClientId();return s.log("Counters userId",e),!(!u.default.options||!e.ga&&!e.ym)&&e},init:function(){try{var e=(0,l.getPageWindow)();for(var t in e)0===(0,r.default)(t).call(t,"yaCounter")&&"function"==typeof e[t].reachGoal&&(this._yaCounter.push(t),this.counters.ya=1);s.log("Active Yandex counters: ",this._yaCounter.length)}catch(e){s.log(e.toString())}},_trackEvent:function(e,t){var n;if((0,l.isPaidCustomer)()&&!((0,r.default)(n=this._trackedEvents).call(n,e)>=0)){this._trackedEvents.push(e),s.info("_trackEvent: "+e+"/"+t);var a,u=(0,l.getPageWindow)();if(void 0!==u._gaq&&"function"==typeof u._gaq.push&&u._gaq.push(["_trackEvent","JivoSite",e,t,void 0,!0]),"function"==typeof u.ga&&"function"==typeof u.ga.getAll)(0,o.default)(a=u.ga.getAll()).call(a,(function(n){s.log("track ga:",n.get("name"),e,t),0!==n.get("name").search(/^gtag_/i)&&n.send("event","JivoSite",e,t,{nonInteraction:1})})),this.counters.ga=1;if("function"==typeof u.gtag){var c={event_category:"JivoSite",event_action:e,event_label:t};s.log("track gtag:",c),u.gtag("event","JivoSite",c),this.counters.ga=1}if(u._gaUA_real&&"function"==typeof u._gaUA_real.getAll){var d=u._gaUA_real.getAll();2==d.length&&(d[1].send("event","JivoSite",e,t,{nonInteraction:1}),s.log("Track event to custom tiu client counter",d[1].get("trackingId"),e,t)),this.counters.ga=1}if(u.gaUA&&"function"==typeof u.gaUA.getAll){var f=u.gaUA.getAll();f.length&&f.length>0&&f[1]&&"function"==typeof f[1].send&&(f[1].send("event","JivoSite",e,t,{nonInteraction:1}),s.log("Track event to custom tiu client counter",f[1].get("trackingId"),e,t)),this.counters.ga=1}if(this._yaCounter.length>0){var p,h;e=(0,i.default)(p=["Jivo"]).call(p,e.split(" ")).join("_");var g=(0,l.getPageWindow)();(0,o.default)(h=this._yaCounter).call(h,(function(t){g&&g[t]&&"function"==typeof g[t].reachGoal&&g[t].reachGoal(e)})),this.counters.ya=1}this.trackFBEvents(e)}},_setCustomVar:function(e,t){s.log("_setCustomVar: "+e+"/"+t);var n=(0,l.getPageWindow)();if(void 0!==n._gaq&&n._gaq.push(["_setCustomVar",1,e,t,1]),"function"==typeof n.ga&&n.ga("set",e,t),this._yaCounter.length>0){var a,i={};i[e]=t,(0,o.default)(a=this._yaCounter).call(a,(function(e){n[e].params(i)}))}},trackFBEvents:function(e){var t=(0,l.getPageWindow)().fbq;if(e=e.replace(/ /gi,"_").replace("Jivo_",""),s.log("trackFBEvents",e),!t||1===u.default.site_id)return!1;t("trackCustom","Jivo",{content_name:e}),this.counters.fb=1},trackChatOpenedByClick:function(){this._trackEvent("Chat requested","User clicked chat widget")},trackOfflineFormOpenedByClick:function(){this._trackEvent("Offline form shown","User offline form")},trackOfflineMessageSent:function(){this._trackEvent("Offline message sent","User sent message via offline form")},trackProactiveInvitationShown:function(e){this._trackEvent("Proactive invitation shown",e)},trackProactiveInvitationAccepted:function(e){this._trackEvent("Proactive invitation accepted",e)},trackProactiveInvitationRejected:function(e){this._trackEvent("Proactive invitation rejected",e)},trackChatConnected:function(){this._trackEvent("Chat established","User connected to agent")},trackGaveContacts:function(){var e="User gave contacts during chat";this._trackEvent(e,e)},trackCallWidgetInvitationShown:function(e){this._trackEvent("Callback invitation shown",e)},trackCallWidgetRequested:function(){this._trackEvent("Callback requested","User request callback.")},setABTestGroupContacts:function(e,t){this._setCustomVar(e,t)},trackSystemMessageEmailShown:function(){var e="In-chat email form shown";this._trackEvent(e,e)},trackSystemMessageEmailSubmitted:function(){var e="In-chat email form submitted";this._trackEvent(e,e)},trackContinueInSocial:function(e){this._trackEvent("Continue in social","User clicked ".concat(e," button"))},trackMobileSocial:function(e){var t=this.getSocialName(e);this._trackEvent("Jivo_".concat(t),"User tap ".concat(t," mobile link"))},trackSocial:function(e){var t=this.getSocialName(e);this._trackEvent("Jivo_".concat(t),"User click ".concat(t," label link"))},trackClientInitChat:function(){this._trackEvent("Client initiate chat","Client initiate chat")},trackClientAnswerAgentChatRequest:function(){var e="Client answer on agent request";this._trackEvent(e,e)},trackMobileCallClick:function(){this._trackEvent("Mobile call","Mobile call")},trackCallClick:function(){this._trackEvent("Callback button","User requested callback form")},trackPrechatClick:function(e){this._trackEvent("Prechat phrase clicked",e)},getSocialName:function(e){switch(e){case"vk":return"Vkontakte";case"fb":return"Facebook";case"wa":return"WhatsApp";case"tg":return"Telegram";case"vb":return"Viber";default:return e}}};t.default=c},5505:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t._callUserFunction=F,t.default=void 0;var i=a(n(41511)),r=a(n(33032)),o=a(n(81643)),l=a(n(23765)),u=a(n(62904)),s=n(56602),c=a(n(86999)),d=a(n(58061)),f=a(n(36216)),p=a(n(44299)),h=a(n(40695)),g=a(n(27968)),m=a(n(62652)),v=a(n(47321)),_=n(17674),y=n(85442),b=n(75245),E=a(n(49173)),C=n(33367),T=n(63242),w=a(n(99357)),S=a(n(94686)),k=a(n(6991)),I=n(60906),A=n(51139),M=n(81189),x=n(42796),R=n(11470),O=n(94515),N=a(n(93268)),D=a(n(81574)),L=n(53793),P=(n(53172),a(n(531))),B=a(n(75043)).default.name("api"),j={open:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_OPEN,{param1:e},T.RateLimit.High),N.default.get("is_blacklisted"))return{result:"fail"};var t=(0,s.getPageWindow)();t.jivo_cstm_widget&&d.default.mobileOrTablet()&&(t.jivo_cstm_widget.style.display="block");var n="object"===(0,l.default)(e);return n&&"call"===e.start?u.default.callback_settings.time?(_.Router.getCurrentRoute()===y.Route.CALL||(p.default.allRulesCancel(),v.default.pingAndOpenCall()),{result:"ok"}):(B.info("Callback is disabled."),{result:"fail",reason:"Callback is disabled"}):_.Router.getCurrentRoute()==y.Route.CHAT?{result:"ok",opened:!0}:(m.default.is_focused=1,n&&"menu"===e.start?d.default.mobile()&&k.default.getJoints().count>0?(M.appDispatchers.setChatOpenByClient(!1),_.Router.next(y.RouterEvent.ToMobileMenu)):(M.transitionDispatchers.startTransition(x.ScriptName.OPEN_WIDGET),_.Router.next(y.RouterEvent.ApiOpen)):(d.default.desktop()&&M.transitionDispatchers.startTransition(x.ScriptName.OPEN_WIDGET),_.Router.next(y.RouterEvent.ApiOpen)),b.messageActions.offlineSystemInvite(),b.messageActions.addPrechatMessage(),t.jivo_cstm_widget&&d.default.mobileOrTablet()&&(m.default.is_online?h.default.trackChatOpenedByClick():h.default.trackOfflineFormOpenedByClick()),{result:"ok"})},close:function(){var e;if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_CLOSE,{},T.RateLimit.High),N.default.get("is_blacklisted"))return{result:"fail"};if((0,o.default)(e=[y.Route.LABEL,y.Route.CHAT_MIN]).call(e,m.default.route)>=0)return{result:"ok",closed:!0};if(v.default.closeWidget(),d.default.mobileOrTablet())_.Router.next(y.RouterEvent.CloseWindow);else{var t=m.default.chat_accepted?x.ScriptName.MINIMIZE_WIDGET:x.ScriptName.CLOSE_WIDGET;M.transitionDispatchers.startTransition(t)}return{result:"ok"}},getContactInfo:function(){C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_CONTACT_INFO,{},T.RateLimit.Low);var e=f.default.client_info;return{client_name:e.client_name,email:e.email,phone:e.phone,description:e.description}},getVisitorNumber:function(e){B.log("getVisitorNumber",e);var t=f.default.client_id;t&&(0,o.default)(t).call(t,".")>0&&"function"==typeof e?(0,r.default)((function(){e(null,t.split(".").shift())}),0):e&&"function"==typeof e?(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_VISITOR_NUMBER,{},T.RateLimit.Low),E.default.getVisitorNumber((function(t,n){B.log(t,n),t?B.log("Error fetch visitor number."):n&&("object"===(0,l.default)(n)&&n.result&&"client_id"in n?(f.default.client_id||M.clientDispatchers.setClientId(n.client_id),"function"==typeof e&&e(null,f.default.client_id.split(".").shift())):B.error("Error fetching visitor number"))}))):B.error("Please provide callback function in jivo_api.getVisitorNumber(callback)")},setUserToken:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_USER_TOKEN,{},T.RateLimit.High),"string"==typeof e||e instanceof String){var t;if(e==f.default.user_token)t={result:"fail",error:"Cant set same token: ".concat(e)};else{M.clientDispatchers.setUserToken(e);var n=D.default.getInstance();if(n){var a=n.managers.connection;a&&a.isOpen()?(a.send(new L.UpdateUserToken(e)),B.log("Token updated, token: ".concat(e))):B.log("Token set, but was not sent to the server")}t={result:"ok",token:e||!1}}return!u.default.enable_api_invitation&&O.EnvironmentManager.isProduction()||m.default.chat_started||I.ApiInvitationsManager.initialize(e),t}return B.error("Bad token. The token must be type of string"),{result:"fail",token:e||!1}},setCustomData:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CUSTOM_DATA,{},T.RateLimit.Low),u.default.webhooks_enabled)return{result:"fail",reason:"Webhooks enabled. You must disable it to use setCustomData"};var t=this.validateCustomData(e);if((0,i.default)(t)){var n=D.default.getInstance();if(n){var a=n.managers.connection;a&&a.isOpen()&&a.send(new L.UpdateCustomData(t)),M.clientDispatchers.setCustomData(t)}return{result:"ok"}}return B.error("Invalid custom data.",t),{result:"fail",reason:t}},validateCustomData:function(e){var t="";if(!(0,i.default)(e))return"Data must be array.";(0==e.length||e.length>10)&&(t+="Data limit error, data length  must be 1 to 10.");for(var n=0;n<e.length;n++){var a;if("string"!=typeof e[n].content&&(t+="Property content must be string. "),e[n].link)if(u.default.api_domain&&"string"==typeof e[n].link)-1===(0,o.default)(a=e[n].link).call(a,u.default.api_domain)&&delete e[n].link;else delete e[n].link}return""==t?e:t},sendMessage:function(e){if("string"!=typeof e||"[object Object]"===Object.prototype.toString.call(e))return{result:"fail",error:"First argument must be text to send message."};var t=w.default.getClientMessages();return t.length&&e==t[t.length-1].get("text")?{result:"fail",error:"You cannot send 2 messages in a row"}:(b.messageActions.sendClientMessage(e),C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_MESSAGE),{result:"ok"})},setContactInfo:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CONTACT_INFO,{},T.RateLimit.Low),e&&"object"===(0,l.default)(e)){B.log("setContactInfo",e);var t={},n=!1,a="";for(var i in e)if({}.hasOwnProperty.call(e,i)){var r=e[i],o=i;"name"==o&&(o="client_name"),r&&S.default[o]&&S.default[o](r)?(t[i]=r,n=!0):(B.error(o+" not valid."),a+=o+" not valid.")}return n?(this._sendIntroduce(t),{result:"ok",data:t}):(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CONTACT_INFO_BAD_DATA,{},T.RateLimit.High),B.error("setContactInfo bad data",e),{result:"fail",error:a})}},_sendIntroduce:function(e){if(e.isEmailSubmitted&&h.default.trackSystemMessageEmailSubmitted(),B.log(e),(0,P.default)(e,this.lastContactParams))B.error("setContactInfo same client contacts",e);else{var t={client_name:e.name||e.client_name,phone:e.phone,email:e.email,description:e.description};e.message&&(t.message=e.message),this.lastContactParams=e,v.default.setClientContactInfo(t,!0)}},showProactiveInvitation:function(e,t){(0,R.isYandexMarketClient)(f.default.utm)?B.log("Disabled for YM clients"):(0,s.isPaidCustomer)()?(C.Monitoring.telemetryOnce(T.TelemetryName.API_SHOW_PROACTIVE),p.default.showProactive(e,t,"jivo_api.showProactiveInvitation")):B.log("Proactive disabled for free users.")},highlightCobrowse:function(e,t,n){if(!e)return!1;g.default.getCobrowseData(e,t,n)},sendOfflineMessage:function(e){if(C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_OFFLINE_MESSAGE),B.log("sendOfflineMessage",e),m.default.is_online)return{result:"fail",error:"Error send offline message when chat is online."};if(e&&"object"===(0,l.default)(e)){B.log("sendOfflineMessage",e);var t="";for(var n in e)if({}.hasOwnProperty.call(e,n)){var a=e[n],i=n;"name"==i&&(i="client_name"),a&&S.default[i]&&S.default[i](a)||(B.error(i+" not valid."),t+=i+" not valid. ")}return""==t?(this._sendIntroduce(e),h.default.trackOfflineMessageSent(),{result:"ok"}):(B.warn("sendOfflineMessage bad data",e),C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_OFFLINE_MESSAGE_BAD_DATA),{result:"fail",error:t})}return{result:"fail",error:"Invalid params for offline message"}},setRules:function(e){return C.Monitoring.telemetryOnce(T.TelemetryName.API_SET_RULES),e&&"object"===(0,l.default)(e)?(u.default.rules=e,{result:"ok"}):(B.error("Invalid type of rules, must be object."),{result:"fail"})},chatMode:function(){return C.Monitoring.telemetryWithProbability(T.TelemetryName.API_CHAT_MODE,{},T.RateLimit.Low),u.default.chat_mode},setWidgetColor:function(e,t){C.Monitoring.telemetryOnce(T.TelemetryName.API_SET_WIDGET_COLOR);var n=c.default.isLightColor(e)?"dark":"light";M.userDispatchers.setWidgetColor(e),M.userDispatchers.setWidgetColor2(t||null),M.userDispatchers.setWidgetFontColor(n)},sendPageTitle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&"string"==typeof e?(v.default.updateTitle(e,n),t&&C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_PAGE_TITLE),{result:"ok"}):{result:"fail",reason:"Invalid title"}},isCallbackEnabled:function(e){"function"==typeof e&&(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_IS_CALLBACK_ENABLED,{},T.RateLimit.High),(0,s.isEmpty)(u.default.callback_settings)?e({result:"fail",reason:"Callback disabled"}):v.default.requestApiCWAvailable(e))},startCall:function(e){if(B.log("api startCall",e),!f.default.cw_call_enabled||(0,s.isEmpty)(u.default.callback_settings))return{result:"fail",reason:"Callback disabled"};if(e){var t=(0,A.getPhoneNumberInfo)(e);return t?(e="+"+t.number,_.Router.next(y.RouterEvent.ToCall),v.default.startCall(e,"from_api"),{result:"ok"}):{result:"fail",reason:"Invalid phone"}}return{result:"fail",reason:"Invalid phone"}},getUtm:function(){C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_UTM,{},T.RateLimit.High);var e=f.default.utm;return{term:e.keyword||null,campaign:e.campaign||null,content:e.content||null,medium:e.medium||null,source:e.source||null}},getUnreadMessagesCount:function(){return w.default.getUnreadMessage().length},clearHistory:function(){v.default.clearHistory()}};function F(e,t){if(B.log("_callUserFunction",e,t),e="jivo_"+e,"function"==typeof window.parent.window[e])try{B.log("JIVO: calling user function "+e),window.parent.window[e](t),B.log("JIVO: user function "+e+" returned"),C.Monitoring.telemetryWithProbability(e,{},T.RateLimit.Low)}catch(e){B.log("ERROR: _callUserFunction",e)}}t.default=j,_.Router.on("route_change",(function(e){F("onChangeState",e),_.Router.isChatInputRoute(e)&&I.ApiInvitationsManager.markInvitationsRead()}))},27968:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(86902)),r=a(n(77766)),o=a(n(33032)),l=a(n(23765)),u=a(n(81643)),s=a(n(59748)),c=a(n(59748)),d=a(n(75119)),f=n(56602),p=n(99112),h=a(n(4620)),g=a(n(58061)),m=a(n(62904)),v=a(n(62107)),_=a(n(90842)),y=a(n(93867)),b=n(33367),E=a(n(49043)),C=n(63242),T=n(94515),w=a(n(41829)),S=a(n(16810)),k=a(n(75043)).default.name("cobrowse"),I=window.parent.document,A=function(e,t){var n=window.top;"function"==typeof n.history.replaceState?n.history.replaceState({},t,e):"function"==typeof n.history.pushState&&n.history.pushState({},t,e)},M={init:function(){var e,t,n=!1,a={};_.default.install(window.parent),this._process=t=function(t,i){n?(k.log("controller of childSandboxBridge set as for NodeWebkit"),(e=O).setLangpack(a),e.init(),"in_node_webkit"===t&&window.parent.jivo_cobrowse.source.postMessage({name:"widget_ready"},window.parent.jivo_cobrowse.origin)):e=R,e[t]&&"is_node_webkit"!==t&&e[t](i)},(0,f.addListener)(window.parent,"message",(function(e){if(e&&e.data&&"object"===(0,l.default)(e.data)){var i=e.data;-1!==(0,u.default)(v.default).call(v.default,["startSelection","stopSelection","in_node_webkit"],i.name)&&e.source&&e.origin&&(e.source,e.origin,n=!0,i.langpack&&(a=i.langpack),t(i.name,i))}}),!1)},process:function(e,t){this._process||this.init(),this._process(e,t)},create:function(e,t){M.process("highlight",e),M.process("renderTooltip",e),A(t,I.title)},postMessage:function(e){(0,o.default)((function(){window.parent.jivo_cobrowse.source.postMessage(e,window.parent.jivo_cobrowse.origin)}),0)},isNodeWebkit:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNodeWebkit})),isOldCobrowse:function(e){if(10==e.length)return!0;var t=null;try{t=window.atob(e),(0,f.getPageWindow)().document.querySelector(t)}catch(e){t=!1}return!t},getCobrowseData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(k.log("getCobrowseData",e,t,n,a),M.isOldCobrowse(e)){var o=m.default.base_url+"/script/cobrowsing?hash=".concat(e);E.default.get({url:o},(function(n,a){if(n)return i&&i(!1),void b.Monitoring.telemetry(C.TelemetryName.COBROWSE_FAILED);if(a&&v.default.isObject(a)){if(a&&a.isDeleted)return i&&i(!1),void b.Monitoring.telemetry(C.TelemetryName.COBROWSE_FAILED);0===a.comment.length&&(a.comment=(0,d.default)("lblDefaultCobrowseComment")),a.comment=(0,f.stripBrackets)(a.comment),w.default.stopBlinking();var r=(0,f.getPageWindow)().document.location.href.split("#")[0],o=t&&t+"#jvhs_"+e;t&&r!==t&&r!==encodeURI(t)?(0,f.getPageWindow)().document.location.href=o:(i&&(a.cb=i),M.create(a,o))}}))}else{var l=(0,f.getPageWindow)().location.href,u=l.replace((0,f.getPageWindow)().location.hash,"");if(t&&t!==u){var s;(0,f.getPageWindow)().document.location.href=(0,r.default)(s="".concat(t,"#jvhs_")).call(s,e)}else{var c,p=(t=(0,f.getPageWindow)().document.location.href).split("#")[0],h=(0,r.default)(c="".concat(p,"#jvhs_")).call(c,e),g=null;try{g=window.atob(e)}catch(t){return k.error(t),void b.Monitoring.telemetry(C.TelemetryName.COBROWSE_FAILED,{param1:e,param2:t})}M.create({comment:n?(0,f.stripBrackets)(n):(0,d.default)("lblDefaultCobrowseComment"),element:g,hash:e,page:h,show:!0,agentId:a&&a.agentId,agent:a,cb:i},h)}}}};function x(e){var t=function(e){var t="",n=e.split(" > ");return v.default.each(n,(function(e){t+="/*",-1!==(0,u.default)(e).call(e,":")&&(t+="["+e.substr((0,u.default)(e).call(e,"(")+1,(0,u.default)(e).call(e,")")-(0,u.default)(e).call(e,"(")-1)+"]")})),t}(e),n=I.querySelector(e);return n||I.evaluate(t,I,null,_.default.XPathResultType.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}var R={is_inited:!1,isCobrowseVisible:function(e){return(0,p.isVisible)(e)&&"HTML"!=e.tagName&&"hidden"!=e.style.visibility&&"jivo-iframe-container"!=e.id&&"jivo_container"!=e.id},highlight:function(e){if(k.log("highlight"),"cobrowser-iframe"===window.parent.name&&!this.is_inited&&!O.is_inited){var t=I.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",(0,f.staticUrl)((T.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(t),this.is_inited=!0}var n;if(N(n="string"==typeof e.element?x(e.element):e.element)){if(e.hash&&null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash))return this.animateScroll(e);v.default.each(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){v.default.each(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}));var a,i=N(n),r=i.width,l=i.height;if(k.log(n,e),!n||!this.isCobrowseVisible(n))return"cobrowser-iframe"!==window.parent.name&&b.Monitoring.telemetry(C.TelemetryName.COBROWSE_FAILED),void(e.cb&&e.cb(!1));k.log("overlayCreate"),c(),k.log("overlayCss"),s(i,r,l),k.log("overlayAppend"),d(),window.parent&&"cobrowser-iframe"!==window.parent.name&&b.Monitoring.telemetry(C.TelemetryName.COBROWSE_SUCCESS,{param1:e.hash?e.hash.length:0});var u=function(){var t;if(t="string"==typeof e.element?x(e.element):e.element,a||(c(),d()),t){var n=N(t);s(n,n.width,n.height)}if(a)return a};return(0,o.default)((function(){u()}),50),(0,f.addListener)(window.parent,"resize",u),a||void 0}function s(e,t,i){a.style.width=t+"px",a.style.height=i+"px",a.style.left=e.left-8+"px",a.style.top=e.top-8+"px",D(n)&&(a.style.position="fixed")}function c(){a||((a=I.createElement("jdiv")).className="jivo_cobrowsing_element",a.id="jivo_cobrowsing_element_id_"+e.hash,I.body.appendChild(a))}function d(){if(!a){var e=I.createElement("jdiv");a.className="jivo_cobrowsing_element_inner",a.appendChild(e)}}k.log("cobrowse element position failed.")},renderTooltip:function(e){k.log("renderTooltip",e);var t,n=null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash);if(!1!==n)return this.animateScroll(e),n;if(!(t="string"==typeof e.element?x(e.element):e.element)||!this.isCobrowseVisible(t))return k.log("Error render tooltip, element not visible"),void(e.cb&&e.cb(!1));var a=I.createElement("jdiv");a.className="",a.id="jivo_content_cobrowsing_tooltip",a.style.width="100%",a.style.height="auto";var i=I.createElement("jdiv");return i.className="jivo_cobrowsing_tooltip",g.default.mobile()&&(i.style.width="200px"),i.id="jivo_cobrowsing_tooltip_"+e.hash,D(t)&&(i.style.position="fixed"),i.appendChild(a),e.show&&(i=this.addTooltipContent(i,e,t),e.cb&&e.cb(!0)),i},appendTooltip:function(e,t){var n=e.childNodes[0];I.body.appendChild(e);var a=function(){if((0,p.addClass)(n,"jivo-bottom"),(0,p.removeClass)(n,"jivo-top jivo-left jivo-right"),t){var a=N(t),i=(0,f.getPageWindow)(),r=a.width,o=a.height,l=a.left+r/2,u=a.top-30+15,s=N(e),c=N(n),d=i.innerWidth||i.outerWidth,h=s.width/2*-1;u<c.height+10?(u=a.top+o+10,n.className+=" jivo-top"):(n.style.position="absolute",n.style.bottom="10px"),l+h<10&&(l=35,h=0,n.className+=" jivo-left"),g.default.mobile()?l+s.width+h>d&&(h=0,l=d-s.width):l+s.width>d&&(h=-1*s.width,l=a.left+r-30,n.className+=" jivo-right"),e.style.left=(0!==l?l:35)+"px",e.style.top=u+"px",e.style.marginLeft=h+"px"}};a(),e.style.opacity=0,this.animateScroll(null,t,n),(0,o.default)((function(){a(),e.style.opacity=1}),300),(0,f.addListener)(window.parent,"resize",a)},addTooltipContent:function(e,t,n){k.log("addTooltipContent",t);var a=e.childNodes[0],i=32&m.default.options&&t.agent,o=I.createElement("jdiv");o.dir="ltr",o.id="jivo_action",o.className="jivo-desktop";var l=window.parent.document.createElement("jdiv");if(l.id="jivo_close_button",l.innerHTML=y.default,o.appendChild(l),a.appendChild(o),l.addEventListener("click",(function(n){n.preventDefault();var a,i,r,o=I.getElementsByClassName("jivo_cobrowsing_element")[0];o.parentNode.removeChild(o),a=t.hash,r=window.top,(0,u.default)(i=r.location.href).call(i,"#jvhs_"+a)>0&&A(r.location.href.replace("#jvhs_"+a,""),(0,f.getCurrentPage)().title),e.parentNode.removeChild(e)})),i&&t.agent){if(t.agent.avatar_url){var d,p,h=I.createElement("jdiv");h.className="jivo_cobrowsing_tooltip_avatar",a.appendChild(h),c.default.render(s.default.createElement(S.default,{dark:!1,inChat:!0,url:(0,r.default)(d=(0,r.default)(p="".concat((0,f.getProtocol)())).call(p,m.default.avatar_url,"/avatars/")).call(d,t.agent.avatar_url)}),h)}var g=I.createElement("jdiv");g.innerText=t.agent.display_name,g.className="jivo_cobrowsing_tooltip_agent",a.appendChild(g)}var v=I.createElement("jdiv");return v.innerHTML=t.comment.split("\n").join("<br />"),v.className="jivo_cobrowsing_tooltip_text",a.appendChild(v),this.appendTooltip(e,n),e},animateScroll:function(e,t,n){if(e&&(t=I.getElementById("#jivo_cobrowsing_element_id_"+e.hash),n=I.getElementById("#jivo_cobrowsing_tooltip_"+e.hash).childNodes[0]),D(t))k.log("Ignore scroll for fixed element");else{var a={top:(n&&(0,p.hasClass)(n,"jivo-top")?N(t).top:N(n.parentNode).top)-300};I.documentElement&&"scrollBehavior"in I.documentElement.style&&(a.behavior="smooth"),k.log("scrollTo",a),window.parent.scrollTo(a)}}},O={is_selecting:!1,is_tooltip_open:!1,is_inited:!1,langpack:{},init:function(){if(!this.is_inited){var e=I.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",(0,f.staticUrl)((T.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(e),(0,f.removeEvent)(window.parent,"keydown",this.keydownListener),(0,f.addListener)(window.parent,"keydown",this.keydownListener),this.is_inited=!0}},keydownListener:function(e){27===e.keyCode&&O.onEsc()},setLangpack:function(e){this.langpack=e},i18n:function(e){return this.langpack[e]?this.langpack[e]:e},startSelection:function(){var e=O;(0,p.addClass)(I.body,"jivo_selecting"),e.is_selecting=!0,v.default.each(["input","textarea","select","button"],(function(e){v.default.each(I.getElementsByTagName(e),(function(e){var t=I.createElement("jdiv"),n=N(e);t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.position="absolute",t.realNode=e,e.disabled=!0,I.body.appendChild(t)}))})),v.default.each(I.getElementsByTagName("*"),(function(t){(0,f.addListener)(t,"mouseover",e.mouseoverListener),(0,f.addListener)(t,"mouseout",e.clearSelection)}))},stopTagsA:function(){v.default.each(I.getElementsByTagName("a"),(function(e){(0,f.addListener)(e,"click",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))}))},mouseoverListener:function(e){var t=O;if("OPTION"===this.tagName)return!1;t.clearSelection(),R.highlight({element:e.target}),t.stopTagsA(),(0,f.removeEvent)(e.currentTarget,"click",t.clickListener),(0,f.addListener)(e.currentTarget,"click",t.clickListener)},clickListener:function(e){var t=O;e.preventDefault(),e.stopPropagation();var n=this.realNode?this.realNode:this;t.stopSelection(),t.toolTip(n)},stopSelection:function(){var e=O;(0,p.removeClass)(I.body,"jivo_selecting"),v.default.each(["input","textarea","select","button"],(function(e){v.default.each(I.getElementsByTagName(e),(function(e){e.disabled=!1}))})),v.default.each(I.getElementsByClassName("fake_cb_element"),(function(e){e.parentNode.removeChild(e)})),v.default.each(I.getElementsByTagName("*"),(function(t){(0,f.removeEvent)(t,"mouseover",e.mouseoverListener),(0,f.removeEvent)(t,"mouseout",e.clearSelection),(0,f.removeEvent)(t,"click",e.clickListener)})),e.is_selecting=!1},clearSelection:function(){v.default.each(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){v.default.each(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}))},toolTip:function(e){var t=O,n=R.renderTooltip({element:e}),a=n.childNodes[0];n.className+=" air",n.style.width="auto",a.style.padding="8px",a.style.width="auto",a.style.backgroundColor="";var i=I.createElement("textarea");i.id="cobrowsing_textarea_comment",i.maxLength=200,i.placeholder=t.i18n("cb_enterComment"),i.value="",i.onkeypress=function(n){13===n.keyCode&&(n.preventDefault(),n.stopPropagation(),t.send(e))},t.textInput=i;var r=I.createElement("button");r.className="btn btn-mimi blue on_dark large",r.innerText=t.i18n("cb_send"),r.style.float="right",r.style.position="relative",r.style.marginRight="8px",r.onclick=function(){t.send(e)};var o=I.createElement("button");o.className="btn btn-mimi grey on_dark large",o.innerText=t.i18n("cb_cancel"),o.style.float="right",o.style.position="relative",o.style.marginRight="5px",o.onclick=function(){t.closeTooltip()};var l=I.createElement("jdiv");l.style.clear="both",a.appendChild(i),a.appendChild(o),a.appendChild(r),a.appendChild(l),R.appendTooltip(n,e),i.focus(),t.is_tooltip_open=!0},send:function(e){var t=this.textInput.value;t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var n={name:"on_send",page_element:function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,a=e;a.previousElementSibling;a=a.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t.join(" > ")}(e),page_url:window.parent.location.href,comment:t};k.log("postMessage",n),M.postMessage(n),g.default.supportsLocalStorage()?window.parent.localStorage.removeItem("jv_".concat(m.default.widget_id,"_tmp_app")):h.default.get("store_".concat(m.default.widget_id,"_tmp_app"),null)},closeTooltip:function(){var e=O;e.stopSelection(),e.is_tooltip_open=!1,e.startSelection(),M.postMessage({name:"on_cancel"})},onEsc:function(){this.is_tooltip_open?this.closeTooltip():this.is_selecting?(this.stopSelection(),M.postMessage({name:"reset"})):M.postMessage({name:"close"})}};function N(e){var t,n,a=0,i=0,r=0,o=0,l={top:0,left:0},u=I,s=u.body;return t=u.documentElement,e&&void 0!==e.getBoundingClientRect?(l=e.getBoundingClientRect(),e&&!D(e)&&(n=(0,f.getPageWindow)(),a=t.clientTop||s.clientTop||0,i=t.clientLeft||s.clientLeft||0,r=n.pageYOffset||t.scrollTop,o=n.pageXOffset||t.scrollLeft),{top:l.top+r-a,left:l.left+o-i,right:l.right,width:e.offsetWidth,height:e.offsetHeight,windowWidth:s.innerWidth,windowHeight:s.innerHeight}):(b.Monitoring.telemetry(C.TelemetryName.COBROWSE_FAILED),!1)}function D(e){var t=!1;if(e)for(var n=e,a=[];n&&"HTML"!==n.tagName;){if(a.unshift(n),window.parent.window.Polymer&&!window.parent.jivo_cobrowse&&n.treeScope_){var r=n[(0,i.default)(n)[0]];"fixed"===getComputedStyle(r).position&&(t=!0)}else"fixed"===getComputedStyle(n).position&&(t=!0);n=n.parentNode}return t}var L=M;t.default=L},62904:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initConfig=function(e){window.parent.jivo_config=u=e},t.getViHost=function(){return u.vi_host},t.getCometHost=function(){return u.comet.host},t.getConfig=function(){return u},t.default=void 0;var i=a(n(51942)),r=n(24335),o=n(81426),l=window.parent||window,u=l.jivo_config;switch(u||(u={}),n.p=(u.static_host||u.base_url)+"/",u.chat_mode){case"online":case 1:u.chat_mode=o.ChatMode.ONLINE;break;case"offline":case 0:u.chat_mode=o.ChatMode.OFFLINE}u.bots&&u.enable_bot_offline&&(u.chat_mode=o.ChatMode.ONLINE),u.callback_settings||(u.callback_settings={}),u.widget_color2||"#383345"!=u.widget_color||(u.widget_color="#2F324A",u.widget_color2="#424867",u.power_gradient=1),u.bubble_color||(u.bubble_color="green"),"[object Object]"===Object.prototype.toString.call(l.wix_context)&&"[object Object]"===Object.prototype.toString.call(l.jivo_wix)&&(0,i.default)(u,l.jivo_wix),l.jivo_in_wix_iframe&&(u.widget_orientation="bottom"),r.isDesignerEditor&&(0,i.default)(u,l._desingerConfig);var s=u;t.default=s},84235:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ACTIVE_TEST=void 0;n(76871);t.ACTIVE_TEST=!1},57018:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.MAX_IMAGE_WIDTH=t.DEFAULT_WIDGET_HEIGHT=t.LABEL_HEIGHT=t.CHAT_WIDTH=t.MINIMAL_WIDGET_HEIGHT=t.MAX_FILE_SIZE=t.MAINT_RECONNECT_TIMEOUT=t.HEADER_HEIGHT=t.CACHE_KEY=t.API_INVITES_CACHE_TIME=t.MP_AGENT_HEIGHT=t.MP_LINE_HEIGHT=t.PROACTIVE_MAX_HEIGHT=t.PROACTIVE_TEXT_LIMIT=t.APP_INVITE_TIME=t.AWAY_CLIENT_TIMEOUT=void 0;t.AWAY_CLIENT_TIMEOUT=144e5;t.APP_INVITE_TIME=8e3;t.PROACTIVE_TEXT_LIMIT=50;t.PROACTIVE_MAX_HEIGHT=74;t.MP_LINE_HEIGHT=19;t.MP_AGENT_HEIGHT=28;t.API_INVITES_CACHE_TIME=18e5;t.CACHE_KEY="api_invites";t.HEADER_HEIGHT=70;t.MAINT_RECONNECT_TIMEOUT=3e5;t.MAX_FILE_SIZE=10485760;t.MINIMAL_WIDGET_HEIGHT=402;t.CHAT_WIDTH=336;t.LABEL_HEIGHT=40;t.DEFAULT_WIDGET_HEIGHT=496;t.MAX_IMAGE_WIDTH=234},18228:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33032)),o=i(n(59340)),l=i(n(23765)),u=i(n(68415)),s=i(n(46849)),c=a(n(62904)),d=n(56602),f=(n(99112),i(n(58061)),i(n(36216))),p=(i(n(62652)),i(n(99357)),i(n(67966)),i(n(35067)),i(n(33535))),h=n(24335),g=n(33367),m=n(63242),v=i(n(9805)),_=(i(n(40695)),i(n(5972)),i(n(14282))),y=(n(57018),n(75737)),b=n(94515),E=(i(n(93268)),i(n(49043)),n(37846),i(n(13106)),n(81189)),C=(i(n(81574)),i(n(75043))),T=(i(n(3283)),C.default.name("CONNECTION"));function w(){var e=[];return b.EnvironmentManager.isProduction()||"https:"===(0,d.getProtocol)()?e.unshift("wss://"+(0,c.getCometHost)()+"/cometcn"):e.unshift("ws://"+(0,c.getCometHost)()+"/cometcn"),e}var S=new u.default({namespace:"CONNECTION",messageBuffer:null,jconnection:null,send:function(e,t){T.log("SEND: ",e,t),this.handle("send",e,t),this.trigger("send",e)},sendIfConnected:function(e){T.log("sendIfConnected",this.isConnected(),e),this.isConnected()&&(this.handle("send",e),this.trigger("send",e))},setupConnection:function(){var e=this;T.log("setupConnection"),this.jconnection||(0,d.isWixEditor)()||h.isDesignerEditor||(T.log("url",w()),this.jconnection=new s.default(w()),this.jconnection.on("connecting",(function(){e.handle("socket_connecting")})),this.jconnection.on("open",(function(){e.handle("socket_connect")})),this.jconnection.on("close",(function(t){e.handle("socket_disconnect",t)})),this.jconnection.on("error",(function(e){T.error(e)})),this.jconnection.on("message",(function(e){var t;try{t=JSON.parse(e)}catch(e){return T.error("parse error",e)}if(!t||"object"!==(0,l.default)(t))return T.error("bad message");t.name&&(T.log(t.name,t),v.default.getInstance().saveSocketEvent(t)),S.handle("socket_message",t)})),this.jconnection.open())},_sendSocketEvent:function(e,t){var n;T.log("_sendSocketEvent",e);try{n=(0,o.default)(e)}catch(e){return t&&t(!1),T.error("stringify error",e)}if("object"==(0,l.default)(e))if("name"in e){var a=this.jconnection.send(n);if(T.log("Sending "+e.name,a),a){var i=!e.implict&&"offline_message"===e.name;("client_message"==e.name||i)&&this.messageBuffer.push(e),T.error("send error",a),t&&t(!1)}else v.default.getInstance().saveSocketEvent(e),t&&t(!0)}else T.error("Attempt to send event without name"),t&&t(!1);else T.error("Socket event must be object"),t&&t(!1)},isConnected:function(){return"CONNECTED"===this.state},setCustomData:function(e){T.log("setCustomData",e,this.isConnected()),this.isConnected()?this.send({name:"update_custom_data",custom_data:e}):(this.custom_data=e,this.emit("update_data"))},setUserToken:function(e,t){T.log("setUserToken",e,f.default.user_token),E.clientDispatchers.setUserToken(e),this.isConnected()?this.send({name:"update_user_token",user_token:e},t):t(!1)},requestTelemetry:function(e){var t=this.jconnection,n={},a=w().join(",");t?(n.Param1=t.url||a,n.Param2=t.state,n.Param3=t.health):n.Param1=a,g.Monitoring.telemetry(e,n)},states:{uninitialized:{_onEnter:function(){this.jconnection&&(this.jconnection.off(),this.jconnection.close(),this.jconnection=null)},send:function(e){this.messageBuffer.push(e),this.transition("CONNECTING")},startup:function(){this.transition("CONNECTING")}},CONNECTING:{_onEnter:function(){},socket_connect:function(){this.transition("STARTING_UP")},send:function(e){this.messageBuffer.push(e)},socket_disconnect:function(e){this.transition("uninitialized"),this.requestTelemetry(m.TelemetryName.DISCONNECTED)},socket_connecting:function(){}},STARTING_UP:{_onEnter:function(){k.call(this)},startup_timeout:function(){this.requestTelemetry(m.TelemetryName.STARTUP_TIMEOUT)},socket_disconnect:function(e){this.transition("uninitialized")},send:function(e){this.messageBuffer.push(e)},socket_message:function(e){"startup_ok"===e.name?(this._cancelEvent("startup_timeout"),this.transition("CONNECTED")):"resume_ok"==e.name?(e&&e.client_info&&e.client_info.msg_history&&this.messageBuffer.validate(e.client_info.msg_history),this.transition("CONNECTED")):"startup_error"===e.name?("maintenance"==e.err_code&&E.appDispatchers.setMaintenance(!0),"moved"==e.err_code&&y.ConfigUtils.reloadConfig((function(e){T.log("Site is moved",e),S._scheduleEvent("startup",5e3)})),this.transition("DISCONNECTING")):"maintenance"===e.name&&this.transition("DISCONNECTING"),this.emit(e.name,e),this.emit("socket_message",e)}},CONNECTED:{_onEnter:function(){this.emit("startup_ok"),this.messageBuffer.flush()},socket_message:function(e){switch(e.name){case"agent_chat_close":c.default.options||(T.log("DISCONNECT FROM chatserver due agent_chat_close!"),this.transition("DISCONNECTING"));break;case"blacklist":this.transition("DISCONNECTING")}this.emit(e.name,e),this.emit("socket_message",e)},send:function(e,t){this._sendSocketEvent(e,t)},socket_disconnect:function(e){T.log("close",e),1e3==e.code&&this.trigger("disconnecting"),this.transition("uninitialized")},startup:function(){this.emit("startup_ok")},socket_connecting:function(){var e=this;(0,r.default)((function(){e.requestTelemetry(m.TelemetryName.JC_RECONNECT)}),2e3),this.transition("CONNECTING")}},DISCONNECTING:{_onEnter:function(){this.jconnection.close(),this.trigger("disconnecting")},socket_disconnect:function(e){this.transition("uninitialized")}}}});function k(){}S.messageBuffer=new _.default(S),S.on("socket_message",(function(e){T.log("socket_message",e),e.method&&p.default[e.params.type]?p.default[e.params.type](e.params.body):e.method?p.default[e.method](e):p.default[e.name]&&p.default[e.name](e)})),S.on("disconnecting",(function(){p.default.disconnecting&&p.default.disconnecting()}));var I=S;t.default=I},92142:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=t.addSyncExclude=void 0;var f=a(n(23765)),p=a(n(63978)),h=a(n(87672)),g=a(n(59340)),m=a(n(81643)),v=a(n(62107)),_=a(n(62904)),y=a(n(4620)),b=a(n(58061)),E=n(99112),C=a(n(75043));function T(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=T(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=T(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var S=n(89766).EventEmitter,k=C.default.name("createStore"),I=["pa_id"],A=["widget_color","widget_color2","widget_font_color","show_container","started"];function M(e,t){for(var n in t)if(t[n]&&t[n].constructor&&t[n].constructor===Object)e[n]=e[n]||{},M(e[n],t[n]);else{if(window.parent.window&&window.parent.window.isWixPreview)return!0;-1!==(0,m.default)(v.default).call(v.default,["route"],n)&&b.default.mobileOrTablet()||"cobrowser-iframe"===window.parent.name||-1!==(0,m.default)(A).call(A,n)||(e[n]=t[n])}return e}t.addSyncExclude=function(e){I.push(e),A.push(e)};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("JivoStore"==e.__type)return e;var n=(0,g.default)(e),a=b.default.supportsLocalStorage(),i=new S,r=v.default.debounce((function(){i.emit("update",e)}),10),o=function(){var n=function(t){var n=w({},t);return t?M(n,e):n=e,n};if(a&&!_.default.cookie_domain){var i=n(JSON.parse(window.parent.localStorage.getItem("jv_store_"+t)));window.parent.localStorage.setItem("jv_store_"+t,(0,g.default)(i))}else{var r=n(JSON.parse(y.default.get("store_"+t)));y.default.set("store_"+t,(0,g.default)(r))}},l=function(e,n){var a=e[n];(0,p.default)(e,n,{set:function(e){if(a!=e&&(a=e,r(),t)){if(!(0,E.pageVisible)()&&(0,m.default)(I).call(I,n)>-1)return;if((0,m.default)(A).call(A,n)>-1)return;if(window.parent&&"cobrowser-iframe"===window.parent.name)return;o()}},get:function(){return a}})},u=function e(t){v.default.each(t,(function(n,a){"function"!=typeof n&&(n&&"object"==(0,f.default)(n)&&"number"!=typeof n.length?e(n):l(t,a))}))},s=function(){if(t)try{if(a&&!_.default.cookie_domain){var n=JSON.parse(window.parent.localStorage.getItem("jv_store_"+t));M(e,n);var i=JSON.parse(y.default.get("store_"+t));i&&M(e,i),y.default.set("store_"+t,null)}else M(e,JSON.parse(y.default.get("store_"+t))),a&&M(e,JSON.parse(window.parent.localStorage.getItem("jv_store_"+t)))}catch(e){k.error(e)}},c=function(){e=JSON.parse(n),u(e),o(),r()};return u(e),s(),(0,p.default)(e,"__type",{enumerable:!1,configurable:!1,writable:!1,value:"JivoStore"}),(0,p.default)(e,"addListener",{enumerable:!1,configurable:!1,writable:!1,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(t=e,e="update"),i.addListener(e,t)}}),(0,p.default)(e,"dispatch",{enumerable:!1,configurable:!1,writable:!1,value:function(){r()}}),(0,p.default)(e,"reload",{enumerable:!1,configurable:!1,writable:!1,value:function(){s()}}),(0,p.default)(e,"reset",{enumerable:!1,configurable:!1,writable:!1,value:function(){c()}}),e};t.default=x},66707:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.cssLoader=void 0;var i=a(n(81643)),r=a(n(62904)),o=a(n(54417));window.parent.__jivoBundleInit&&window.parent.__jivoBundleInit(window);var l,u,s=(u=window.parent.location.protocol,-1===(0,i.default)(l=["http","https","http:","https:"]).call(l,u)&&(u="https:"),u+(r.default.static_host&&(~r.default.static_host.search(/\/\/cdn(-\w+)?.jivosite.com(\/\w)?/)||~r.default.static_host.search(/\/\/code(-\w+)?.jivosite.com(\/\w)?/))?r.default.static_host:r.default.base_url)+"/css/".concat("86b4f73e","/widget.css")),c=new o.default(window.parent.document,s);t.cssLoader=c},75119:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(62904));function r(e){return"custom_langpack"in i.default&&e in i.default.custom_langpack?i.default.custom_langpack[e].replace(/\n/g,"<br />").replace(/&quot;/g,'"').replace(/&#039;/g,"'"):function(e){return window.base_langpack&&window.base_langpack[e]?window.base_langpack[e].replace(/\n/g,"<br />").replace(/&nbsp;/g," "):e}(e)}function o(e){var t=window.parent.currentDownloadLocale,n=window.parent.customLocale,a=window.parent.domKeys;return a&&a[e]&&t&&t[e]?n[e]||t[e]:"{{_"+e+"_}}"}var l=window.parent&&window.parent.__jivoPhraseappEditor?o:r;t.default=l},73113:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,r=a(n(94198)),o=a(n(51942)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=n(56602),d=n(99112),f=a(n(58061)),p=a(n(62107)),h=a(n(75043)).default.name("autoResizer"),g=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingLeft","paddingRight","width","boxSizing","whiteSpace","wordWrap","paddingTop"],m=function(){function e(t,n){if((0,u.default)(this,e),i)return i.element=t,i.config=n,i.bindEvents(),i;if(t){this.element=t;var a=t.offsetHeight;"original"===n.maxSize&&(n.maxSize=a),"original"===n.minSize&&(n.minSize=a),this.config=n,this.bindEvents(),this.container=this.initializeContainer(),this.clone=this.initializeClone(),i=this}else h.warn("no element provided to resize!")}return(0,s.default)(e,[{key:"bindEvents",value:function(){var e,t,n,a;(0,c.addListener)(this.element,"keyup",(0,l.default)(e=this.check).call(e,this)),(0,c.addListener)(this.element,"keypress",(0,l.default)(t=this.check).call(t,this)),(0,c.addListener)(this.element,"change",(0,l.default)(n=this.check).call(n,this)),(0,c.addListener)(this.element,"paste",(0,l.default)(a=this.check).call(a,this))}},{key:"initializeContainer",value:function(){if(h.log("initializeContainer"),this.container)return this.container;var e=null;return(e=document.createElement("jdiv")).style.position="absolute",e.style.top="-9999px",e.style.width="0px",e.style.height="0px",e.style.padding="0px",e.style.overflow="hidden",document.body.appendChild(e),e}},{key:"initializeClone",value:function(){if(this.clone)return this.clone;h.log("initializeClone");var e=document.createElement("jdiv");return e.setAttribute("id","jv-autoresize"),this.container.appendChild(e),e}},{key:"updateClone",value:function(){var e=this;p.default.each(g,(function(t){var n=(0,d.getComputedStyleAll)(e.element,t);n&&(e.clone.style[t]=n)})),this.clone.style.display="block"}},{key:"afterResize",value:function(){(f.default.tablet()?this.element.scrollHeight:this.element.offsetHeight)>=this.config.maxSize&&this.element.style.setProperty("overflow-y","auto","important")}},{key:"updateConfig",value:function(e){h.log("updateConfig",e),(0,o.default)(this.config,e)}},{key:"check",value:function(){this.updateClone();var e,t,n=this.element.value||this.element.getAttribute("placeholder")||"",a=this.element.offsetHeight;(n=n.length?n:" ")===this.prevValue&&""==n||(this.clone.innerHTML=p.default.escape(n).replace(new RegExp("\\r?\\n","ig"),"<div>.</div>"),e=Math.min(Math.max(this.clone.offsetHeight,this.config.minSize>>0),this.config.maxSize),""==this.element.value&&(e=this.clone.offsetHeight),a!==e&&(t={height:e}),this.prevValue=n,t&&(f.default.mobile()&&(e+=(0,r.default)((0,d.getComputedStyleAll)(this.element,"paddingTop"))+(0,r.default)((0,d.getComputedStyleAll)(this.element,"paddingBottom"))),this.element.setAttribute("style","height: ".concat(e,"px!important")),this.config.onResize&&this.config.onResize.call(this.element),this.config.initCheck=!1,this.afterResize()))}}]),e}();t.default=m},86999:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),r=a(n(94198));function o(e){return(0,r.default)(s(e).substring(0,2),16)}function l(e){return(0,r.default)(s(e).substring(2,4),16)}function u(e){return(0,r.default)(s(e).substring(4,6),16)}function s(e){return function(e){var t;return 3==e.length&&(e=(0,i.default)(t=e.split("")).call(t,(function(e){return e.toString()+e.toString()})).join("")),e}(e="#"==e.charAt(0)?e.substring(1,7):e)}function c(e){return e=(0,r.default)(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))}function d(e,t,n){var a=o(e),i=l(e),r=u(e),s=g.toHSV(new p(a,i,r));s.v>0?s.v=s.v*t:s.v=100*(t-1),s.s=s.s*n;var d,f,h,m=g.toRGB(s);return"#"+(d=m.r,f=m.g,h=m.b,c(d)+c(f)+c(h))}function f(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>360&&(e=360),t>100&&(t=100),n>100&&(n=100),this.h=e,this.s=t,this.v=n}function p(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>255&&(e=255),t>255&&(t=255),n>255&&(n=255),this.r=e,this.g=t,this.b=n}function h(e,t,n,a){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),a<=0&&(a=0),e>100&&(e=100),t>100&&(t=100),n>100&&(n=100),a>100&&(a=100),this.c=e,this.m=t,this.y=n,this.k=a}var g={isLightColor:function(e){return function(e){var t=o(e),n=l(e),a=u(e),i=g.toHSV(new p(t,n,a));return i.v+-.5*i.s}(e)>58},_RGBtoHSV:function(e){var t=new f(0,0,0),n=e.r/255,a=e.g/255,i=e.b/255,r=Math.min(n,a,i),o=Math.max(n,a,i),l=o-r;if(t.v=o,0==l)t.h=0,t.s=0;else{t.s=l/o;var u=((o-n)/6+l/2)/l,s=((o-a)/6+l/2)/l,c=((o-i)/6+l/2)/l;n==o?t.h=c-s:a==o?t.h=1/3+u-c:i==o&&(t.h=2/3+s-u),t.h<0&&(t.h+=1),t.h>1&&(t.h-=1)}return t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.v=Math.round(100*t.v),t},_HSVtoRGB:function(e){var t=new p(0,0,0),n=e.h/360,a=e.s/100,i=e.v/100;if(0==a)t.r=255*i,t.g=255*i,t.b=255*i;else{var r,o,l,u=6*n,s=Math.floor(u),c=i*(1-a),d=i*(1-a*(u-s)),f=i*(1-a*(1-(u-s)));0==s?(r=i,o=f,l=c):1==s?(r=d,o=i,l=c):2==s?(r=c,o=i,l=f):3==s?(r=c,o=d,l=i):4==s?(r=f,o=c,l=i):(r=i,o=c,l=d),t.r=255*r,t.g=255*o,t.b=255*l,t.r=Math.round(t.r),t.g=Math.round(t.g),t.b=Math.round(t.b)}return t},_CMYKtoRGB:function(e){var t=new p(0,0,0),n=e.c/100,a=e.m/100,i=e.y/100,r=e.k/100;return t.r=1-Math.min(1,n*(1-r)+r),t.g=1-Math.min(1,a*(1-r)+r),t.b=1-Math.min(1,i*(1-r)+r),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},_RGBtoCMYK:function(e){var t=new h(0,0,0,0),n=e.r/255,a=e.g/255,i=e.b/255;return t.k=Math.min(1-n,1-a,1-i),t.c=(1-n-t.k)/(1-t.k),t.m=(1-a-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},toRGB:function(e){return e instanceof p?e:e instanceof f?this._HSVtoRGB(e):e instanceof h?this._CMYKtoRGB(e):void 0},toHSV:function(e){return e instanceof f?e:e instanceof p?this._RGBtoHSV(e):e instanceof h?this._RGBtoHSV(this._CMYKtoRGB(e)):void 0},toCMYK:function(e){return e instanceof h?e:e instanceof p?this._RGBtoCMYK(e):e instanceof f?this._RGBtoCMYK(this._HSVtoRGB(e)):void 0},genGradientBg:function(e){return"linear-gradient(95deg, "+e+" 20%, "+this.getRightColor(e)+" 80%)"},getRightColor:function(e){return d(e,.9,.9)},getGradientBg:function(e,t){return"linear-gradient(95deg, "+e+" 20%, "+(t||e)+" 80%)"}},m=g;t.default=m},46237:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,r=a(n(33032)),o=a(n(51942)),l=n(56602),u=a(n(45808)),s=n(21224),c=window.parent?window.parent.document:null,d=0,f=0,p=new(0,n(89766).EventEmitter),h=null,g=(0,o.default)(p,{attach:function(e){e&&(e.style.cursor="move",(0,l.addListener)(e,"mousedown",(function(e){e.preventDefault(),d=e.screenX,f=e.screenY,_()})))}}),m=function(e){e.preventDefault(),g.emit("move",e,d-e.screenX,f-e.screenY),clearTimeout(i),i=(0,r.default)((function(){y()}),500)},v=function(e){e.preventDefault(),y()},_=function(){c&&(h||(h=u.default.get(s.Component.MOUSE_TRACK)),g.emit("start"),h.style.display="block",(0,l.addListener)(h,"mousemove",m),(0,l.addListener)(h,"mouseup",v))},y=function(){c&&(g.emit("stop"),h.style.display="none",(0,l.removeEvent)(h,"mousemove",m),(0,l.removeEvent)(h,"mouseup",v),clearTimeout(i))},b=g;t.default=b},34777:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(51942)),r=a(n(3649)),o=a(n(86902)),l=a(n(78914)),u=a(n(81643)),s=a(n(77766)),c=a(n(62904)),d=n(56602),f=a(n(75119)),p=a(n(47321)),h=a(n(33109)),g=n(33367),m=a(n(62652)),v=a(n(36216)),_=a(n(69961)),y=n(63242),b=a(n(56152)),E=n(10404),C=n(57018),T=a(n(58061)),w=n(49485),S=a(n(75043)).default.name("fileUploader"),k=new(0,n(89766).EventEmitter),I={isInited:!1,xhr:!1,xhrS3:!1,getFileInfo:function(e,t){A.emit("uploading",e);var n=new b.default(e);if(n.isValid())I.checkIfFileReadIsNeeded(e,t);else{var a=n.getReason();I.emitError(a,e)}},emitError:function(e,t){if(e){var n=null,a=null;switch(e){case E.FileUploadError.FILE_SIZE_EXCEEDED:n=(0,f.default)("file_upl_error_max_size").replace("_FILESIZE_",(0,d.humanFileSize)(C.MAX_FILE_SIZE)),a=null;break;case E.FileUploadError.NO_EXTENSION:n=(0,f.default)("file_upl_error_no_ext"),a={param1:"no_ext"};break;case E.FileUploadError.RESTRICTED_FILE_TYPE:n=(0,f.default)("file_upl_error"),a={param1:(0,d.getFileExtension)(t.name)}}A.emit("error",n,t,!0),a&&g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,a)}},checkIfFileReadIsNeeded:function(e,t){S.warn("checkIfFileReadIsNeeded",e,t),"photo"===(0,d.detectType)(e.type)&&"FileReader"in window?I.readFileContent(e,t):I.getS3Credentials(e)},readFileContent:function(e,t){var n=new FileReader;n.onload=function(){var a=new Image;a.onload=function(){if(e.width=a.width,e.height=a.height,!t&&(a.width>320||a.height>320)&&T.default.supportsImageResize()){var n=h.default.create(a,e);I.getFileInfo(n,e)}else I.getS3Credentials(e,t)},a.onerror=function(e){S.warn("FileReader error",e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"image_generate_failed"})},a.src=n.result},n.onprogress=function(e){},n.readAsDataURL(e)},getS3Credentials:function(e,t){var n,a,i,r,o=(0,d.getFileExtension)(e.name);o=o.toLowerCase();var l=(0,s.default)(n="gain?extension=".concat(encodeURIComponent(o),"&allow_content_type=1&type=")).call(n,encodeURIComponent(e.type)),u=(0,s.default)(a=(0,s.default)(i=(0,s.default)(r="/api/".concat("1","/sites/")).call(r,c.default.site_id,"/widgets/")).call(i,c.default.widget_id,"/media/transfer/access/")).call(a,l),p=new XMLHttpRequest;p.open("GET",(0,w.getApiHost)()+u),p.onload=function(){if(200===p.status){S.log("API responce:",JSON.parse(p.responseText));var n=JSON.parse(p.responseText);I.startUpload(e,!1,n,t)}else S.error("API Request failed.  Returned status of ",p.status),A.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"api_status_failed"})},p.addEventListener("error",(function(t){S.log("API error:",t),A.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"api_xhr_error"})}),!1),p.send(),I.xhrS3=p},abort:function(){S.log("abort upload"),I.xhr&&I.xhr.abort(),I.xhrS3&&I.xhrS3.abort(),A.emit("abort")},startUpload:function(e,t,n,a){var i=I.buildBodyFormData(n,e);if(i){var r=new XMLHttpRequest;r.upload.addEventListener("progress",(function(e){e.lengthComputable&&A.emit(a?"thumbProgress":"progress",e.loaded,e.total)}),!1),r.addEventListener("load",(function(t){t.target&&204==t.target.status?(S.log(a?"thumbComplete":"complete",t),e.icon_type=(0,d.detectType)(e.type),A.emit(a?"thumbComplete":"complete",e,n.url+"/"+i.url,a||null)):(S.log("not received response",t),A.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_no_responce"}))}),!1),r.addEventListener("error",(function(t){S.log("upload error",t),A.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_xhr"})}),!1),r.addEventListener("abort",(function(e){A.emit("cancel")}),!1),r.open("POST",n.url),r.send(i.formData),S.log("upload started."),A.emit(a?"thumbUploading":"uploading",e,i,t),I.xhr=r}else S.log("s3 credentials error, abort uploading.")},getEscapedFileName:function(e){var t;try{t=encodeURIComponent(e)}catch(e){S.log("too ugly file name",e),t=!1}return t},buildBodyFormData:function(e,t){var n,a;if(S.log("buildBody",e,t),e.error_list)return e.error_list.length&&-1!==(0,u.default)(a=e.error_list).call(a,"expired_license")&&(p.default.disableFileUpload(),A.emit("disableFileUpload")),A.emit("error",(0,f.default)("file_upl_error"),t),void g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_error"});var i={signature:"X-Amz-Signature",credential:"X-Amz-Credential",algorithm:"X-Amz-Algorithm",policy:"Policy",date:"X-Amz-Date"},s=e.key.split("/")[3],c=new FormData;c.append("acl","public-read"),c.append("Content-Type",t.type),c.append("key",e.key),c.append("Content-disposition","attachment; filename*=UTF-8''"+I.getEscapedFileName(t.name)),(0,l.default)(n=(0,o.default)(e)).call(n,(function(t){i[t]&&c.append(i[t],e[t])}));var d=new Blob([(0,r.default)(t).call(t)],{type:t.type});return c.append("file",d,I.getEscapedFileName(t.name)),{fileName:s,url:e.key,formData:c}},isPreviewImage:function(e){var t=e.toLowerCase();return/\.(gif|jpg|jpeg|png)$/i.test(t)},isFileUploadEnabled:function(){return m.default.is_online?!_.default.bot_id&&!c.default.disable_filetransfer&&0!=c.default.options:!c.default.disable_filetransfer&&0!=c.default.options&&v.default.is_introduced}},A=(0,i.default)(k,I);A.addListener("thumbComplete",(function(e,t,n){n.imagePreview=t,A.getS3Credentials(n)}));var M=A;t.default=M},66434:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.filterMessage=void 0;var i=a(n(23765)),r=a(n(99357));t.filterMessage=function(e){var t=/^\/service/.test(e.text),n="object"===(0,i.default)(e.media),a=e.msg_id,o=!t;if("number"==typeof a){var l=!!r.default.getMessageById(a);o=o&&!l}if(n){var u="client"===e.from&&"media"!==e.type&&n&&"error"===e.media.type;o=o&&!u}return e.deleted&&(o=!1),o}},18389:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),r=a(n(23765)),o=function(e,t,n){for(;t<e.length;t++)l(e[t])&&(e[t]=n);return e},l=function(e){return!e.match(/[\s()-]/)},u={toPattern:function(e,t){var n,a="object"===(0,r.default)(t)?t.pattern:t,u=a.replace(/\W/g,""),s=a.split(""),c=e.toString().replace(/\W/g,""),d=c.replace(/\W/g,""),f=0,p=s.length,h="object"===(0,r.default)(t)?t.placeholder:void 0;for(n=0;n<p;n++){if(f>=c.length){if(u.length===d.length)return s.join("");if(void 0!==h&&u.length>d.length)return o(s,n,h).join("");break}if(s[n]&&l(s[n])&&c[f].match(/[0-9]/))s[n]=c[f++];else if(s[n]&&l(s[n]))return void 0!==h?o(s,n,h).join(""):(0,i.default)(s).call(s,0,n).join("")}return s.join("").substr(0,n)}};t.default=u},31446:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),r=a(n(94473)),o=a(n(81643)),l=a(n(78914)),u=a(n(62107)),s=a(n(75043)),c=n(8575),d=n(17673),f=n(91151),p=(s.default.name("Referer"),function(e){var t=[];for(var n in e){var a=e[n],i=function(e){var n=a[e],i=function(a){var i;o=n[a],(0,l.default)(i=o[0]).call(i,(function(n){var i={domain:n,medium:e,name:a};o[1]&&(i.params=o[1]),t.push(i)}))};for(var r in n)i(r)};for(var r in a){var o;i(r)}}return t}(f)),h=function(e,t,n){var a;this.known=!1,this.referer=null,this.medium="unknown",this.search_parameter=null,this.search_term=null,this.referers=n||p;var i=c.parse(e),r=i.hostname;if(this.known=Boolean(~(0,o.default)(a=["http:","https:"]).call(a,i.protocol)),this.uri=i,this.known){if(t)if(c.parse(t).hostname===r)return void(this.medium="internal");var l=this._lookup_referer(r,i.pathname,!0);if(l||(l=this._lookup_referer(r,i.pathname,!1))){if(this.referer=l.name,this.medium=l.medium,"search"===l.medium){if(!l.params)return;var s=u.default.extend(d.parse(i.hash),d.parse(i.query));for(var f in s){var h,g=s[f];-1!==(0,o.default)(h=l.params).call(h,f.toLowerCase())&&(this.search_parameter=f,this.search_term=g)}}}else this.medium="unknown"}};h.prototype.searchReferer=function(e){return(0,r.default)(u.default).call(u.default,this.referers,(function(t){return t.domain instanceof RegExp&&e.search(t.domain)>-1||(t.domain===e||void 0)}))},h.prototype._lookup_referer=function(e,t,n){var a=null;if(!(a=n?this.searchReferer(e+t):this.searchReferer(e))&&n){var r=t.split("/");if(r.length>1)try{a=this.searchReferer(e+"/"+r[1])}catch(e){}}if(a)return a;try{var l=(0,o.default)(e).call(e,".");if(-1===l)return null;var u=(0,i.default)(e).call(e,l+1);return this._lookup_referer(u,t,n)}catch(e){return null}};var g=h;t.default=g},33109:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var a={reduceImage:function(e,t){var n=0,i=0,r=e.width/e.height;e.width/320>e.height/320?(n=320,i=Math.floor(320/r)):(n=Math.floor(320*r),i=320);var o=Math.ceil(Math.log(e.width/n)/Math.log(2))-2,l=document.createElement("canvas"),u=l.getContext("2d");l.width=e.width,l.height=e.height,u.drawImage(e,0,0,l.width,l.height);for(var s=0;s<o;s++)l=a.reduceImageStep(l);var c=document.createElement("canvas");return c.width=n,c.height=i,c.getContext("2d").drawImage(l,0,0,c.width,c.height),c.toDataURL(t.type)},reduceImageStep:function(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t},dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),i=new Uint8Array(a),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new Blob([a],{type:n})},createFile:function(e,t){window.URL;var n=a.dataURItoBlob(e),i="thumb_"+t.name;return new File([n],i,{type:t.type,lastModified:new Date})},create:function(e,t){var n=a.reduceImage(e,t);return a.createFile(n,t)}},i=a;t.default=i},51362:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=void 0;var f=a(n(3649)),p=a(n(94198)),h=a(n(78580)),g=a(n(77149)),m=a(n(51942)),v=a(n(87672)),_=a(n(81643)),y=a(n(20455)),b=a(n(4620)),E=a(n(40695)),C=a(n(36216)),T=a(n(31446)),w=a(n(75043)),S=a(n(10505)),k=n(56602);function I(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}var A=n(17673),M=w.default.name("utm"),x={utmccn:"campaign",utmcsr:"source",utmcmd:"medium",utmctr:"keyword",utmcct:"content"},R={parseUtmz:function(e){var t={};if(e){var n,a=decodeURI(e).replace(/^[0-9\.]*/g,"");if(a)for(var i=a.split("|"),r=0;r<i.length;r++)(n=i[r].substr(0,6))in x&&(t[x[n]]=i[r].substr(7))}return t},parseUTM:function(e,t,n){var a={},s=!1;try{var c=b.default.get("__utmz");a=this.parseUtmz(c),E.default.isUtmz=!0}catch(e){M.warn("parceUtmz",e)}var d;if(M.log("parseUTM",n),n)for(var f,p=n.split("|"),h=(0,y.default)(x),g=0;g<p.length;g++)2===(f=p[g].split("=")).length&&(f[0]=f[0].toLowerCase(),(0,_.default)(h).call(h,f[0])>=0?(a[f[0]]=f[1],s=!0):"term"===f[0]&&(a.keyword=f[1]));if(d=function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=I(Object(a),!0)).call(n,(function(t){(0,v.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=I(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}({},a),M.log("finish utmz, utmparams",a),!s)if("string"==typeof t&&""!==t){var C=new T.default(t,e);if(M.log("processing_refer",C,t,e),C.known)if("internal"===C.medium){if(C.uri.query&&C.uri.query.length){var w=this.decodeString(C.uri.query),R={};try{R=A.parse(w)}catch(e){var O=this.getUTMParamsFromUrl(w);for(var N in O)if(O[N]){var D=O[N].split("=");D.length&&(R[D[0]]=D[1])}}for(var L in x)R["utm_"+x[L]]&&(a[x[L]]=R["utm_"+x[L]]);R.utm_term&&(a.keyword=R.utm_term),M.log("query params:",a)}(0,k.isEmpty)(a)&&(0,m.default)(a,{campaign:"(direct)",source:"(direct)"})}else"unknown"===C.medium?(0,m.default)(a,{campaign:"(referral)",medium:"referral",source:S.default.toUnicode(C.uri.hostname),content:C.uri.path}):(0,m.default)(a,{campaign:"(organic)",source:C.referer,medium:C.medium,keyword:C.search_term,content:""});else M.warn("unknown_refer")}else(0,k.isEmpty)(a)&&(0,m.default)(a,{campaign:"(direct)",source:"(direct)"});if(a.keyword&&(a.keyword=this.decodeString(a.keyword)),a.content&&(a.content=this.decodeString(a.content)),a.campaign&&(a.campaign=this.decodeString(a.campaign)),t&&this.isLid(e,t)&&(a.medium="cpc","(organic)"==a.campaign&&(a.campaign=null)),!a.source){var P=new T.default(t,e);P.referer&&(a.source=P.referer)}return d.medium&&(a.medium=this.decodeString(d.medium)),t&&d.source&&(a.source=this.decodeString(d.source)),M.log("FINISH UTM",n,a),(0,k.removeEmptyKeys)(a)},isLid:function(e,t){var n,a;return(0,g.default)(n=["yclid=","gclid=","fbclid="]).call(n,(function(t){return(0,h.default)(e).call(e,t)}))&&(0,g.default)(a=["yandex","google","facebook"]).call(a,(function(e){return(0,h.default)(t).call(t,e)}))},decodeString:function(e){try{e=decodeURIComponent(e)}catch(t){return M.log(t),this.decode(e)}return e},decode:function(e){return(e=(e=(e=e.replace(/%([EF][0-9A-F])%([89AB][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n,a){var i=(0,p.default)(t,16)-224,r=(0,p.default)(n,16)-128;if(0==i&&r<32)return e;var o=(i<<12)+(r<<6)+((0,p.default)(a,16)-128);return o>65535?e:String.fromCharCode(o)}))).replace(/%([CD][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n){var a=(0,p.default)(t,16)-192;if(a<2)return e;var i=(0,p.default)(n,16)-128;return String.fromCharCode((a<<6)+i)}))).replace(/%([0-7][0-9A-F])/gi,(function(e,t){return String.fromCharCode((0,p.default)(t,16))}))).replace(/%[A-Z0-9]{2}/gi,"")},getUTMParamsFromUrl:function(e){for(var t=(0,_.default)(e).call(e,"?"),n=null;-1!=n;)(n=(0,_.default)(e).call(e,"?",t+1))>0&&(t=n);var a,i,r=e.substr(t+1).split("&"),o="";for(i=r.length;i--;){var l;if(a=r[i].split("="),(0,_.default)(l=a[0]).call(l,"utm_")>=0){var u=(a=(a=r[i]).replace(/\|/gi,"%7C")).split("=");u.length>1&&(a=u[0]+"="+(0,f.default)(u).call(u,1).join("%3D")),o+=(o.length>0?"|":"")+a.substr((0,_.default)(a).call(a,"utm_")+4)}}return o},setUTM:function(e,t){var n=R.getUTMParamsFromUrl(e),a=R.parseUTM(e,t,n);C.default.utm.campaign=a&&a.campaign||null,C.default.utm.source=a&&a.source||null,C.default.utm.medium=a&&a.medium||null,C.default.utm.keyword=a&&a.keyword||null,C.default.utm.content=a&&a.content||null}},O=R;t.default=O},301:function(e,t,n){"use strict";var a=n(60530),i=a(n(3649)),r=a(n(59340)),o=a(n(33032));!function(){"undefined"==typeof window&&(window=n.g);var e,t=2e4,a=2e3,l=32e3,u=3e4,s=function(t,n){if("function"==typeof e[t])try{return e[t](n)}catch(n){if("onerror"!==t)try{e.onerror(n)}catch(e){}}},c=function(e){return void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/[\x00-\x19]/g," "))},d=function(e){return Math.random()*e<<0},f=/^-?[a-zA-Z0-9]{1,16}$/,p=/^[_a-zA-Z][_a-zA-Z0-9]{0,7}$/,h=/^[a-zA-Z0-9]{10}$/;window.ClientSocket=function(){if(e)return e;e=this;var n,g,m,v,_=a,y=0,b=function e(){try{g.send(".")}catch(e){}m=(0,o.default)(e,t)},E=function(){g.onclose=null,g.onerror=null,g.onmessage=null,g.onopen=null,g.CLOSING>g.readyState&&g.close()},C=function f(){g&&(E(),l<(_<<=1)&&(_=l)),g=new WebSocket(n),e.readyState=g.readyState,g.onclose=function(t){if(e.readyState=g.readyState,s("onclose",t.reason),m){if(clearTimeout(m),clearTimeout(v),t.reason){var n=-1;switch(t.reason){case"Protocol Error":case"Unsupported Data":case"Invalid Data":case"Message Too Big":case"Mandatory Ext.":case"Invalid Response":case"Normal Closure":case"Void Time":n=0;break;case"Service Restart":n=6e4+d(6e5);break;case"Try Again Later":n=6e5+d(6e5);break;case"Internal Error":n=18e5+d(6e5);break;case"Going Away":n=36e5+d(6e5);break;case"Policy Violation":n=72e5;break;case"Blacklisted":n=864e5}if(-1!==n)return E(),m=null,void s("ondrop",n)}else s("onerror",new Error("close-is-not-clean"));if(3<=++y)return E(),m=null,s("ondrop",6e5+d(6e5)),void s("onfail","Network Unreachable");m=(0,o.default)(f,_+d(a)),l<(_<<=1)&&(_=l)}},g.onerror=function(e){},g.onmessage=function(e){if(y=0,clearTimeout(v),v=(0,o.default)(f,u),!(1>=e.data.length)){for(var t,n="",a={},l=e.data.split("\n"),d=0;d<l.length;d++)if(l[d]){var p=l[d].split("\t");if(4>p.length)l[d]&&s("onerror","uncomplete-message: "+(0,r.default)(l[d]));else switch(p[3]){case"+":p[0]&&(a.from=p[0]),p[1]&&(a.room=p[1]),p[4]&&(a.ip=p[4]),p[5]&&(a.port=p[5]),a.geoip={},p[6]&&(a.geoip.region=p[6]),p[7]&&(a.geoip.city_country_code=p[7]),p[8]&&(a.geoip.city_country_name=p[8]),p[9]&&(a.geoip.region_name=p[9]),p[10]&&(a.geoip.city=p[10]),p[11]&&(a.geoip.latitude=p[11]),p[12]&&(a.geoip.longitude=p[12]),p[13]&&(a.geoip.org=p[13]),s("onadd",a);break;case"-":p[0]&&(a.from=p[0]),p[1]&&(a.room=p[1]),p[4]&&(a.code=p[4]),s("ondel",a);break;default:if(4<p.length)a.key=p[3],p[0]&&(a.from=p[0]),p[1]&&(a.room=p[1]),a.value=5<p.length?(0,i.default)(p).call(p,4):p[4],s("onset",a);else if(p[0]&&(a.from=p[0],a.room=p[1]),a.key=p[3]||"*",t=s("onget",a)){if(n+="\t"+p[1]+"\t"+p[0]+"\t"+p[3],t instanceof Array)for(var h=0;h<t.length;h++)n+="\t"+c(t);else n+="\t"+c(t);n+="\n"}}}n&&T(n)}},g.onopen=function(n){e.readyState=g.readyState,e.url=g.url,e.protocol=g.protocol,_=a,clearTimeout(v),v=(0,o.default)(f,u),clearTimeout(m),m=(0,o.default)(b,t),s("onopen")},clearTimeout(m),m=(0,o.default)(f,_)};this.open=function(e){if("string"!=typeof e)throw new TypeError("invalid-URL");n=e,C()},this.close=function(){g&&(clearTimeout(m),clearTimeout(v),y=0,m=null,g.close(1e3,"Normal Closure"),e.readyState=g.readyState)};var T=function(e){if(e){var n=(e=String(e)).length;if("function"==typeof Blob&&(n=new Blob([e]).size),!(8192>=n))throw new RangeError("message-too-big");clearTimeout(v),v=(0,o.default)(C,u),clearTimeout(m),m=(0,o.default)(b,t),g.send(e)}},w=function(e,t){var n="";if(e.to){if(!f.test(e.to))throw new Error("invalid-TO");if(!e.room||!h.test(e.room))throw new Error("invalid-ROOM");n+="\t"+e.room+"\t"+e.to}else{if("get"===t)throw new Error("get-require-TO-and-ROOM");n+="\t\t"}if("*"===e.key)e.key="";else if(!p.test(e.key))throw new Error("invalid-KEY");return n+="\t"+e.key};this.get=function(e){if(e)try{T(w(e,"get")+"\n")}catch(e){return e}},this.set=function(e){if(e)try{var t=w(e,"set");if(e.value instanceof Array){if(0===e.value.length)return;for(var n=0;n<e.value.length;n++)t+="\t"+c(e.value[n])}else t+="\t"+c(e.value);T(t+"\n")}catch(e){return e}}}}()},75043:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),r=a(n(77766)),o=a(n(62904)),l=n(94515),u=[],s=3;void 0===window.console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){}});var c=Array,d=function(){Array||(Array=c)},f=function(e,t,n,a){if(p(e,t,a),o.default.logs){if(t){if(t+=":","count"===e){var i;if(!o.default.debugOrder)return;t=(0,r.default)(i="".concat(s++," ")).call(i,t),e="warn"}"error"==e&&(t+=" ERROR"),a.unshift(t),n&&!l.EnvironmentManager.isProduction()&&a.unshift("%c%s %s",n)}console[e].apply?console[e].apply(console,a):console[e](a.join())}},p=function(e,t,n){"Monitoring"!=t&&(5==u.length&&u.shift(),u.push("".concat(n.toString().substr(0,60))))},h={name:function(e,t){return f("count",e,null,["code exec started!"]),{log:function(){d();var n=(0,i.default)(Array.prototype).call(arguments||[]);f("log",e,t,n)},info:function(){d();var n=(0,i.default)(Array.prototype).call(arguments);f("info",e,t,n)},warn:function(){d();var n=(0,i.default)(Array.prototype).call(arguments||[]);f("warn",e,t,n)},error:function(){d();var n=(0,i.default)(Array.prototype).call(arguments);f("error",e,t,n)},count:function(){d();var n=(0,i.default)(Array.prototype).call(arguments);f("count",e,t,n)}}},lastLog:u};t.default=h},45609:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.updateAgent=t.addAgent=t.initializeAgentStore=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(8282)),u=a(n(75043)).default.name("AgentsActions"),s=function(e){return{type:i.ActionType.INIT_AGENTS_STORE,payload:e}};t.initializeAgentStore=s;var c=function(e){return{type:i.ActionType.ADD_AGENT,payload:e}};t.addAgent=c;var d=function(e){var t=l.default.getAgentById(e.id);return u.log("redux_try_to_update_agent",e,t),t&&(t.set("display_name",e.name),t.set("title",e.title),t.set("avatar_url",e.avatarUrl),u.log("redux_update_agent",l.default)),{type:i.ActionType.UPDATE_AGENT,payload:e}};t.updateAgent=d;var f={initializeAgentStore:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),addAgent:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),updateAgent:(0,o.bindActionCreators)(d,r.reduxStore.dispatch)};t.dispatchers=f},1476:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setMaintenance=t.setIsInputDisabled=t.setIsContactFormFocused=t.setIsInDrag=t.setLastChatOpened=t.setAppRoute=t.setChatOpenByClient=t.setAppIsFocused=t.setAppIsOnline=t.initializeAppStore=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(62652)),u=a(n(62904)),s=function(e){var t=e.isFocused,n=e.isOnline,a=e.route,r=e.tabRoute,o=e.lastChatOpened,l=e.isInputDisabled,u=e.chatOpenByClient;return{type:i.ActionType.INIT_APP_STORE,payload:{isFocused:t,isOnline:n,route:a,tabRoute:r,lastChatOpened:o,isInputDisabled:l,chatOpenByClient:u}}};t.initializeAppStore=s;var c=function(e){return l.default.is_online=e?1:0,{type:i.ActionType.SET_APP_IS_ONLINE,payload:{isOnline:e}}};t.setAppIsOnline=c;var d=function(e){return l.default.is_focused=e,{type:i.ActionType.SET_APP_IS_FOCUSED,payload:{isFocused:e}}};t.setAppIsFocused=d;var f=function(e){return{type:i.ActionType.SET_CHAT_OPEN_BY_CLIENT,payload:{chatOpenByClient:e}}};t.setChatOpenByClient=f;var p=function(e){return l.default.route=e,{type:i.ActionType.SET_APP_ROUTE,payload:{route:e}}};t.setAppRoute=p;var h=function(e){return l.default.lastChatOpened=e,{type:i.ActionType.SET_LAST_CHAT_OPENED,payload:{lastChatOpened:e}}};t.setLastChatOpened=h;var g=function(e){return{type:i.ActionType.SET_IS_IN_DRAG,payload:{isInDrag:e}}};t.setIsInDrag=g;var m=function(e){return{type:i.ActionType.SET_IS_CONTACT_FORM_FOCUSED,payload:{isContactFormFocused:e}}};t.setIsContactFormFocused=m;var v=function(e){return{type:i.ActionType.SET_IS_INPUT_DISABLED,payload:{isInputDisabled:e}}};t.setIsInputDisabled=v;var _=function(e){return u.default.maintenance=e,{type:i.ActionType.SET_MAINTENANCE,payload:{maintenance:e}}};t.setMaintenance=_;var y={initializeAppStore:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setAppIsOnline:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),setAppIsFocused:(0,o.bindActionCreators)(d,r.reduxStore.dispatch),setAppRoute:(0,o.bindActionCreators)(p,r.reduxStore.dispatch),setLastChatOpened:(0,o.bindActionCreators)(h,r.reduxStore.dispatch),setIsInDrag:(0,o.bindActionCreators)(g,r.reduxStore.dispatch),setIsContactFormFocused:(0,o.bindActionCreators)(m,r.reduxStore.dispatch),setIsInputDisabled:(0,o.bindActionCreators)(v,r.reduxStore.dispatch),setMaintenance:(0,o.bindActionCreators)(_,r.reduxStore.dispatch),setChatOpenByClient:(0,o.bindActionCreators)(f,r.reduxStore.dispatch)};t.dispatchers=y},13240:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.addBot=t.initializeBotsStore=void 0;var a=n(54847),i=n(43472),r=n(14890),o=function(e){return{type:a.ActionType.INIT_BOTS_STORE,payload:e}};t.initializeBotsStore=o;var l=function(e){return{type:a.ActionType.ADD_BOT,payload:e}};t.addBot=l;var u={initializeBotsStore:(0,r.bindActionCreators)(o,i.reduxStore.dispatch),addBot:(0,r.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},86864:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setWebRTCCallStatus=t.setActiveWebRTCCallMessageId=t.setDelayedPeriods=t.setDelayedTimezone=t.setCallbackError=t.setCallbackStatus=t.setCallbackIsDelayed=t.setDelayedCallbackStatus=t.setCallbackAvailable=t.initializeCallbackStore=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(36216)),u=function(e){var t=e.available,n=e.delayedPeriods,a=e.delayedStatus,r=e.delayedTimezone,o=e.isDelayed,l=e.error,u=e.status,s=e.activeWebRTCCallMessageId,c=e.webRTCCallStatus,d=e.separateForm;return{type:i.ActionType.INIT_CALLBACK_STORE,payload:{available:t,delayedPeriods:n,delayedStatus:a,delayedTimezone:r,isDelayed:o,error:l,status:u,activeWebRTCCallMessageId:s,webRTCCallStatus:c,separateForm:d}}};t.initializeCallbackStore=u;var s=function(e){return l.default.cw_call_enabled=e,{type:i.ActionType.SET_CALL_AVAILABLE,payload:{available:e}}};t.setCallbackAvailable=s;var c=function(e){return l.default.cw_call_delayed_status=e,{type:i.ActionType.SET_DELAYED_CALL_STATUS,payload:{delayedStatus:e}}};t.setDelayedCallbackStatus=c;var d=function(e){return l.default.cw_call_delayed=e,{type:i.ActionType.SET_CALL_IS_DELAYED,payload:{isDelayed:e}}};t.setCallbackIsDelayed=d;var f=function(e){return l.default.cw_call.status=e,{type:i.ActionType.SET_CALL_STATUS,payload:{status:e}}};t.setCallbackStatus=f;var p=function(e){return l.default.cw_call.error=e,{type:i.ActionType.SET_CALL_ERROR,payload:{error:e}}};t.setCallbackError=p;var h=function(e){return l.default.cw_call_delayed_tz=e,{type:i.ActionType.SET_DELAYED_TIMEZONE,payload:{delayedTimezone:e}}};t.setDelayedTimezone=h;var g=function(e){return l.default.cw_call_delayed_periods=e,{type:i.ActionType.SET_DELAYED_PERIODS,payload:{delayedPeriods:e}}};t.setDelayedPeriods=g;var m=function(e){return l.default.activeWebRTCCallMessageId=e,{type:i.ActionType.SET_ACTIVE_WEBRTC_MESSAGE_ID,payload:{activeWebRTCCallMessageId:e}}};t.setActiveWebRTCCallMessageId=m;var v=function(e){return l.default.webRTCCallStatus=e,{type:i.ActionType.SET_WEBRTC_CALL_STATUS,payload:{webRTCCallStatus:e}}};t.setWebRTCCallStatus=v;var _={initializeCallbackStore:(0,o.bindActionCreators)(u,r.reduxStore.dispatch),setCallbackAvailable:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setDelayedCallbackStatus:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),setCallbackIsDelayed:(0,o.bindActionCreators)(d,r.reduxStore.dispatch),setCallbackStatus:(0,o.bindActionCreators)(f,r.reduxStore.dispatch),setCallbackError:(0,o.bindActionCreators)(p,r.reduxStore.dispatch),setDelayedTimezone:(0,o.bindActionCreators)(h,r.reduxStore.dispatch),setDelayedPeriods:(0,o.bindActionCreators)(g,r.reduxStore.dispatch),setActiveWebRTCCallMessageId:(0,o.bindActionCreators)(m,r.reduxStore.dispatch),setWebRTCCallStatus:(0,o.bindActionCreators)(v,r.reduxStore.dispatch)};t.dispatchers=_},31505:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setJoinedBots=t.addJoinedAgent=t.setNoJoinedBots=t.setNoJoinedAgents=t.setJoinedAgents=t.setDepartment=t.setChatEvaluated=t.setAgentTyping=t.startChat=t.updateChat=t.initializeChatsStore=void 0;var i=a(n(78914)),r=n(54847),o=n(43472),l=n(14890),u=a(n(62652)),s=a(n(69961)),c=a(n(8282)),d=a(n(36216)),f=n(20965),p=a(n(99357)),h=function(){return u.default.chat_accepted?f.ChatState.ACCEPTED:u.default.chat_started?f.ChatState.STARTED:f.ChatState.NOT_STARTED_OR_CLOSED},g=function(){var e,t,n=(e=[],(t=p.default.getAllChatIds()).length||e.push({state:h(),evaluated:d.default.evaluate,departmentId:d.default.department_id,joinedAgents:c.default.getOnlyAgentIdsByStatus("join"),joinedBots:c.default.getBotIdsByStatus("join"),id:null,agentTyping:s.default.typing}),(0,i.default)(t).call(t,(function(n,a){var i=a===t.length-1;null!==n&&e.push({state:i?h():f.ChatState.NOT_STARTED_OR_CLOSED,evaluated:d.default.evaluate,departmentId:d.default.department_id,joinedAgents:i?c.default.getOnlyAgentIdsByStatus("join"):[],joinedBots:i?c.default.getBotIdsByStatus("join"):[],id:n,agentTyping:s.default.typing})})),e);return{type:r.ActionType.INIT_CHATS_STORE,payload:n}};t.initializeChatsStore=g;var m=function(){var e=o.reduxStore.getState().chats,t=p.default.getAllChatIds();return e.length!==t.length?g():{type:r.ActionType.DO_NOTHING,payload:null}};t.updateChat=m;var v=function(){return{type:r.ActionType.START_CHAT,payload:{}}};t.startChat=v;var _=function(e){return s.default.typing=e,{type:r.ActionType.SET_AGENT_TYPING,payload:{agentTyping:e}}};t.setAgentTyping=_;var y=function(e){return d.default.evaluate=e,{type:r.ActionType.SET_CURRENT_CHAT_EVALUATED,payload:{evaluated:e}}};t.setChatEvaluated=y;var b=function(e){return d.default.department_id=e,{type:r.ActionType.SET_CURRENT_CHAT_DEPARTMENT_ID,payload:{departmentId:e}}};t.setDepartment=b;var E=function(e){c.default.updateAgentList(e);var t=c.default.getAgentIdsByStatus("join");return{type:r.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT,payload:{joinedAgents:t||[]}}};t.setJoinedAgents=E;var C=function(){return c.default.closeChat(),{type:r.ActionType.CLOSE_CHAT,payload:{state:f.ChatState.NOT_STARTED_OR_CLOSED,joinedAgents:[]}}};t.setNoJoinedAgents=C;var T=function(){return c.default.closeChat(),{type:r.ActionType.CLOSE_CHAT,payload:{state:f.ChatState.NOT_STARTED_OR_CLOSED,joinedBots:[]}}};t.setNoJoinedBots=T;var w=function(e){return{type:r.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT,payload:{agentId:e}}};t.addJoinedAgent=w;var S=function(e){return{type:r.ActionType.SET_JOINED_BOTS,payload:{joinedBots:e||[]}}};t.setJoinedBots=S;var k={initializeChatsStore:(0,l.bindActionCreators)(g,o.reduxStore.dispatch),updateChat:(0,l.bindActionCreators)(m,o.reduxStore.dispatch),setAgentTyping:(0,l.bindActionCreators)(_,o.reduxStore.dispatch),setChatEvaluated:(0,l.bindActionCreators)(y,o.reduxStore.dispatch),setDepartment:(0,l.bindActionCreators)(b,o.reduxStore.dispatch),setJoinedAgents:(0,l.bindActionCreators)(E,o.reduxStore.dispatch),setNoJoinedAgents:(0,l.bindActionCreators)(C,o.reduxStore.dispatch),setNoJoinedBots:(0,l.bindActionCreators)(T,o.reduxStore.dispatch),addJoinedAgent:(0,l.bindActionCreators)(w,o.reduxStore.dispatch),startChat:(0,l.bindActionCreators)(v,o.reduxStore.dispatch),setJoinedBots:(0,l.bindActionCreators)(S,o.reduxStore.dispatch)};t.dispatchers=k},64480:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setDepartmentId=t.setAssignedAgentId=t.setClientSessionId=t.setClientId=t.setClientDescription=t.setClientName=t.setClientPhone=t.setEulaAccepted=t.setClientEmail=t.setPaId=t.setCaptchaToken=t.setCustomData=t.setUserToken=t.setInputText=t.setIsIntroduced=t.setLastMessage=t.setHasIntegration=t.initializeClientStore=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(36216)),u=a(n(62652)),s=function(e){var t=e.assignedAgentId,n=e.clientId,a=e.description,r=e.email,o=e.eulaAccepted,l=e.hasIntegration,u=e.isBlacklisted,s=e.isIntroduced,c=e.lastMessage,d=e.name,f=e.priorityAgentId,p=e.phone,h=e.sessionId,g=e.utm,m=e.visitorId,v=e.inputText,_=e.userToken,y=e.departmentId;return{type:i.ActionType.INIT_CLIENT_STORE,payload:{assignedAgentId:t,clientId:n,description:a,email:r,eulaAccepted:o,hasIntegration:l,isBlacklisted:u,isIntroduced:s,lastMessage:c,name:d,priorityAgentId:f,phone:p,sessionId:h,utm:g,visitorId:m,inputText:v,userToken:_,departmentId:y}}};t.initializeClientStore=s;var c=function(e){return l.default.has_integration=e,{type:i.ActionType.SET_HAS_INTEGRATION,payload:{hasIntegration:e}}};t.setHasIntegration=c;var d=function(e){return l.default.last_message=e,{type:i.ActionType.SET_LAST_MESSAGE,payload:{lastMessage:e}}};t.setLastMessage=d;var f=function(e){return l.default.is_introduced=e,{type:i.ActionType.SET_IS_INTRODUCED,payload:{isIntroduced:e}}};t.setIsIntroduced=f;var p=function(e){return l.default.inputText=e,{type:i.ActionType.SET_INPUT_TEXT,payload:{inputText:e}}};t.setInputText=p;var h=function(e){return l.default.user_token=e,{type:i.ActionType.SET_USER_TOKEN,payload:{userToken:e}}};t.setUserToken=h;var g=function(e){return{type:i.ActionType.SET_CUSTOM_DATA,payload:{customData:e}}};t.setCustomData=g;var m=function(e){return{type:i.ActionType.SET_CAPTCHA_TOKEN,payload:{captchaToken:e}}};t.setCaptchaToken=m;var v=function(e){return l.default.pa_id=e,{type:i.ActionType.SET_PA_ID,payload:{priorityAgentId:e}}};t.setPaId=v;var _=function(e){return l.default.client_info.email=e,{type:i.ActionType.SET_CLIENT_EMAIL,payload:{email:e}}};t.setClientEmail=_;var y=function(e){return u.default.eula_accepted=e,{type:i.ActionType.SET_EULA_ACCEPTED,payload:{eulaAccepted:e}}};t.setEulaAccepted=y;var b=function(e){return l.default.client_info.phone=e,{type:i.ActionType.SET_CLIENT_PHONE,payload:{phone:e}}};t.setClientPhone=b;var E=function(e){return l.default.client_info.client_name=e,{type:i.ActionType.SET_CLIENT_NAME,payload:{name:e}}};t.setClientName=E;var C=function(e){return l.default.client_info.description=e,{type:i.ActionType.SET_CLIENT_DESCRIPTION,payload:{description:e}}};t.setClientDescription=C;var T=function(e){return l.default.client_id=e,{type:i.ActionType.SET_CLIENT_ID,payload:{clientId:e}}};t.setClientId=T;var w=function(e){return l.default.jv_sess_id=e,{type:i.ActionType.SET_CLIENT_SESSION_ID,payload:{sessionId:e}}};t.setClientSessionId=w;var S=function(e){return l.default.assigned_agent_id=e,{type:i.ActionType.SET_ASSIGNED_AGENT_ID,payload:{assignedAgentId:e}}};t.setAssignedAgentId=S;var k=function(e){return l.default.department_id=e,{type:i.ActionType.SET_DEPARTMENT_ID,payload:{departmentId:e}}};t.setDepartmentId=k;var I={initializeClientStore:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setHasIntegration:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),setLastMessage:(0,o.bindActionCreators)(d,r.reduxStore.dispatch),setIsIntroduced:(0,o.bindActionCreators)(f,r.reduxStore.dispatch),setInputText:(0,o.bindActionCreators)(p,r.reduxStore.dispatch),setUserToken:(0,o.bindActionCreators)(h,r.reduxStore.dispatch),setCustomData:(0,o.bindActionCreators)(g,r.reduxStore.dispatch),setCaptchaToken:(0,o.bindActionCreators)(m,r.reduxStore.dispatch),setPaId:(0,o.bindActionCreators)(v,r.reduxStore.dispatch),setEulaAccepted:(0,o.bindActionCreators)(y,r.reduxStore.dispatch),setClientEmail:(0,o.bindActionCreators)(_,r.reduxStore.dispatch),setClientPhone:(0,o.bindActionCreators)(b,r.reduxStore.dispatch),setClientName:(0,o.bindActionCreators)(E,r.reduxStore.dispatch),setClientDescription:(0,o.bindActionCreators)(C,r.reduxStore.dispatch),setClientId:(0,o.bindActionCreators)(T,r.reduxStore.dispatch),setClientSessionId:(0,o.bindActionCreators)(w,r.reduxStore.dispatch),setAssignedAgentId:(0,o.bindActionCreators)(S,r.reduxStore.dispatch),setDepartmentId:(0,o.bindActionCreators)(k,r.reduxStore.dispatch)};t.dispatchers=I},38645:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.disableFiletransfer=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(62904)),u=function(e){return l.default.disable_filetranser=e,{type:i.ActionType.SET_DISABLE_FILETRANSFER,payload:{disableFiletransfer:e?1:0}}};t.disableFiletransfer=u;var s={disableFiletransfer:(0,o.bindActionCreators)(u,r.reduxStore.dispatch)};t.dispatchers=s},81189:function(e,t,n){"use strict";var a=n(87646);n(63978)(t,"__esModule",{value:!0}),t.permissions=t.proactive=t.zoom=t.bots=t.features=t.client=t.messages=t.transition=t.chats=t.agents=t.user=t.social=t.callback=t.position=t.app=t.permissionsDispatchers=t.proactiveDispatchers=t.zoomDispatchers=t.botsDispatchers=t.featuresDispatchers=t.clientDispatchers=t.messagesDispatchers=t.transitionDispatchers=t.chatsDispatchers=t.agentsDispatchers=t.userDispatchers=t.socialDispatchers=t.callbackDispatchers=t.positionDispatchers=t.appDispatchers=void 0;var i=a(n(1476));t.app=i;var r=a(n(17591));t.position=r;var o=a(n(86864));t.callback=o;var l=a(n(37780));t.social=l;var u=a(n(55865));t.user=u;var s=a(n(45609));t.agents=s;var c=a(n(31505));t.chats=c;var d=a(n(16792));t.transition=d;var f=a(n(97783));t.messages=f;var p=a(n(64480));t.client=p;var h=a(n(38645));t.features=h;var g=a(n(13240));t.bots=g;var m=a(n(31516));t.zoom=m;var v=a(n(15966));t.proactive=v;var _=a(n(28996));t.permissions=_;var y=i.dispatchers;t.appDispatchers=y;var b=r.dispatchers;t.positionDispatchers=b;var E=o.dispatchers;t.callbackDispatchers=E;var C=l.dispatchers;t.socialDispatchers=C;var T=u.dispatchers;t.userDispatchers=T;var w=s.dispatchers;t.agentsDispatchers=w;var S=c.dispatchers;t.chatsDispatchers=S;var k=d.dispatchers;t.transitionDispatchers=k;var I=f.dispatchers;t.messagesDispatchers=I;var A=p.dispatchers;t.clientDispatchers=A;var M=h.dispatchers;t.featuresDispatchers=M;var x=g.dispatchers;t.botsDispatchers=x;var R=m.dispatchers;t.zoomDispatchers=R;var O=v.dispatchers;t.proactiveDispatchers=O;var N=_.dispatchers;t.permissionsDispatchers=N},97783:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.updateWebRTCCallStatus=t.deleteMessage=t.updateMessageBody=t.editMessage=t.addMessages=t.addMessage=t.initializeMessagesStore=void 0;var i=a(n(2991)),r=n(54847),o=n(43472),l=n(14890),u=a(n(99357)),s=function(){var e,t=(0,i.default)(e=u.default.getAll()).call(e,(function(e){return e.store}));return{type:r.ActionType.INIT_MESSAGES_STORE,payload:{messages:t}}};t.initializeMessagesStore=s;var c=function(e,t){var n=e;return t||(n=u.default.push(n).store),{type:r.ActionType.ADD_MESSAGE,payload:{message:n}}};t.addMessage=c;var d=function(e){return u.default.pushAll(e),{type:r.ActionType.ADD_MESSAGES,payload:{messages:e}}};t.addMessages=d;var f=function(e){return{type:r.ActionType.EDIT_MESSAGE,payload:e}};t.editMessage=f;var p=function(e,t){var n=u.default.getMessageByPrivateId(e);return n&&n.set("body",t),{type:r.ActionType.UPDATE_MESSAGE_BODY,payload:{privateId:e,body:t}}};t.updateMessageBody=p;var h=function(e){return{type:r.ActionType.DELETE_MESSAGE,payload:e}};t.deleteMessage=h;var g=function(e,t){var n=u.default.getMessageByPrivateId(e);return n&&n.set("body",{webRTCCallStatus:t}),{type:r.ActionType.UPDATE_WEBRTCCALL_STATUS,payload:{privateId:e||null,webRTCCallStatus:t}}};t.updateWebRTCCallStatus=g;var m={initializeMessagesStore:(0,l.bindActionCreators)(s,o.reduxStore.dispatch),addMessage:(0,l.bindActionCreators)(c,o.reduxStore.dispatch),addMessages:(0,l.bindActionCreators)(d,o.reduxStore.dispatch),editMessage:(0,l.bindActionCreators)(f,o.reduxStore.dispatch),updateMessageBody:(0,l.bindActionCreators)(p,o.reduxStore.dispatch),deleteMessage:(0,l.bindActionCreators)(h,o.reduxStore.dispatch),updateWebRTCCallStatus:(0,l.bindActionCreators)(g,o.reduxStore.dispatch)};t.dispatchers=m},28996:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.updatePermission=void 0;var a=n(54847),i=n(43472),r=n(14890),o=function(e,t){return{type:a.ActionType.UPDATE_PERMISSION,payload:{permission:e,value:t}}};t.updatePermission=o;var l={updatePermission:(0,r.bindActionCreators)(o,i.reduxStore.dispatch)};t.dispatchers=l},17591:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setWidgetPositionRight=t.setWidgetPositionLeft=t.setWidgetPositionHeight=t.initializePositionStore=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(82036)),u=function(e){var t=e.height,n=e.left,a=e.right;return l.default.height=t,l.default.left=n,l.default.right=a,{type:i.ActionType.INIT_POSITION_STORE,payload:{height:t,left:n,right:a}}};t.initializePositionStore=u;var s=function(e){return l.default.height=e,{type:i.ActionType.CHANGE_POSITION_HEIGHT,payload:{height:e}}};t.setWidgetPositionHeight=s;var c=function(e){return l.default.left=e,{type:i.ActionType.CHANGE_POSITION_LEFT,payload:{left:e}}};t.setWidgetPositionLeft=c;var d=function(e){return l.default.right=e,{type:i.ActionType.CHANGE_POSITION_RIGHT,payload:{right:e}}};t.setWidgetPositionRight=d;var f={initializePositionStore:(0,o.bindActionCreators)(u,r.reduxStore.dispatch),setWidgetPositionHeight:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setWidgetPositionLeft:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),setWidgetPositionRight:(0,o.bindActionCreators)(d,r.reduxStore.dispatch)};t.dispatchers=f},15966:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setName=t.setStatus=t.addProactive=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(67966)),u=function(e,t){var n=e.createdTs,a=e.name,r=e.privateId,o=e.status,u=e.text,s=e.agentId;return l.default.set({proactiveName:a,private_id:r,status:o,text:u,created_ts:n,body:t}),{type:i.ActionType.ADD_PROACTIVE,payload:{createdTs:n,name:a,privateId:r,status:o,text:u,agentId:s}}};t.addProactive=u;var s=function(e){return l.default.set("status",e),{type:i.ActionType.SET_PROACTIVE_STATUS,payload:{status:e}}};t.setStatus=s;var c=function(e){return l.default.set("proactiveName",e),{type:i.ActionType.SET_PROACTIVE_NAME,payload:{name:e}}};t.setName=c;var d={addProactive:(0,o.bindActionCreators)(u,r.reduxStore.dispatch),setStatus:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setName:(0,o.bindActionCreators)(c,r.reduxStore.dispatch)};t.dispatchers=d},37780:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.initializeSocialStore=void 0;var a=n(54847),i=n(43472),r=n(14890),o=function(e){var t=e.vk,n=e.fb,i=e.mode;return{type:a.ActionType.INIT_SOCIAL_STORE,payload:{vk:t,fb:n,mode:i}}};t.initializeSocialStore=o;var l={initializeSocialStore:(0,r.bindActionCreators)(o,i.reduxStore.dispatch)};t.dispatchers=l},16792:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.startTransition=t.initializeTransitionStore=void 0;var a=n(54847),i=n(43472),r=n(14890),o=function(e){return{type:a.ActionType.INIT_TRANSITION_STORE,payload:e}};t.initializeTransitionStore=o;var l=function(e){return{type:a.ActionType.START_TRANSITION_SCRIPT,payload:{script:e}}};t.startTransition=l;var u={initializeTransitionStore:(0,r.bindActionCreators)(o,i.reduxStore.dispatch),startTransition:(0,r.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},55865:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setBubbleColor=t.setCallbackButtonColor=t.setPattern=t.setCallHeaderText=t.setWidgetFontType=t.setWidgetFontFamily=t.setWidgetFontSize=t.setOnlineWidgetLabel=t.setWidgetPadding=t.setWidgetOrientation=t.setWidgetFontColor=t.setWidgetColor2=t.setWidgetColor=void 0;var i=n(54847),r=n(43472),o=n(14890),l=a(n(62904)),u=a(n(62652)),s=function(e){return l.default.widget_color=e,u.default.widget_color=e,{type:i.ActionType.SET_WIDGET_COLOR,payload:{widgetColor:e}}};t.setWidgetColor=s;var c=function(e){return l.default.widget_color2=e,u.default.widget_color2=e,{type:i.ActionType.SET_WIDGET_COLOR2,payload:{widgetColor2:e}}};t.setWidgetColor2=c;var d=function(e){return l.default.widget_font_color=e,u.default.widget_font_color=e,{type:i.ActionType.SET_WIDGET_FONT_COLOR,payload:{widgetFontColor:e}}};t.setWidgetFontColor=d;var f=function(e){return l.default.widget_orientation=e,{type:i.ActionType.SET_WIDGET_ORIENTATION,payload:{widgetOrientation:e}}};t.setWidgetOrientation=f;var p=function(e){return l.default.widget_padding=e,{type:i.ActionType.SET_WIDGET_PADDING,payload:{widgetPadding:e}}};t.setWidgetPadding=p;var h=function(e){return l.default.online_widget_label=e,{type:i.ActionType.SET_ONLINE_WIDGET_LABEL,payload:{onlineWidgetLabel:e}}};t.setOnlineWidgetLabel=h;var g=function(e){return l.default.font_size=e,{type:i.ActionType.SET_WIDGET_FONT_SIZE,payload:{fontSize:e}}};t.setWidgetFontSize=g;var m=function(e){return l.default.font_family=e,{type:i.ActionType.SET_WIDGET_FONT_FAMILY,payload:{fontFamily:e}}};t.setWidgetFontFamily=m;var v=function(e){return l.default.font_type=e,{type:i.ActionType.SET_WIDGET_FONT_TYPE,payload:{fontType:e}}};t.setWidgetFontType=v;var _=function(e){return u.default.callText=e,{type:i.ActionType.SET_CALL_HEADER_TEXT,payload:{callHeaderText:e}}};t.setCallHeaderText=_;var y=function(e){return l.default.pattern=e,{type:i.ActionType.SET_PATTERN,payload:{pattern:e}}};t.setPattern=y;var b=function(e){return l.default.callback_btn_color=e,{type:i.ActionType.SET_CALLBACK_BUTTON_COLOR,payload:{callbackButtonColor:e}}};t.setCallbackButtonColor=b;var E=function(e){return l.default.bubble_color=e,{type:i.ActionType.SET_BUBBLE_COLOR,payload:{bubbleColor:e}}};t.setBubbleColor=E;var C={setWidgetColor:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setWidgetColor2:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),setWidgetFontColor:(0,o.bindActionCreators)(d,r.reduxStore.dispatch),setWidgetOrientation:(0,o.bindActionCreators)(f,r.reduxStore.dispatch),setWidgetPadding:(0,o.bindActionCreators)(p,r.reduxStore.dispatch),setOnlineWidgetLabel:(0,o.bindActionCreators)(h,r.reduxStore.dispatch),setWidgetFontSize:(0,o.bindActionCreators)(g,r.reduxStore.dispatch),setWidgetFontFamily:(0,o.bindActionCreators)(m,r.reduxStore.dispatch),setWidgetFontType:(0,o.bindActionCreators)(v,r.reduxStore.dispatch),setCallHeaderText:(0,o.bindActionCreators)(_,r.reduxStore.dispatch),setPattern:(0,o.bindActionCreators)(y,r.reduxStore.dispatch),setCallbackButtonColor:(0,o.bindActionCreators)(b,r.reduxStore.dispatch),setBubbleColor:(0,o.bindActionCreators)(E,r.reduxStore.dispatch)};t.dispatchers=C},31516:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.initializeZoomStore=void 0;var a=n(54847),i=n(43472),r=n(14890),o=function(e){var t=e.user,n=e.page,i=e.app;return{type:a.ActionType.INIT_ZOOM_STORE,payload:{user:t,page:n,app:i}}};t.initializeZoomStore=o;var l={initializeZoomStore:(0,r.bindActionCreators)(o,i.reduxStore.dispatch)};t.dispatchers=l},54847:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ActionType=void 0;t.ActionType={DO_NOTHING:"DO_NOTHING",INIT_POSITION_STORE:"INIT_POSITION_STORE",CHANGE_POSITION_HEIGHT:"CHANGE_POSITION_HEIGHT",CHANGE_POSITION_LEFT:"CHANGE_POSITION_LEFT",CHANGE_POSITION_RIGHT:"CHANGE_POSITION_RIGHT",INIT_CALLBACK_STORE:"INIT_CALLBACK_STORE",SET_CALL_AVAILABLE:"SET_CALL_AVAILABLE",SET_DELAYED_CALL_STATUS:"SET_DELAYED_CALL_STATUS",SET_CALL_IS_DELAYED:"SET_CALL_IS_DELAYED",SET_CALL_STATUS:"SET_CALL_STATUS",SET_CALL_ERROR:"SET_CALL_ERROR",SET_DELAYED_TIMEZONE:"SET_DELAYED_TIMEZONE",SET_DELAYED_PERIODS:"SET_DELAYED_PERIODS",SET_ACTIVE_WEBRTC_MESSAGE_ID:"SET_ACTIVE_WEBRTC_MESSAGE_ID",SET_WEBRTC_CALL_STATUS:"SET_WEBRTC_CALL_STATUS",INIT_SOCIAL_STORE:"INIT_SOCIAL_STORE",INIT_APP_STORE:"INIT_APP_STORE",SET_APP_IS_ONLINE:"SET_APP_IS_ONLINE",SET_APP_IS_FOCUSED:"SET_APP_IS_FOCUSED",SET_APP_ROUTE:"SET_APP_ROUTE",SET_LAST_CHAT_OPENED:"SET_LAST_CHAT_OPENED",SET_IS_IN_DRAG:"SET_IS_IN_DRAG",SET_IS_CONTACT_FORM_FOCUSED:"SET_IS_CONTACT_FORM_FOCUSED",SET_IS_INPUT_DISABLED:"SET_IS_INPUT_DISABLED",SET_MAINTENANCE:"SET_MAINTENANCE",SET_CHAT_OPEN_BY_CLIENT:"SET_CHAT_OPEN_BY_CLIENT",SET_WIDGET_COLOR:"SET_WIDGET_COLOR",SET_WIDGET_COLOR2:"SET_WIDGET_COLOR2",SET_WIDGET_FONT_COLOR:"SET_WIDGET_FONT_COLOR",SET_WIDGET_ORIENTATION:"SET_WIDGET_ORIENTATION",SET_WIDGET_PADDING:"SET_WIDGET_PADDING",SET_ONLINE_WIDGET_LABEL:"SET_ONLINE_WIDGET_LABEL",SET_WIDGET_FONT_SIZE:"SET_WIDGET_FONT_SIZE",SET_WIDGET_FONT_FAMILY:"SET_WIDGET_FONT_FAMILY",SET_WIDGET_FONT_TYPE:"SET_WIDGET_FONT_TYPE",SET_CALL_HEADER_TEXT:"SET_CALL_HEADER_TEXT",SET_PATTERN:"SET_PATTERN",SET_CALLBACK_BUTTON_COLOR:"SET_CALLBACK_BUTTON_COLOR",SET_BUBBLE_COLOR:"SET_BUBBLE_COLOR",INIT_AGENTS_STORE:"INIT_AGENTS_STORE",ADD_AGENT:"ADD_AGENT",UPDATE_AGENT:"UPDATE_AGENT",INIT_BOTS_STORE:"INIT_BOTS_STORE",ADD_BOT:"ADD_BOT",INIT_CHATS_STORE:"INIT_CHATS_STORE",START_CHAT:"START_CHAT",CLOSE_CHAT:"CLOSE_CHAT",SET_JOINED_AGENTS_IN_CURRENT_CHAT:"SET_JOINED_AGENTS_IN_CURRENT_CHAT",ADD_JOINED_AGENT_TO_CURRENT_CHAT:"ADD_JOINED_AGENT_TO_CURRENT_CHAT",REMOVE_AGENT_FROM_CURRENT_CHAT:"REMOVE_AGENT_FROM_CHAT",SET_CURRENT_CHAT_EVALUATED:"SET_CHAT_EVALUATED",SET_AGENT_TYPING:"SET_AGENT_TYPING",SET_CURRENT_CHAT_DEPARTMENT_ID:"SET_CHAT_DEPARTMENT_ID",SET_JOINED_BOTS:"SET_JOINED_BOTS",INIT_TRANSITION_STORE:"INIT_TRANSITION_STORE",START_TRANSITION_SCRIPT:"START_TRANSITION_SCRIPT",CONTINUE_TRANSITION_SCRIPT:"CONTINUE_TRANSITION_SCRIPT",STOP_TRANSITION_SCRIPT:"STOP_TRANSITION_SCRIPT",RESET_TRANSITON_SCRIPT:"RESET_TRANSITON_SCRIPT",INIT_MESSAGES_STORE:"INIT_MESSAGES_STORE",ADD_MESSAGE:"ADD_MESSAGE",ADD_MESSAGES:"ADD_MESSAGES",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",UPDATE_MESSAGE_BODY:"UPDATE_MESSAGE_BODY",INIT_CLIENT_STORE:"INIT_CLIENT_STORE",SET_HAS_INTEGRATION:"SET_HAS_INTEGRATION",SET_LAST_MESSAGE:"SET_LAST_MESSAGE",SET_IS_INTRODUCED:"SET_IS_INTRODUCED",SET_INPUT_TEXT:"SET_INPUT_TEXT",SET_USER_TOKEN:"SET_USER_TOKEN",SET_CUSTOM_DATA:"SET_CUSTOM_DATA",SET_CAPTCHA_TOKEN:"SET_CAPTCHA_TOKEN",SET_PA_ID:"SET_PA_ID",SET_EULA_ACCEPTED:"SET_EULA_ACCEPTED",SET_CLIENT_EMAIL:"SET_CLIENT_EMAIL",SET_CLIENT_NAME:"SET_CLIENT_NAME",SET_CLIENT_PHONE:"SET_CLIENT_PHONE",SET_CLIENT_DESCRIPTION:"SET_CLIENT_DESCRIPTION",SET_CLIENT_ID:"SET_CLIENT_ID",SET_CLIENT_SESSION_ID:"SET_CLIENT_SESSION_ID",SET_ASSIGNED_AGENT_ID:"SET_ASSIGNED_AGENT_ID",SET_DEPARTMENT_ID:"SET_DEPARTMENT_ID",SET_DISABLE_FILETRANSFER:"SET_DISABLE_FILETRANSFER",INIT_ZOOM_STORE:"INIT_ZOOM_STORE",ADD_PROACTIVE:"ADD_PROACTIVE",SET_PROACTIVE_STATUS:"SET_PROACTIVE_STATUS",SET_PROACTIVE_NAME:"SET_PROACTIVE_NAME",UPDATE_WEBRTCCALL_STATUS:"UPDATE_WEBRTCCALL_STATUS",UPDATE_PERMISSION:"UPDATE_PERMISSION"}},78055:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.logger=void 0;var f=a(n(87672)),p=a(n(75043)),h=a(n(9805));function g(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=g(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=g(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var v=p.default.name("Redux");t.logger=function(e){return function(t){return function(n){v.log("dispatching",n);var a=t(n);return h.default.getInstance()&&h.default.getInstance().saveReduxAction(m(m({},n),{},{ts:(new Date).getTime()})),v.log("next state",e.getState()),a}}}},83425:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _.ActionType.INIT_AGENTS_STORE:if(a&&a.length){var i=(0,v.default)(a).call(a,(function(e){return!e.isBot}));return(0,m.default)(i)}return(0,m.default)(e);case _.ActionType.ADD_AGENT:if(a){var r,o=(0,g.default)(e).call(e,(function(e){return e.id===a.id}));return o?(0,h.default)(e).call(e,(function(e){return e.id===a.id?b(b({},e),a):e})):(0,f.default)(r=[]).call(r,(0,m.default)(e),[b({},a)])}return(0,m.default)(e);case _.ActionType.UPDATE_AGENT:return a?(0,h.default)(e).call(e,(function(e){return e.id===a.id?b(b({},e),a):e})):(0,m.default)(e);default:return e}};var f=a(n(77766)),p=a(n(87672)),h=a(n(2991)),g=a(n(94473)),m=a(n(59036)),v=a(n(20116)),_=n(54847);function y(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=y(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=y(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var E=[]},29781:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.INIT_APP_STORE:return{isFocused:a.isFocused,isOnline:!!a.isOnline,route:a.route,tabRoute:a.tabRoute,lastChatOpened:a.lastChatOpened,isInDrag:a.isInDrag,isContactFormFocused:a.isContactFormFocused,isInputDisabled:a.isInputDisabled,maintenance:a.maintenance,chatOpenByClient:a.chatOpenByClient};case p.ActionType.SET_APP_IS_ONLINE:return g(g({},e),{},{isOnline:a.isOnline});case p.ActionType.SET_APP_IS_FOCUSED:return g(g({},e),{},{isFocused:a.isFocused});case p.ActionType.SET_CHAT_OPEN_BY_CLIENT:return g(g({},e),{},{chatOpenByClient:a.chatOpenByClient});case p.ActionType.SET_APP_ROUTE:return g(g({},e),{},{route:a.route});case p.ActionType.SET_LAST_CHAT_OPENED:return g(g({},e),{},{lastChatOpened:a.lastChatOpened});case p.ActionType.SET_IS_IN_DRAG:return g(g({},e),{},{isInDrag:a.isInDrag});case p.ActionType.SET_IS_CONTACT_FORM_FOCUSED:return g(g({},e),{},{isContactFormFocused:a.isContactFormFocused});case p.ActionType.SET_IS_INPUT_DISABLED:return g(g({},e),{},{isInputDisabled:a.isInputDisabled});case p.ActionType.SET_MAINTENANCE:return g(g({},e),{},{maintenance:a.maintenance});default:return e}};var f=a(n(87672)),p=n(54847);function h(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=h(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=h(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var m={isFocused:null,isOnline:null,route:null,tabRoute:null,lastChatOpened:null,isInDrag:null,isContactFormFocused:null,isInputDisabled:null,maintenance:null,chatOpenByClient:null}},30183:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _.ActionType.INIT_BOTS_STORE:if(a&&a.length){var i=(0,v.default)(a).call(a,(function(e){return e.isBot}));return(0,m.default)(i)}return(0,m.default)(e);case _.ActionType.ADD_BOT:if(a){var r,o=(0,g.default)(e).call(e,(function(e){return e.id===a.id}));return o?(0,h.default)(e).call(e,(function(e){return e.id===a.id?b(b({},e),a):e})):(0,f.default)(r=[]).call(r,(0,m.default)(e),[b({},a)])}return(0,m.default)(e);default:return e}};var f=a(n(77766)),p=a(n(87672)),h=a(n(2991)),g=a(n(94473)),m=a(n(59036)),v=a(n(20116)),_=n(54847);function y(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=y(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=y(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var E=[]},77781:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.INIT_CALLBACK_STORE:return{available:a.available,delayedPeriods:a.delayedPeriods,delayedStatus:a.delayedStatus,delayedTimezone:a.delayedTimezone,isDelayed:a.isDelayed,status:a.status,error:a.error,activeWebRTCCallMessageId:a.activeWebRTCCallMessageId,webRTCCallStatus:a.webRTCCallStatus,separateForm:a.separateForm};case p.ActionType.SET_CALL_AVAILABLE:return g(g({},e),{},{available:a.available});case p.ActionType.SET_DELAYED_PERIODS:return g(g({},e),{},{delayedPeriods:a.delayedPeriods});case p.ActionType.SET_DELAYED_CALL_STATUS:return g(g({},e),{},{delayedStatus:a.delayedStatus});case p.ActionType.SET_CALL_IS_DELAYED:return g(g({},e),{},{isDelayed:a.isDelayed});case p.ActionType.SET_CALL_STATUS:return g(g({},e),{},{status:a.status});case p.ActionType.SET_CALL_ERROR:return g(g({},e),{},{error:a.error});case p.ActionType.SET_ACTIVE_WEBRTC_MESSAGE_ID:return g(g({},e),{},{activeWebRTCCallMessageId:a.activeWebRTCCallMessageId});case p.ActionType.SET_WEBRTC_CALL_STATUS:return g(g({},e),{},{webRTCCallStatus:a.webRTCCallStatus});default:return e}};var f=a(n(87672)),p=n(54847);function h(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=h(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=h(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var m={available:null,delayedPeriods:null,delayedStatus:null,delayedTimezone:null,isDelayed:null,status:null,error:null,activeWebRTCCallMessageId:null,webRTCCallStatus:null,separateForm:null}},51369:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(!a)return e;switch(n){case v.ActionType.INIT_CHATS_STORE:return(0,m.default)(a);case v.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT:return e.length?(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{joinedAgents:(0,m.default)(a.joinedAgents)})})):[b(b({},C),{},{joinedAgents:(0,m.default)(a.joinedAgents)})];case v.ActionType.SET_JOINED_BOTS:return a.joinedBots&&a.joinedBots.length>=0?e.length?(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{joinedBots:a.joinedBots.length?(0,m.default)(a.joinedBots):[]})})):[b(b({},C),{},{joinedBots:a.joinedBots.length?(0,m.default)(a.joinedBots):[]})]:e;case v.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT:return a.agentId>=0?e.length?(0,g.default)(e).call(e,(function(t,n){var i,r;return n!==e.length-1||(0,p.default)(i=e[n].joinedAgents).call(i,a.agentId)?t:b(b({},t),{},{joinedAgents:(0,f.default)(r=[]).call(r,(0,m.default)(e[n].joinedAgents),[a.agentId])})})):[b(b({},C),{},{joinedAgents:a.agentId?[a.agentId]:[]})]:e;case v.ActionType.SET_AGENT_TYPING:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{agentTyping:a.agentTyping})}));case v.ActionType.SET_CURRENT_CHAT_EVALUATED:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{evaluated:a.evaluated})}));case v.ActionType.SET_CURRENT_CHAT_DEPARTMENT_ID:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{departmentId:a.departmentId})}));case v.ActionType.CLOSE_CHAT:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{state:a.state,joinedAgents:(0,m.default)(a.joinedAgents)})}));default:return e}};var f=a(n(77766)),p=a(n(78580)),h=a(n(87672)),g=a(n(2991)),m=a(n(59036)),v=n(54847),_=n(20965);function y(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=y(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=y(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var E=[],C={state:_.ChatState.NOT_STARTED_OR_CLOSED,evaluated:null,departmentId:null,joinedAgents:[],joinedBots:[],id:null,agentTyping:null}},43683:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.INIT_CLIENT_STORE:return{assignedAgentId:a.assignedAgentId,clientId:a.clientId,description:a.description,email:a.email,eulaAccepted:a.eulaAccepted,hasIntegration:a.hasIntegration,isBlacklisted:a.isBlacklisted,isIntroduced:a.isIntroduced,lastMessage:a.lastMessage,name:a.name,priorityAgentId:a.priorityAgentId,phone:a.phone,sessionId:a.sessionId,utm:a.utm,visitorId:a.visitorId,inputText:a.inputText,userToken:a.userToken,customData:null,captchaToken:null,departmentId:a.departmentId};case p.ActionType.SET_HAS_INTEGRATION:return g(g({},e),{},{hasIntegration:a.hasIntegration});case p.ActionType.SET_LAST_MESSAGE:return g(g({},e),{},{lastMessage:a.lastMessage});case p.ActionType.SET_IS_INTRODUCED:return g(g({},e),{},{isIntroduced:a.isIntroduced});case p.ActionType.SET_INPUT_TEXT:return g(g({},e),{},{inputText:a.inputText});case p.ActionType.SET_USER_TOKEN:return g(g({},e),{},{userToken:a.userToken});case p.ActionType.SET_CUSTOM_DATA:return g(g({},e),{},{customData:a.customData});case p.ActionType.SET_CAPTCHA_TOKEN:return g(g({},e),{},{captchaToken:a.captchaToken});case p.ActionType.SET_EULA_ACCEPTED:return g(g({},e),{},{eulaAccepted:a.eulaAccepted});case p.ActionType.SET_CLIENT_EMAIL:return g(g({},e),{},{email:a.email});case p.ActionType.SET_CLIENT_NAME:return g(g({},e),{},{name:a.name});case p.ActionType.SET_CLIENT_PHONE:return g(g({},e),{},{phone:a.phone});case p.ActionType.SET_CLIENT_DESCRIPTION:return g(g({},e),{},{description:a.description});case p.ActionType.SET_CLIENT_ID:return g(g({},e),{},{clientId:a.clientId});case p.ActionType.SET_CLIENT_SESSION_ID:return g(g({},e),{},{sessionId:a.sessionId});case p.ActionType.SET_ASSIGNED_AGENT_ID:return g(g({},e),{},{assignedAgentId:a.assignedAgentId});case p.ActionType.SET_DEPARTMENT_ID:return g(g({},e),{},{departmentId:a.departmentId});default:return e}};var f=a(n(87672)),p=n(54847);function h(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=h(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=h(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var m={assignedAgentId:null,clientId:null,description:null,email:null,eulaAccepted:null,hasIntegration:null,isBlacklisted:null,isIntroduced:null,lastMessage:null,name:null,priorityAgentId:null,phone:null,sessionId:null,utm:{campaign:null,content:null,keyword:null,medium:null,source:null},visitorId:null,inputText:null,userToken:null,customData:null,captchaToken:null,departmentId:null}},40758:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(14890),r=a(n(83425)),o=a(n(29781)),l=a(n(30183)),u=a(n(77781)),s=a(n(51369)),c=a(n(43683)),d=a(n(86461)),f=a(n(52917)),p=a(n(18355)),h=a(n(84868)),g=a(n(3433)),m=a(n(10466)),v=a(n(21589)),_=(0,i.combineReducers)({agents:r.default,app:o.default,bots:l.default,callback:u.default,chats:s.default,client:c.default,messages:d.default,position:f.default,proactive:p.default,settings:h.default,social:g.default,transition:m.default,zoom:v.default});t.default=_},86461:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m.ActionType.INIT_MESSAGES_STORE:return a.messages?(0,g.default)(a.messages):(0,g.default)(e);case m.ActionType.ADD_MESSAGE:var i;return a.message?(0,h.default)(i=[]).call(i,(0,g.default)(e),[a.message]):(0,g.default)(e);case m.ActionType.ADD_MESSAGES:var r;return a.messages&&a.messages.length?(0,h.default)(r=[]).call(r,(0,g.default)(e),(0,g.default)(a.messages)):(0,g.default)(e);case m.ActionType.UPDATE_MESSAGE_BODY:return a.privateId&&a.body?(0,g.default)((0,p.default)(e).call(e,(function(e){return e.private_id===a.privateId?_(_({},e),{},{body:a.body}):e}))):(0,g.default)(e);case m.ActionType.EDIT_MESSAGE:case m.ActionType.DELETE_MESSAGE:return(0,g.default)(e);case m.ActionType.UPDATE_WEBRTCCALL_STATUS:return a.privateId&&a.webRTCCallStatus?(0,g.default)((0,p.default)(e).call(e,(function(e){return e.private_id===a.privateId?_(_({},e),{},{body:_(_({},e.body),{},{webRTCCallStatus:a.webRTCCallStatus})}):e}))):(0,g.default)(e);default:return e}};var f=a(n(87672)),p=a(n(2991)),h=a(n(77766)),g=a(n(59036)),m=n(54847);function v(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=v(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=v(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var y=[]},52917:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.INIT_POSITION_STORE:return{height:a?a.height:e.height,left:a?a.left:e.left,right:a?a.right:e.right};case p.ActionType.CHANGE_POSITION_HEIGHT:return g(g({},e),{},{height:a?a.height:e.height});case p.ActionType.CHANGE_POSITION_LEFT:return g(g({},e),{},{left:a?a.left:e.left});case p.ActionType.CHANGE_POSITION_RIGHT:return g(g({},e),{},{right:a?a.right:e.right});default:return e}};var f=a(n(87672)),p=n(54847);function h(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=h(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=h(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var m={height:null,left:null,right:null}},18355:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.ADD_PROACTIVE:return a?{createdTs:a.createdTs||null,name:a.name||null,privateId:a.privateId||null,status:a.status||null,text:a.text||null}:e;case p.ActionType.SET_PROACTIVE_STATUS:return g(g({},e),{},{status:a.status});case p.ActionType.SET_PROACTIVE_NAME:return g(g({},e),{},{name:a.name});default:return e}};var f=a(n(87672)),p=n(54847);function h(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=h(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=h(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var m={createdTs:null,name:null,privateId:null,status:null,text:null}},11171:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.features=void 0;var f=a(n(87672)),p=n(54847),h=a(n(62904));function g(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=g(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=g(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var v=h.default.eula,_={apiInvitation:!!h.default.enable_api_invitation||null,disableEmoji:!!h.default.disable_emoji||null,disableErrorReporting:!!h.default.disable_error_reporting||null,disableFiletransfer:!!h.default.disable_filetransfer||null,disableMobile:!!h.default.disable_mobile||null,disableTelemetry:!!h.default.disable_telemetry||null,eula:v&&{customAgreement:v.custom_agreement||null,customTitle:v.custom_title||null,externalLink:v.external_link||null,titleExternalLink:v.title_external_link||null,useGdpr:v.use_gdpr||null}||null,joint:h.default.joint||null,logs:!!h.default.logs||null,mobileProactive:!!h.default.mobile_proactive||null,newVisitorsInsight:!!h.default.new_visitors_insight||null,prechat:!!h.default.enable_prechat||null,regions:h.default.regions||null,typingInsight:!!h.default.typing_insight||null,webhooks:h.default.webhooks_enabled||null,widgetStatus:h.default.enable_widget_status||null,webRTCSeparateWindow:!!h.default.enable_webrtc_separate_window||null,enableTop100:!!h.default.enable_top100||null,enableMediaSevice:!!h.default.enable_media_service_uploading||null,enableRequestVideocall:!!h.default.enable_request_videocall||null};t.features=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.SET_DISABLE_FILETRANSFER:return m(m({},e),{},{disableFiletransfer:a.disableFiletransfer});default:return e}}},84868:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(14890),i=n(11171),r=n(74310),o=n(83641),l=n(99637),u=(0,a.combineReducers)({features:i.features,system:r.system,user:o.user,permissions:l.permissions});t.default=u},99637:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.permissions=void 0;var f,p=a(n(87672)),h=n(54847),g=n(2843);function m(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=m(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=m(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var _=(f={},(0,p.default)(f,g.Permission.AUDIO,g.PermissionStatus.UNKNOWN),(0,p.default)(f,g.Permission.VIDEO,g.PermissionStatus.UNKNOWN),f);t.permissions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.UPDATE_PERMISSION:return v(v({},e),{},(0,p.default)({},a.permission,a.value));default:return v({},e)}}},74310:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.system=void 0;var i=a(n(62904)),r={abSegment:i.default.ab_segment||null,apiDomain:i.default.api_domain||null,apiHost:i.default.api_host||null,avatarUrl:i.default.avatar_url||null,baseUrl:i.default.base_url||null,botmode:!!i.default.botmode||null,buildNumber:i.default.build_number||null,comet:i.default.comet&&{host:i.default.comet.host||null}||null,configUpdatedTs:i.default.config_updated_ts||null,cookieDomain:i.default.cookie_domain||null,geoIp:i.default.geoip||null,hostBlacklist:i.default.host_blacklist||null,premium:i.default.options||null,siteId:i.default.site_id||null,staticHost:i.default.static_host||null,telHost:i.default.telHost||null,unverified:i.default.unverified||null,viHost:i.default.vi_host||null,widgetId:i.default.widget_id||null,billRu:!!i.default.bill_ru,eula:i.default.eula||null};t.system=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e}},83641:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(20368),o=n(39649),l=n(78914),u=n(34074),s=n(20116),c=n(14310),d=n(86902);i(t,"__esModule",{value:!0}),t.user=void 0;var f=a(n(87672)),p=n(54847),h=a(n(62904)),g=a(n(75119));function m(e,t){var n=d(e);if(c){var a=c(e);t&&(a=s(a).call(a,(function(t){return u(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)l(n=m(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(o)r(e,o(a));else{var s;l(s=m(Object(a))).call(s,(function(t){i(e,t,u(a,t))}))}}return e}var _={bubbleColor:h.default.bubble_color||null,callback:h.default.callback_settings&&{time:h.default.callback_settings.time||null,button:!!h.default.callback_settings.button||null,countries:h.default.callback_settings.countries||null}||null,callbackButtonColor:h.default.callback_btn_color||null,chatMode:h.default.chat_mode||null,contactsAsk:h.default.contacts_ask||null,contactsSettings:h.default.contacts_settings||null,custom_langpack:h.default.custom_langpack||null,departments:h.default.departments||null,fontFamily:h.default.font_family||"Arial",fontSize:h.default.font_size||"15",fontType:h.default.font_type||"normal",hideAd:h.default.hide_ad||null,hideOffline:h.default.hide_offline||null,locale:h.default.locale||null,offlineFormText:h.default.offline_form_text||null,offlineFormTitle:h.default.offline_form_title||null,offlineWidgetLabel:h.default.offline_widget_label||(0,g.default)("defOfflineWidgetLabelMobile"),onlineWidgetLabel:h.default.online_widget_label||(0,g.default)("defOnlineWidgetLabel"),pattern:h.default.pattern||null,powerButtonColor:h.default.power_button_color||"#44BB6E",powerButtonPhone:h.default.power_button_phone||null,powerGradient:!!h.default.power_gradient||null,prechat:h.default.prechat||null,rules:h.default.rules||null,showRateForm:h.default.show_rate_form||null,socialResponse:h.default.social_response||null,widgetColor:h.default.widget_color||null,widgetColor2:h.default.widget_color2||null,widgetFontColor:h.default.widget_font_color||null,widgetMobileOrientation:h.default.widget_mobile_orientation||"right",widgetOrientation:h.default.widget_orientation||"bottom",widgetPadding:h.default.widget_padding||"100",wixAgentDisplayName:h.default.wix_agent_display_name||null,wixAgentTitle:h.default.wix_agent_title||null,callHeaderText:null};t.user=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p.ActionType.SET_WIDGET_COLOR:return v(v({},e),{},{widgetColor:a.widgetColor});case p.ActionType.SET_WIDGET_COLOR2:return v(v({},e),{},{widgetColor2:a.widgetColor2});case p.ActionType.SET_WIDGET_FONT_COLOR:return v(v({},e),{},{widgetFontColor:a.widgetFontColor});case p.ActionType.SET_WIDGET_ORIENTATION:return v(v({},e),{},{widgetOrientation:a.widgetOrientation});case p.ActionType.SET_WIDGET_PADDING:return v(v({},e),{},{widgetPadding:a.widgetPadding});case p.ActionType.SET_ONLINE_WIDGET_LABEL:return v(v({},e),{},{onlineWidgetLabel:a.onlineWidgetLabel});case p.ActionType.SET_WIDGET_FONT_FAMILY:return v(v({},e),{},{fontFamily:a.fontFamily});case p.ActionType.SET_WIDGET_FONT_SIZE:return v(v({},e),{},{fontSize:a.fontSize});case p.ActionType.SET_WIDGET_FONT_TYPE:return v(v({},e),{},{fontType:a.fontType});case p.ActionType.SET_CALL_HEADER_TEXT:return v(v({},e),{},{callHeaderText:a.callHeaderText});case p.ActionType.SET_PATTERN:return v(v({},e),{},{pattern:a.pattern});case p.ActionType.SET_CALLBACK_BUTTON_COLOR:return v(v({},e),{},{callbackButtonColor:a.callbackButtonColor});case p.ActionType.SET_BUBBLE_COLOR:return v(v({},e),{},{bubbleColor:a.bubbleColor});default:return e}}},3433:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_SOCIAL_STORE:return r?{vk:r.vk||null,fb:r.fb||null,mode:r.mode||null}:e;default:return e}};var a=n(54847),i={vk:null,fb:null,mode:null}},10466:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_TRANSITION_STORE:return{currentScript:r&&r.currentScript||null};case a.ActionType.START_TRANSITION_SCRIPT:return{currentScript:r&&r.script||e.currentScript};default:return e}},t.initialState=void 0;var a=n(54847),i={currentScript:null};t.initialState=i},21589:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_ZOOM_STORE:return r?{user:r.user||null,page:r.page||null,app:r.app||null}:e;default:return e}};var a=n(54847),i={user:null,page:null,app:null}},43472:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.reduxStore=void 0;var i=n(14890),r=a(n(40758)),o=n(78055),l=(a(n(75043)).default.name("ReduxStore"),(0,i.createStore)(r.default,(0,i.applyMiddleware)(o.logger)));t.reduxStore=l},44299:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o=a(n(23765)),l=a(n(33032)),u=a(n(54103)),s=a(n(77766)),c=a(n(51942)),d=a(n(62107)),f=n(56602),p=a(n(62904)),h=a(n(62652)),g=a(n(36216)),m=a(n(69961)),v=a(n(40695)),_=a(n(92234)),y=a(n(47321)),b=a(n(99357)),E=a(n(67966)),C=a(n(44992)),T=a(n(18750)),w=n(8565),S=n(17674),k=n(85442),I=n(75245),A=n(81426),M=n(33367),x=n(63242),R=n(11470),O=n(99112),N=a(n(5972)),D=a(n(93268)),L=n(81189),P=n(53172),B=a(n(75043)).default.name("ruleManager"),j=new(0,n(89766).EventEmitter),F=(0,c.default)(j,{rules:[],canInvite:!0,init:function(){var e=d.default.defaults(this.rules,p.default.rules);(0,R.setRuleLocal)("pageEnterTime",(new Date).getTime()),(0,R.addPageView)(),m.default.agent_id&&h.default.chat_started&&h.default.is_online||(0===e.length&&d.default.isArray(p.default.proactive_rules)&&p.default.proactive_rules.length>0?(this.importLegacy(),this.ready()):this.ready())},ready:function(){B.log("RULE MANAGER READY");var e=this.rules;this.rules=[];for(var t=0;t<e.length;t++)e[t].conditions?this.rules.push(new U(e[t],t)):B.warn("Remove rule without condition.")},importLegacy:function(){var e;B.log("importing from proactive_rules"),M.Monitoring.telemetry(x.TelemetryName.IMPORT_LEGACY);for(var t=["contain","equal","regexp"],n=0;n<p.default.proactive_rules.length;n++){e=p.default.proactive_rules[n],d.default.defaults(e,{name:e.invitationText,urlPrefix:[{url:"/",mm:0}],page_timeout:20,close_timeout:300,enter_timeout:0,pages_count:0});for(var a=0;a<e.urlPrefix.length;a++)this.rules.push({legacyId:e.id,name:e.name,type:"all",conditions:[{condition:"online",value:!0},{condition:"time_on_page",comparator:"greater_equal",value:e.page_timeout},{condition:"time_after_close",comparator:"greater_equal",value:e.close_timeout},{condition:"time_on_site",comparator:"greater_equal",value:e.enter_timeout},{condition:"pages_count",comparator:"greater_equal",value:e.pages_count},{condition:"page_url",comparator:t[e.urlPrefix[a].mm],value:e.urlPrefix[a].url}],commands:[{command:"proactive",params:{message:e.invitationText}}]})}},moveCloseButton:function(){d.default.each(this.rules,(function(e){(0,R.setRuleLocal)("movedToCloseButton",!0),e.tick()}),this)},mouseScroll:function(e){d.default.each(this.rules,(function(t){(0,R.setRuleLocal)("scrollPosition",e),t.tick()}),this)},cancelRule:function(e){B.log("canceling rule",e);for(var t=0;t<this.rules.length;t+=1)!this.rules[t].isTriggered&&this.rules[t].cancel&&this.rules[t].commands[0].command===e&&this.rules[t].cancel();"proactive"===e&&(this.canInvite=!1)},allRulesCancel:function(){B.log("allRulesCancel");for(var e=0;e<this.rules.length;e++)!this.rules[e].isTriggered&&this.rules[e].cancel&&this.rules[e].cancel()},handleOnceADay:function(e,t){if(B.log("handleOnceADay",e),e&&e.name){var n,a=t.id?"id"+t.id:"i"+t.index;D.default.set((0,s.default)(n="".concat(e.name,"_")).call(n,a),e.value||null,86400)}},showProactive:function(e,t,n){B.log("showProactive");var a=b.default.getCurrentChatMessages();if(!this.canInvite||E.default.get("text")||b.default.getCurrentProactive()||S.Router.getCurrentRoute()==k.Route.CHAT&&(0,P.getApp)().chatOpenByClient||h.default.chat_started&&a&&a.length)B.log("showProactive cant invite");else{(0,O.pageVisible)()||g.default.reload();T.default.getActiveAgent((function(t){B.log("widget status",t),t&&(S.Router.getCurrentRoute()===k.Route.LABEL||(0,f.isChatPage)())?(t.bot_id||g.default.pa_id&&g.default.pa_id===t.agent_id||L.clientDispatchers.setPaId(t.agent_id),_.default.proactive(e,t,n),(0,R.setInvitationTime)(),F.emit("show_proactive"),C.default.play("notification"),I.messageActions.addPrechatMessage(),v.default.trackProactiveInvitationShown(n)):B.log('invitation failed, no agent OR route != "label"')}),t)}},showCallForm:function(e,t){(0,P.getApp)().route!=k.Route.LABEL||E.default.get("text")&&E.default.get("status")!=w.MessageStatus.READ?B.warn("ignore showCallForm due to proactive"):_.default.showCallForm(e,(function(){F.emit("show_proactive"),C.default.play("notification"),(0,R.setInvitationTime)(),v.default.trackCallWidgetInvitationShown(t)}))}}),H=(0,c.default)(j,{inited:!1,initialize:function(){this.inited||(this.initScroll(),this.initClose(),this.inited=!0)},initScroll:function(){var e;i=d.default.throttle((0,u.default)(e=this._scroll).call(e,this),150),(0,f.addListener)(window.parent,"scroll",i)},initClose:function(){this.last_position={},r=d.default.throttle((0,u.default)(d.default).call(d.default,this._mouse,this),100),(0,f.addListener)(window.parent,"mousemove",r)},_mouse:function(e){if(this.timerId&&clearTimeout(this.timerId),void 0!==this.last_position.x){var t=this.last_position.x-e.clientX,n=this.last_position.y-e.clientY,a=Math.abs(n)>Math.abs(t)&&n>0,i=e.clientY>>0==0,r=e.clientY<=30,o=e.clientY<=this.last_position.dY+30&&n>e.clientY&&n>25;a&&(i||r&&o)&&(this.timerId=(0,l.default)((function(){F.moveCloseButton()}),200))}this.last_position={x:e.clientX,y:e.clientY,dY:this.last_position.y-e.clientY}},_scroll:function(){var e=window.parent.document,t=e.documentElement.clientHeight;t===e.documentElement.scrollHeight&&(t=e.body.clientHeight),F.mouseScroll(Math.round((e.documentElement.scrollTop+e.body.scrollTop)/(e.documentElement.scrollHeight-t)*100))},removeEvents:function(){i&&(0,f.removeEvent)(window.parent,"scroll",i),r&&(0,f.removeEvent)(window.parent,"scroll",r)}}),U=function(e,t){var n={initialize:function(){d.default.defaults(this,e),this.index=t,d.default.each(this.conditions,(function(e){"week_day"===e.condition&&"0"===e.value&&(e.value="7")})),this.timeConditions=[];var n=this.commands[0],a=!1,i=this.id?"id"+this.id:"i"+this.index,r=n.command+"_onceADay_"+i;B.log(r);var o=D.default.get(r),l=(0,R.hasOnceCondition)(this.conditions);if(l&&o){if(!1!==l.value)return void B.log('Ignore "'.concat(this.name,'" rule, already triggered today.'));D.default.set(r,null,1)}if(!l&&n.params&&(n.params.once_aday||n.params.onceADay)&&o)B.log("is once a day rule",this.name);else{if(this.conditions)for(var u=0;u<this.conditions.length;u++){var c=this.conditions[u];if((0,R.isGoalCondition)(c.condition)&&H.initialize(),"once_a_day"===c.condition&&(a=!0),(0,R.isTimeCondition)(c.condition)||(0,R.isGoalCondition)(c.condition)){var f,p,h,g=(0,R.getValue)(c.condition,n.command);B.info((0,s.default)(f=(0,s.default)(p=(0,s.default)(h="".concat(this.name,"; init condition ")).call(h,c.condition,"; expected=")).call(p,c.value,"; actual=")).call(f,g)),this.timeConditions.push(c)}else{if("page_url"===c.condition)c.value=c.value.replace(/http(|s):\/\//,"");else if("ab_test_group"===c.condition&&!N.default.get("ab_test_group")){var m=Math.round(Math.random()),_=c.group_name?c.group_name:"JivoSite A/B Group";N.default.set("ab_test_group",m?"group_a":"group_b"),v.default.setABTestGroupContacts(_,m?"Group A":"Group B")}if((0,R.checkCondition)(c,this.name))a=!0;else if("all"===this.type)return}}this.timeConditions.length>0?(0,R.checkTimeConditions)(this.timeConditions,this.type,this.name)?this.triggered():this.timeWait():a&&this.triggered()}},timeWait:function(){var e=this;clearTimeout(this.timeWaitTimeout),this.timeWaitTimeout=(0,l.default)((function(){e.tick()}),1e3)},tick:function(){!this.isTriggered&&(0,R.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()},cancel:function(){clearTimeout(this.timeWaitTimeout),this.isTriggered=!0},triggered:function(){B.log("triggered",this.name);var e=this.commands[0];clearTimeout(this.timeWaitTimeout),this.isTriggered=!0;var t={};e.params&&"object"===(0,o.default)(e.params)&&(t={name:e.command+"_onceADay",value:e.params.once_aday||e.params.onceADay?1:null});var n=(0,R.hasOnceCondition)(this.conditions);B.log("onceCondition",n,this.conditions),n&&(t={name:e.command+"_onceADay",value:n.value});var a=(0,R.isPopupCommand)(e.command),i=(0,P.getApp)().route,r=(0,P.getApp)().isOnline;if(i!==k.Route.LABEL&&a&&(0,P.getApp)().chatOpenByClient)B.log("cant show proactive",i);else if(a&&(0,R.isYandexMarketClient)(g.default.utm))B.log("ignore proactive for YMarket");else{var l=b.default.getLastMessage();switch(e.command){case"proactive":F.showProactive(e.params.message,e.params.department,this.name);break;case"open_offline":if(p.default.chat_mode===A.ChatMode.ONLINE||"hidden"==i)return;if("ok"==h.default.cap_result||h.default.chat_started)return;(0,R.setInvitationTime)(),e.params&&(e.params.title&&(p.default.offline_form_title=e.params.title),e.params.message&&(I.messageActions.deleteOfflineSystemInvites(),p.default.offline_form_text=e.params.message)),_.default.openOffline(e),F.emit("show_proactive"),C.default.play("notification"),v.default.trackProactiveInvitationShown(this.name),F.cancelRule("open_offline"),M.Monitoring.telemetry(x.TelemetryName.OFFLINE_INVITE);break;case"hide":y.default.hideWidget();break;case"system_message":r&&(l&&l.get("type")===w.MessageType.SYSTEM&&l.get("text")===e.params.message&&l.destroy(),(0,R.setInvitationTime)(),_.default.systemMessage(e.params.message),I.messageActions.addPrechatMessage());break;case"system_message_email":if(!r)return;if(r&&3===p.default.contacts_ask)return void B.log("systemMessageEmail failed, contact settings is social");if(g.default.client_info.email)return void B.log("Client already has email. Rule ignored.");if((0,f.hasIntegration)(g.default.has_integration))return void B.log("systemMessageEmail failed, client has integration");(0,R.setInvitationTime)(),_.default.systemMessageEmail(e.params.message),I.messageActions.addPrechatMessage();break;case"show_callform":F.showCallForm(e.params.title.replace("<br>","").replace("<span>","").replace("<span style='color: #40cd72'>","").replace("</span>",""),this.name)}F.handleOnceADay(t,this)}}};return n.initialize(),B.log("ruleAfterInit",n),n};m.default.addListener((function(){m.default.agent_id&&h.default.chat_started&&h.default.is_online&&F.allRulesCancel()})),b.default.on("create",(function(){b.default.getCurrentClientMessages().length&&!(0,R.getRuleLocal)("firstMessageTime")&&(B.log("cancelRules, we have client messsages."),F.cancelRule("proactive"),F.cancelRule("show_callform"));var e=b.default.getLastMessage();e&&"proactive"===e.get("type")&&F.cancelRule("proactive"),b.default.getAgentTextMessages().length&&"client"!==e.get("from")&&(B.log("cancel system_message, we have agentMessage"),F.cancelRule("system_message"))})),(0,f.addListener)(window.parent,"jBeforeunload",H.removeEvents);var W=F;t.default=W},69961:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(92142)),r=(a(n(75043)).default.name("agent"),(0,i.default)({agent_id:0,bot_id:0,display_name:null,title:null,avatar_url:null,typing:0}));r.toReduxFormat=function(){return{avatarUrl:(e=r).avatar_url||null,id:e.agent_id||e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!!e.bot_id};var e};var o=r;t.default=o},62652:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(62904)),o=i(n(62107)),l=i(n(36216)),u=a(n(92142)),s=i(n(58061)),c=n(56602),d=n(11470),f=n(85442),p=n(24335),h=n(81426),g=i(n(93268)),m=(i(n(75043)).default.name("app"),{route:f.Route.LABEL,is_online:0,is_focused:0,chat_started:!1,chat_accepted:!1,widget_color:r.default.widget_color,widget_color2:r.default.widget_color2,widget_font_color:r.default.widget_font_color,cap_id:null,cap_result:null,proactiveName:!1,forcedOffline:!1,callText:null,proactive:!1,eula_accepted:!1,show_eula:!1,width:!1,height:!1,viReconnectTime:null,show_container:!1,lastMsgId:null,lastChatOpened:null,started:!1,lastMsgTime:null}),v=p.isDesignerEditor?null:"".concat(r.default.widget_id,"_app"),_=(0,u.default)(m,v);_.widget_color=r.default.widget_color,_.widget_color2=r.default.widget_color2,_.widget_font_color=r.default.widget_font_color,_.is_online=r.default.chat_mode===h.ChatMode.ONLINE?1:0,r.default.chat_mode===h.ChatMode.OFFLINE||null!==l.default.jv_sess_id||(_.chat_started=!1),(0,c.isWixEditor)()&&(_.chat_started=!1),_.chat_started?"cw_call_end"!=l.default.cw_call.status&&"cw_error"!=l.default.cw_call.status||(l.default.cw_call.status=!1):("col_old_page"!==window.parent.name&&(_.route=f.Route.LABEL),l.default.evaluate=!1,l.default.cw_call.status=!1,l.default.cw_call.error=!1),s.default.mobileOrTablet()&&(_.route=f.Route.LABEL),o.default.defaults(r.default,{contacts_settings:{name:{show:!1,required:!1},phone:{show:!1,required:!1},email:{show:!1,required:!1}}});var y=!0;o.default.each(["name","phone","email"],(function(e){r.default.contacts_settings[e].show&&(y=!1)}),void 0),y&&(r.default.contacts_ask=2),1!=r.default.hide_offline||512&r.default.options||(r.default.hide_offline=0),1!=r.default.show_rate_form||64&r.default.options||(r.default.show_rate_form=0);var b=!1;o.default.each(r.default.rules,(function(e){"hide"===e.commands[0].command&&(0,d.checkTimeConditions)(e.conditions,e.type,e.name)&&(b=!0)})),b&&(0,u.addSyncExclude)("route"),(!_.is_online&&r.default.hide_offline||g.default.get("is_blacklisted")||b||s.default.mobileOrTablet()&&r.default.disable_mobile||(0,c.isAppCobrowse)())&&(_.route=f.Route.HIDDEN),_.route==f.Route.INTRODUCE&&1!==r.default.contacts_ask&&(_.route=f.Route.CHAT),_.route==f.Route.INTRODUCE&&l.default.is_introduced&&(_.route=f.Route.CHAT),_.route!=f.Route.INTRODUCE||_.is_online||(_.route=f.Route.CHAT),_.route==f.Route.CHAT_SOCIAL&&(_.route=f.Route.CHAT),_.route==f.Route.CHAT_EULA&&(_.route=f.Route.CHAT),_.route==f.Route.CALL_EULA&&(_.route=f.Route.CALL),_.route==f.Route.CHAT_EVAL&&l.default.evaluate&&(_.route=f.Route.CHAT),!s.default.mobile()&&_.zoom&&(_.zoom=null),_.show_eula=!1,_.show_container=!1,p.isDesignerEditor&&(_.route=f.Route.CHAT);var E=1===r.default.contacts_ask&&!l.default.is_introduced&&_.is_online;(0,c.isChatPage)()?E?_.route=f.Route.INTRODUCE:r.default.departments&&!_.chat_started?_.route=f.Route.DEPARTMENTS:_.route=f.Route.CHAT:E&&_.route==f.Route.CHAT&&(_.route=f.Route.INTRODUCE);var C=_;t.default=C},36216:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(62904)),r=a(n(92142)),o=n(24335),l=(a(n(75043)).default.name("client"),o.isDesignerEditor?null:"".concat(i.default.widget_id,"_client")),u=(0,r.default)({jv_sess_id:null,client_id:null,pa_id:null,is_introduced:!1,client_info:{client_name:null,phone:null,email:null,description:null},cw_call:{status:!1},cw_call_enabled:!1,cw_call_delayed:!1,cw_call_delayed_status:null,cw_call_delayed_periods:[],cw_call_delayed_tz:null,department_id:null,evaluate:!1,last_message:null,has_integration:!1,utm:{campaign:null,source:null,medium:null,keyword:null,content:null},visitorId:0,avatar_url:null,display_name:null,assigned_agent_id:null,user_token:null,activeWebRTCCallMessageId:null,webRTCCallStatus:null,inputText:null},l);i.default.callback_settings&&i.default.callback_settings.time||(u.cw_call_enabled=!1),i.default.joint||(u.has_integration=!1),u.client_id||(u.department_id=null);var s=u;t.default=s},82036:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),r=a(n(62904)),o=a(n(92142)),l=n(24335),u=(a(n(75043)).default.name("position"),l.isDesignerEditor?null:"".concat(r.default.widget_id,"_position")),s=(0,o.default)({height:null,left:null,right:null},u);s.height&&(0,i.default)(s.height)<402&&(s.height="410px");var c=s;t.default=c},67966:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(71093)),r=n(56602),o=(a(n(75043)).default.name("proactive"),new i.default({type:"memory",name:"proactive",keys:{private_id:function(){return(0,r.generateGUID)()},created_ts:function(){return(new Date).getTime()},text:null,status:null,body:{},proactiveName:null}}));t.default=o},56602:function(e,t,n){"use strict";var a=n(60530),i=n(63978),r=n(28032),o=n(23765);i(t,"__esModule",{value:!0}),t.listenVisibility=R,t.default=t.deleteNonce=t.omit=t.isPaidCustomer=t.getBundleSrc=t.getHostURL=t.isCdnProvider=t.removeEmptyKeys=t.isEmpty=t.isTextEmojiDisabled=t.hasIntegration=t.getUrlEmoji=t.getFileExtension=t.detectType=t.cdnLinkToEmoji=t.cdnPatternUrl=t.getGradientBg=t.isAppCobrowse=t.isChatPage=t.isCustomLabel=t.humanFileSize=t.trackCallLogo=t.hideOffline=t.isAnyRequired=t.isEmailOrPhoneRequired=t.getTextColor=t.getProtocol=t.chatServerHost=t.staticUrl=t.setSubstrTitle=t.stripBrackets=t.generateGUIDCount=t.generateGUID=t.getRandomString=t.getUtmLink=t.getCopyrightSiteByLocale=t.getUnicodeHref=t.removeQueryParam=t.setGetParam=t.getCurrentPage=t.getContactSettingsInfo=t.isWixEditor=t.isWixContext=t.isWixIframe=t.showAd=t.removeEvent=t.addListener=t.getPageWindow=void 0;var l=a(n(2991)),u=a(n(80122)),s=a(n(32366)),c=a(n(86902)),d=a(n(23054)),f=a(n(77766)),p=a(n(20116)),h=a(n(69301)),g=a(n(54103)),m=a(n(81643)),v=a(n(62904)),_=a(n(62107)),y=a(n(10505)),b=a(n(58061)),E=n(94515);function C(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[r];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var T=a(n(75043)).default.name("utils","color: grey"),w=function(){return window.parent||window};t.getPageWindow=w;var S=function(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener?e.addEventListener(t,n,!!b.default.supportsPassiveListeners()&&{passive:i}):e.attachEvent&&(e.attachEvent("on"+t,(a=e,function(){n.call(a,window.event)})),e=null)};t.addListener=S;var k=function(e,t,n){if(window.removeEventListener)e.removeEventListener(t,n,!1);else{if(!window.detachEvent)return!1;e.detachEvent("on"+t,(function(){n.call(e)}))}};t.removeEvent=k;var I=function(){return!(v.default.unverified||v.default.options&&v.default.hide_ad)};t.showAd=I;var A=function(){return void 0!==w().jivo_in_wix_iframe};t.isWixIframe=A;var M=function(){var e=w().wix_context;return e&&e.Utils&&e.Utils.getViewMode()};t.isWixContext=M;var x=function(){var e=M();return!!e&&-1!==(0,m.default)(_.default).call(_.default,["preview","editor"],e)};function R(e){T.log("Installing visibility event handler");var t,n,a=_.default.debounce(e,50);void 0!==document.hidden?("hidden",n="visibilitychange",t="visibilityState"):void 0!==document.mozHidden?("mozHidden",n="mozvisibilitychange",t="mozVisibilityState"):void 0!==document.msHidden?("msHidden",n="msvisibilitychange",t="msVisibilityState"):void 0!==document.webkitHidden&&("webkitHidden",n="webkitvisibilitychange",t="webkitVisibilityState"),"addEventListener"in document&&void 0!==n&&(document.addEventListener(n,(0,g.default)(_.default).call(_.default,a,this,t),!1),parent.document.addEventListener(n,(0,g.default)(_.default).call(_.default,a,this,t),!1),parent.document.addEventListener("focus",(0,g.default)(_.default).call(_.default,a,this,t),!1),parent.document.addEventListener("blur",(0,g.default)(_.default).call(_.default,a,this,t),!1),parent.window.addEventListener("focus",(0,g.default)(_.default).call(_.default,a,this,t),!1),parent.window.addEventListener("blur",(0,g.default)(_.default).call(_.default,a,this,t),!1))}t.isWixEditor=x;var O=function(){if(!v.default.contacts_settings)return"";var e=v.default.contacts_settings,t=(0,h.default)(_.default).call(_.default,e),n={name:0,phone:1,email:2},a=[];return _.default.each(t,(function(t){var i=e[t].show&&e[t].required?"*":"";e[t].show&&(a[n[t]]=t+i)})),(0,p.default)(a).call(a,(function(e){return e})).join(";")};t.getContactSettingsInfo=O;var N=function(){var e=w(),t=e.location.href,n=e.document.title,a=-1!==(0,m.default)(t).call(t,"about:");return""==n&&a&&(n=e.parent.document.title),t=P(a?e.parent.location:e.location),M()&&(t=e.wix_url||t,n=e.wix_title||n),{url:t,title:n.substr(0,255)}};t.getCurrentPage=N;var D=function(e,t,n){e=encodeURI(e),t=encodeURI(t);for(var a,i=n.split("&"),r=i.length;r--;)if((a=i[r].split("="))[0]===e){a[1]=t,i[r]=a.join("=");break}return r<0&&(i[i.length]=[e,t].join("=")),i.join("&")};t.setGetParam=D;var L=function(e,t){t||(t=w().location.href);var n=t.split("#"),a=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return n[0].match(a)&&(t=(t=n[0].replace(a,"$1")).replace(/([?&])$/,""),void 0!==n[1]&&null!==n[1]&&(t+="#"+n[1])),t};t.removeQueryParam=L;var P=function(e){try{var t=e.hostname;return e.href.replace(t,y.default.toUnicode(t))}catch(t){return e.href}};t.getUnicodeHref=P;var B=function(){var e,t,n,a,i,r,o=v.default.locale,l="https://www.jivochat.com";-1!=(0,m.default)(e=["ru_RU","be","kk","uk"]).call(e,o)?l="https://www.jivo.ru":-1!=(0,m.default)(t=["pt","pt_BR"]).call(t,o)?l="https://www.jivochat.com.br":-1!=(0,m.default)(n=["es"]).call(n,o)?l="https://www.jivochat.es":-1!=(0,m.default)(a=["de"]).call(a,v.default.locale)?l="https://www.jivochat.de":-1!=(0,m.default)(i=["tr"]).call(i,v.default.locale)?l="https://www.jivochat.com.tr":-1!=(0,m.default)(r=["id"]).call(r,v.default.locale)&&(l="https://www.jivochat.co.id");var u=w().location.hostname.split("."),s=u[u.length-1];return"de"===s?l="https://www.jivochat.de":"cl"===s?l="https://www.jivochat.cl":"bo"===s?l="https://www.jivochat.com.bo":"co"===s?l="https://www.jivochat.com.co":"ve"===s?l="https://www.jivochat.com.ve":"pe"===s?l="https://www.jivochat.com.pe":"mx"===s?l="https://www.jivochat.mx":"ar"===s&&(l="https://www.jivochat.com.ar"),l};t.getCopyrightSiteByLocale=B;var j=function(e){return"chat"===e&&(e=b.default.mobile()?"chat_mobile":"chat_desktop"),B()+"/i_sa/?utm_source="+encodeURIComponent(w().location.hostname)+"&utm_medium=link&utm_content="+e+"&utm_campaign=from_widget"};t.getUtmLink=j;var F=function e(){var t=Math.floor(65536*Math.random()).toString(16);return 4===t.length?t:e()};t.getRandomString=F;var H=function(){var e=F;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.generateGUID=H;var U=function(e){for(var t="";e--;)t+=F();return t};t.generateGUIDCount=U;var W=function(e){return _.default.isUndefined(e)?"":e.replace(/</g,"&lt;").replace(/>/g,"&gt;")};t.stripBrackets=W;var z=function(e){return e.substr(0,255)};t.setSubstrTitle=z;var G=function(e,t){if(t||(e+="?rnd="+(new Date).getTime()),E.EnvironmentManager.isDevelopment())return e;var n=v.default.bundle_folder?v.default.bundle_folder:"";return q()+fe()+n+e};t.staticUrl=G;var V=function(){var e=q(),t=e+"//";return"comet"in v.default?(t+=v.default.comet.host,"https:"==e?"secure_port"in v.default.comet&&(t+=":"+v.default.comet.secure_port):"plain_port"in v.default.comet&&(t+=":"+v.default.comet.plain_port)):t+="node.jivosite.com",t};t.chatServerHost=V;var q=function(){var e,t=w().location.protocol;return-1===(0,m.default)(e=["http","https"]).call(e,t)&&(t="https:"),t};t.getProtocol=q;var K=function(e){return"dark"==e?"#222222":"#F0F1F1"};t.getTextColor=K;var Y=function(){var e=!1,t=v.default.contacts_settings;return!!t&&((t.phone.show&&t.phone.required||t.email.show&&t.email.required)&&(e=!0),e)};t.isEmailOrPhoneRequired=Y;var Z=function(){var e=!1,t=v.default.contacts_settings;return!!t&&((t.phone.show&&t.phone.required||t.email.show&&t.email.required||t.name.show&&t.name.required)&&(e=!0),e)};t.isAnyRequired=Z;var J=function(){return v.default.hide_offline>0};t.hideOffline=J;var X=function(){return B()+"/calls?utm_source="+w().location.host+"&utm_medium=link&utm_content=callback_popup&utm_campaign=self_ad"};t.trackCallLogo=X;var $=function(e){if(!e||0==e)return"";var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+["B","KB","MB","gB","tB"][t]};t.humanFileSize=$;var Q=function(){try{return!(!(window&&window.parent)||"function"!=typeof window.parent.jivo_onLoadCallback)&&-1!=window.parent.jivo_onLoadCallback.toString().search(/jivo_custom_widget/gi)}catch(e){return!1}};t.isCustomLabel=Q;var ee=function(){return w().jivo_chat_page||!1};t.isChatPage=ee;var te=function(){return"cobrowser-iframe"===w().name};t.isAppCobrowse=te;var ne=function(e,t){var n,a={};t?a.background=(0,f.default)(n="linear-gradient(95deg, ".concat(e," 20%, ")).call(n,t," 80%)"):a.background=e;return a};t.getGradientBg=ne;var ae=function(){return"url(".concat(G((E.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+v.default.pattern+".svg",!0),")")};t.cdnPatternUrl=ae;var ie=function(e){return G((E.EnvironmentManager.isDevelopment()?"/public":"")+"/images/emoji/"+e+".svg",!0)};t.cdnLinkToEmoji=ie;var re=function(e){return(0,m.default)(e).call(e,"image")>=0&&-1==(0,m.default)(e).call(e,"photoshop")?"photo":(0,m.default)(e).call(e,"video")>=0?"video":(0,m.default)(e).call(e,"audio")>=0?"audio":"document"};t.detectType=re;var oe=function(e){return e.substr((0,d.default)(e).call(e,".")+1)};t.getFileExtension=oe;var le=function(e,t){return((0,m.default)(e).call(e,"image")>=0?"📸":(0,m.default)(e).call(e,"video")>=0?"📽️":(0,m.default)(e).call(e,"audio")>=0?"🔉":"📄")+" "+t};t.getUrlEmoji=le;var ue=function(e){var t;return-1!==(0,m.default)(t=["vk","fb"]).call(t,e)};t.hasIntegration=ue;var se=function(){return!!w()._wpemojiSettings};t.isTextEmojiDisabled=se;var ce=function(e){return null===e||""===e||void 0===e||(!(!e||0!==(0,c.default)(e).length||e.constructor!==Object&&e.constructor!==Array)||!e&&0!==e&&!1!==e&&void 0)};t.isEmpty=ce;t.removeEmptyKeys=function(e){var t;return(0,s.default)(t=(0,c.default)(e||{})).call(t,(function(t,n){var a=e[n];return null!=a&&""!==a&&(t[n]=a),t}),{})};var de=function(){return!(!v.default.static_host||!~v.default.static_host.search(/\/\/cdn(-\w+)?.jivosite.com(\/\w)?/)&&!~v.default.static_host.search(/\/\/code(-\w+)?.jivosite.com(\/\w)?/))};t.isCdnProvider=de;var fe=function(){return de()?v.default.static_host:v.default.base_url};t.getHostURL=fe;var pe=function(){var e=v.default.bundle_folder?v.default.bundle_folder:"";return(E.EnvironmentManager.isDevelopment()?"/public/js/bundle_":fe()+e+"/js/bundle_")+v.default.locale+".js?rand="+v.default.build_number};t.getBundleSrc=pe;var he=function(){return 16&v.default.options};t.isPaidCustomer=he;var ge=function(e,t){return e&&e.length?(0,s.default)(e).call(e,(function(e,t){var n;e[t];return(0,u.default)(e,(0,l.default)(n=[t]).call(n,C))}),t):t};t.omit=ge;t.deleteNonce=function(){w().jivo_cspNonce&&delete w().jivo_cspNonce};var me={isEmpty:ce,isTextEmojiDisabled:se,hasIntegration:ue,getUrlEmoji:le,getFileExtension:oe,detectType:re,cdnLinkToEmoji:ie,cdnPatternUrl:ae,getGradientBg:ne,isAppCobrowse:te,isCustomLabel:Q,humanFileSize:$,trackCallLogo:X,hideOffline:J,isAnyRequired:Z,isEmailOrPhoneRequired:Y,getTextColor:K,getProtocol:q,chatServerHost:V,staticUrl:G,setSubstrTitle:z,stripBrackets:W,generateGUIDCount:U,generateGUID:H,getRandomString:F,getUtmLink:j,getCopyrightSiteByLocale:B,getUnicodeHref:P,removeQueryParam:L,setGetParam:D,getCurrentPage:N,getContactSettingsInfo:O,listenVisibility:R,isWixEditor:x,isWixContext:M,isWixIframe:A,showAd:I,removeEvent:k,addListener:S,getPageWindow:w,isCdnProvider:de,getHostURL:fe,getBundleSrc:pe,isPaidCustomer:he,omit:ge,isChatPage:ee};t.default=me},46849:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(47302)),r=a(n(31581)),o=a(n(81643)),l=a(n(33032)),u=a(n(54103)),s=a(n(23765));!function(e){var t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},n={1e3:"Normal Closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"reserved",1005:null,1006:null,1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message Too Big",1010:"Mandatory Ext.",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Unassigned",1015:"TLS handshake",3001:"Attempts have Ended",3333:"Spam detected",4e3:"Application Closure",4999:"Last Code"},a=function(){},c=function(){throw new Error("Not implemented")},d=Date,f=function(e,t){this.name="NetworkError",this.code=t<<0,this.message=String(e)};f.prototype.toString=function(){return this.name+":"+(this.code<<0||"")+" "+this.message};var p,h=function e(t,n,a){if(t&&"function"==typeof t[n])try{t[n](a)}catch(a){if("onerror"===String(n))throw a;try{e(t,"onerror",a)}catch(e){}}},g={};if(window&&("function"==typeof window.WebSocket||"object"===(0,s.default)(window.WebSocket))){var m=window.WebSocket;for(var v in p=function(e,a){var i,r,o,s,c,d=this;this.url=e,this.readyState=t.CONNECTING;var f=function(){if(r){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null;try{r.close()}catch(e){}}d.readyState=t.CLOSED,h(d,"onclose",{wasClean:!1,code:1006,reason:"Timeout"})},p=(0,u.default)(i=function(){try{this.send(".")}catch(e){}c=(0,l.default)(f,1e4)}).call(i,this);this.close=function(e,n){if(clearTimeout(s),this.readyState===t.CONNECTING)this.readyState=t.CLOSING,clearTimeout(o),o=(0,l.default)((function(){d.readyState=t.CLOSED,h(d,"onclose",{wasClean:!1,code:1006,reason:""})}),20);else if(this.readyState===t.OPEN){this.readyState=t.CLOSING;try{n?r.close(e,n):e?r.close(e):r.close(1e3)}catch(e){h(d,"onerror",e),h(d,"onclose",{wasClean:!1,code:1006,reason:""})}}},this.send=function(e){if(!r||r.OPEN!==r.readyState)throw new Error("Socket is not open");clearTimeout(s),clearTimeout(c),r.send(e),s=(0,l.default)(p,2e4)},o=(0,l.default)((function(){try{(r=a?new m(e,a):new m(e)).onclose=function(e){if(clearTimeout(s),clearTimeout(o),d.readyState=t.CLOSED,/MSIE|Trident|Edge|Lumia/.test(window.navigator.userAgent)&&e.wasClean&&(1e3===e.code||1005===e.code)&&e.reason)for(var a in n)if(e.reason===n[a])return void h(d,"onclose",{wasClean:!0,code:a<<0,reason:e.reason});h(d,"onclose",e)},r.onerror=function(e){e.name||e.message||(e.name="WebSocketError",e.message="Unknown"),h(d,"onerror",e)},r.onmessage=function(e){clearTimeout(c),e&&e.data&&1<e.data.length&&h(d,"onmessage",e)},r.onopen=function(e){clearTimeout(s),s=(0,l.default)(p,2e4),d.readyState=t.OPEN,d.protocol=r.protocol,h(d,"onopen",e)}}catch(e){h(d,"onerror",e)}}),20)},t)p.prototype[v]=t[v]}if(window&&window.navigator){var _;if(/iP(hone|od|ad)/.test(window.navigator.platform))(_=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))&&6>_[1]&&(p=c);if(/apple/i.test(window.navigator.vendor))(_=/\bVersion\/(\d+)\./.exec(window.navigator.userAgent))&&6>_[1]&&(p=c)}g.ws=g.wss=p;var y=function e(){var t,n,i,r,u=window.document.getElementsByTagName("head")[0],s=this;this.withCredentials=!1,this.readyState=0,this.responseText="",this.status=0,this.statusText="",this.timeout=void 0;var c=function(){if(t){clearTimeout(r),t.onreadystatechange=a,t.onload=a,t.onerror=a,t.parentNode.removeChild(t),t=null,n=null,i=null,s.responseText="",s.status=0,s.statusText="",s.timeout=void 0,s.withCredentials=!1;try{delete window[i]}catch(e){window[i]=void 0}h(s,"onloadend")}},d=function(){t&&(h(s,"onerror"),c())};this.open=function(t,a){!n&&a&&(s.readyState=1,n=String(a).replace(/#.*$/,""),i="_jivo"+e._count++,n+=(-1===(0,o.default)(n).call(n,"?")?"?":"&")+"cb="+i)},this.send=function(a){n&&(a=a?"&msg="+encodeURIComponent(a):"",window[i]=function(t){s.readyState=4,e._statusBody.test(t)?(s.status=e._statusBody.exec(t)[1]<<0,s.statusText="",s.responseText="",h(s,"onerror"),c()):(s.status=200,s.statusText="OK",s.responseText=t,h(s,"onload"),c())},(t=document.createElement("script")).charset="utf-8",t.type="text/javascript",t.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(0,l.default)(d,0)},t.readyState||(t.onload=t.onerror=d),t.src=n+a,u.appendChild(t),s.timeout<<=0,0<s.timeout&&(r=(0,l.default)((function(){h(s,"ontimeout"),c()}),s.timeout)))},this.abort=function(){h(s,"onabort"),c()},this.setRequestHeader=a};y._statusBody=/^(\d{3})\n$/m,y._count=0,y.prototype={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var b=function e(){if(e._stack.length)return e._stack.pop();var t;try{"withCredentials"in(t=new XMLHttpRequest)||(t=null)}catch(e){}return(t=t||new y).release=function(){e._stack.push(t)},t};b._stack=[];var E=function(e){for(var t,n,i,r=3e3,o=a,l=1;l<arguments.length;l++)if(arguments[l])switch((0,s.default)(arguments[l])){case"object":n=arguments[l];break;case"string":i=arguments[l];break;case"number":r=arguments[l];break;case"function":o=arguments[l]}if("string"!=typeof e)return o(TypeError("Bad URL")),null;try{(t=b()).open(i?"POST":"GET",e,!0),i&&t.setRequestHeader("Content-Type","text/plain")}catch(e){return o(e),t.release(),null}if(0<(r<<=0))try{t.timeout=r}catch(e){}if(t.onloadend=function(){t.release()},t.onload=function(){200===t.status?o(null,t.responseText):o(new f(t.statusText,t.status))},t.onabort=function(){o(new f("Aborted"))},t.ontimeout=function(){o(new f("Timeout"))},t.onerror=function(){o(new f("Unknown"))},n)for(var l in n)t.setRequestHeader(l,n[l]);try{t.send(i||null)}catch(e){return o(e),t.release(),null}return function(){o=a}};e.request=E;var C=/([^\n]*)\n/gm,T=function(e,i){var r=/^([^\?]*)(?:\?+(.*))?$/.exec(e);e=r[1]||"/";var o=r[2]?"&"+r[2]:"";/[^\/]$/.test(e)&&(e+="/");var u,s,c,f,p=this,g=a,m="open",v=2e4,_=0;this.readyState=t.CONNECTING;var y=function(e,a,i){t.CLOSED!==p.readyState&&(clearTimeout(c),p.readyState=t.CLOSED,h(p,"onclose",{wasClean:!!i,code:a||1006,reason:n[a]||e||""}))},b=function(t,n){g(),g=E(e+m+(t?"/"+t:"")+"?"+(new d).getTime()+o,v,n,T)},T=function(e,n){var a=function(e){if("string"!=typeof e)return e;var t,n,a={};for(C.lastIndex=0;null!==(t=C.exec(e));){if(!t[1]){a.message=e.substring(t.index+1);break}(n=(t=t[1].split(/\t/))[0])&&(t.shift(),a[n]=t)}return a}(n);switch(p.readyState){case t.CONNECTING:if(e){h(p,"onerror",e),y("Open error");break}if(!(a&&a.open&&a.open[0])){y("No response in state open");break}m=a.open[0],p.protocol=a.open[1],p.readyState=t.OPEN,h(p,"onopen");case t.OPEN:var i="";if(a){if(a.timeout&&0<a.timeout[0]&&(v=Math.ceil(a.timeout[0])),a.etag&&a.etag[0]){var r=a.etag[0]<<0,o=r-_;_=r,0<o&&(1!==o&&h(p,"onerror",new Error("Missing "+o+" etags")),a.message&&(0,l.default)((function(){h(p,"onmessage",{data:a.message})}),20)),i="etag/"+r}a.close&&(p.readyState=t.CLOSING,i="close/"+(a.close[0]||"")+"/"+(a.close[1]||""))}else if(e&&204!==e.code&&(h(p,"onerror",e),!e.code||404===e.code))return void y();b(i);break;case t.CLOSING:if(a&&a.close){var c=a.close[0]<<0;y(a.close[1],c,!u||u===c)}else y(s,u,!1)}};this.close=function(e,n){t.CONNECTING===this.readyState?(clearTimeout(f),g(),c=(0,l.default)(y,20)):t.OPEN===this.readyState&&(u=e<<0||1e3,s=n||"",this.readyState=t.CLOSING,b("close/"+u+"/"+s))},this.send=function(e){if(t.OPEN!==this.readyState)throw new Error("Socket is not open");if(!e||"string"!=typeof e)throw new TypeError("Bad data type");b("send",e)};var w=[];if(i)if("string"==typeof i)w.push(i);else if(i instanceof Array)for(var S=0;S<i.length;S++)w.push(String(i[S]));f=(0,l.default)((function(){b(w.join("/"))}),20)};for(var v in t)T.prototype[v]=t[v];g.http=g.https=T;var w,S=/^\s*(?:([^\;\/\?\:\@\&\=\+\$\,\#\n\r\s]{1,8})\:\/\/)([^\s\n\r]+)\s*$/,k=function e(t,n){if(n||((n=[]).index=0,n.add=function(e){n.unshift({value:String(e),health:0}),n.index=0}),t)if("string"==typeof t||t instanceof String)n.push({value:String(t),health:0});else if(0<t.length)for(var a=0;a<t.length;a++)e(t[a],n);return n},I=function(e,t,n){var a=e[t]=n;return function(n){return arguments.length&&(a=e[t]=n),a}},A=(w=0,(0,r.default)((function(){0<w&&(0<=(w-=2)||(w=0))}),1e3),function(){return 60<++w}),M=function(e){var r=k(e),o=null,u=a,c={connecting:a,open:a,close:a,error:a,message:a},d=I(this,"state",t.CLOSED),f=I(this,"url",void 0),p=I(this,"health",void 0),h=function e(t,n){clearTimeout(e.value),t&&(e.value=(0,l.default)(t,n))},m=function(e){if(o){o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null;try{e?o.close(e):o.close()}catch(e){}}},v=function(e){m(),o=null,u(),u=a,h(),d(t.CLOSED);try{c.close(e)}catch(e){b(e)}f(void 0),p(void 0)},_=function(){if(A()){if(u(),u=a,o){m(3333);for(var e=0;e<r.length;e++)r[e].health=-1}return!0}return!1},y=function(e){if(u(),u=a,h(),e||(e={wasClean:!1,code:1005,reason:"No Status Rcvd"}),e.wasClean||p(--r[r.index].health),1012===e.code){d(t.CONNECTING);try{c.connecting(r[r.index].health)}finally{return h(w,1e4+(2e4*Math.random()<<0))}}else 1013===e.code||1005===e.code||1e3===e.code||4e3<=e.code&&5e3>e.code?v(e):w()},b=function(e){try{c.error(e)}catch(e){throw e}},E=function(e){if(t.OPEN===d())try{c.message(e.data)}catch(e){b(e)}},C=function(){var e,n,a,i;h(),d(t.OPEN),e=r[r.index],n=p,i=1e3,a=(0,l.default)((function t(){e&&0<=e.health&&(n(++e.health),i<<=1,a=(0,l.default)(t,i))}),i),u=function(){clearTimeout(a)};try{c.open()}catch(e){b(e)}},T=function(){var e=r[r.index];try{o=function(e){if("string"!=typeof e)throw new TypeError("Bad URL type");var t=S.exec(e);if(null===t)throw new Error("Bad URL");if(!g[t[1]])throw new Error("Not supported URL scheme: "+t[1]);return new g[t[1]](e)}(e.value)}catch(t){return e.health=-1,++r.index,b(t),w()}o.onclose=y,o.onerror=b,o.onmessage=E,o.onopen=C},w=function e(a){if(h(),r.index>=r.length)f(void 0),p(void 0),v({wasClean:!1,code:3001,reason:n[3001]});else if(0>r[r.index].health)b(new Error("Sick URL")),++r.index,e();else{m(),d(t.CONNECTING);var i=r[r.index];f()!==i.value&&(f(i.value),p(i.health));try{c.connecting(i.health)}catch(e){}a||0===r[r.index].health?T():h(T,3e3)}};this.open=function(e){if(_())return v({wasClean:!1,code:3333,reason:n[3333]});if(t.CONNECTING!==d()&&t.OPEN!==d()){if(e){e=String(e);for(var a=0;a<r.length;a++)if(e===r[a].value)return r.index=a,w(!0);r.add(e)}w(!0)}},this.close=function(e,a){h(),t.CLOSING!==d()&&t.CLOSED!==d()&&(!o||o.CONNECTING!==o.readyState&&o.OPEN!==o.readyState?v({wasClean:!1,code:1011,reason:n[1011]}):(4e3>(e<<=0)||5e3<=e?o.close():a?o.close(e,String(a)):o.close(e),o.onclose=v,d(t.CLOSING)))},this.send=function(e){if(t.OPEN!==d())return new Error("Connection is not open");if(_())return v({wasClean:!1,code:3333,reason:n[3333]}),new Error("Spam detected");try{o.send(e)}catch(e){return e}return null};var M=function(e,t){return function(){t.apply(e,arguments)}};this.on=function(e,t){if(e&&"object"===(0,s.default)(e))for(var n in e)this.on(n,M(e,e[n]));else c[e]&&"function"==typeof t&&(c[e]=t)},this.off=function(){for(var e in c)c[e]=a},this.getHealthyURLs=function(){for(var e=[],t=0;t<r.length;t++)0<=r[t].health&&e.push(r[t]);(0,i.default)(e).call(e,(function(e,t){return t.health-e.health}));for(t=0;t<e.length;t++)e[t]=e[t].value;return e}};for(var v in M.prototype={valueOf:function(){return this.toString()},toString:function(){return t.OPEN===this.state?this.url:""},toJSON:function(e){switch(e){case"url":return'"'+this.url+'"';case"state":return this.state;case"health":return this.health}return arguments.length?"":'{"state":'+this.state+', "health":'+this.health+', "url":"'+this.url+'"}'}},t)M.prototype[v]=t[v];e.Connection=M}(window);var c=Connection;t.default=c},68415:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(54103)),r=a(n(33032)),o=a(n(62107)),l=a(n(10471)),u=a(n(75043)).default.name(!1);l.default.on("newfsm",(function(e){e.on("handling",(function(e){u.log(this.namespace+": handling "+e.inputType+" in state "+this.state)})),e.on("nohandler",(function(e){u.log(this.namespace+": unhandled "+e.inputType+" in state "+this.state)})),e.on("transition",(function(e){u.log([this.namespace+":","transition from:",e.fromState,"to:",e.toState,"action:",e.action].join(" "))}))}));var s=l.default.Fsm.extend({_fireEvent:function(e){delete this._scheduled_events[e],this.handle(e)},_scheduleEvent:function(e,t){e in this._scheduled_events?u.log(this.namespace+": attempt to re-schedule event"+e):(u.log(this.namespace+": scheduling "+e+" for "+t),this._scheduled_events[e]=(0,r.default)((0,i.default)(o.default).call(o.default,this._fireEvent,this,e),t))},_cancelEvent:function(e){e in this._scheduled_events?(clearTimeout(this._scheduled_events[e]),delete this._scheduled_events[e]):u.log(this.namespace+": attempt to cancel not scheduled event",e)},constructor:function(){this._scheduled_events={},l.default.Fsm.apply(this,arguments)}});t.default=s},45127:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o,l,u=a(n(3649)),s=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g,l=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},function(e,t,n){var a,c=s;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),"string"==typeof e&&isNaN(new Date(e))&&(e=e.replace(/-/g,"/").replace("T"," ").split(".").shift()+"Z"),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");t=String(c.masks[t]||t||c.masks.default),"UTC:"==(0,u.default)(t).call(t,0,4)&&(t=(0,u.default)(t).call(t,4),n=!0);var d=n?"getUTC":"get",f=e[d+"Date"](),p=e[d+"Day"](),h=e[d+"Month"](),g=e[d+"FullYear"](),m=e[d+"Hours"](),v=e[d+"Minutes"](),_=e[d+"Seconds"](),y=e[d+"Milliseconds"](),b=n?0:e.getTimezoneOffset(),E={d:f,dd:l(f),ddd:c.i18n.dayNames[p],dddd:c.i18n.dayNames[p+7],m:h+1,mm:l(h+1),mmm:c.i18n.monthNames[h],mmmm:c.i18n.monthNames[h+12],yy:(0,u.default)(a=String(g)).call(a,2),yyyy:g,h:m%12||12,hh:l(m%12||12),H:m,HH:l(m),M:v,MM:l(v),s:_,ss:l(_),l:l(y,3),L:l(y>99?Math.round(y/10):y),t:m<12?"a":"p",tt:m<12?"am":"pm",T:m<12?"A":"P",TT:m<12?"AM":"PM",Z:n?"UTC":(String(e).match(r)||[""]).pop().replace(o,""),o:(b>0?"-":"+")+l(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10]};return t.replace(i,(function(e){return e in E?E[e]:(0,u.default)(e).call(e,1,e.length-1)}))});s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var c=s;t.default=c},531:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(e,t){try{return f(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return l.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}};var i=a(n(23765)),r=a(n(86902)),o=a(n(41511)),l=a(n(75043)).default.name("equal"),u=o.default,s=r.default,c=Object.prototype.hasOwnProperty,d="undefined"!=typeof Element;function f(e,t){if(e===t)return!0;if(e&&t&&"object"==(0,i.default)(e)&&"object"==(0,i.default)(t)){var n,a,r,o=u(e),l=u(t);if(o&&l){if((a=e.length)!=t.length)return!1;for(n=a;0!=n--;)if(!f(e[n],t[n]))return!1;return!0}if(o!=l)return!1;var p=e instanceof Date,h=t instanceof Date;if(p!=h)return!1;if(p&&h)return e.getTime()==t.getTime();var g=e instanceof RegExp,m=t instanceof RegExp;if(g!=m)return!1;if(g&&m)return e.toString()==t.toString();var v=s(e);if((a=v.length)!==s(t).length)return!1;for(n=a;0!=n--;)if(!c.call(t,v[n]))return!1;if(d&&e instanceof Element)return!1;for(n=a;0!=n--;)if(!("_owner"===(r=v[n])&&e.$$typeof||f(e[r],t[r])))return!1;return!0}return e!=e&&t!=t}},74721:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.escapeHTMLString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)(t),a=void 0===n||n,r=e.replace(/[&<>'"]/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e}));a&&(r=r.replace(/^\s+|\s+$/g,""));return r};var i=a(n(25843))},17889:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o,l,u,s,c=a(n(3649)),d=a(n(81643)),f=function e(t){return linkify(t,{callback:function(t,n){var a=(0,d.default)(t).call(t,"://");if(n&&a>0){var i,r=t.split("://"),o=-1!=(0,d.default)(i=["http","https"]).call(i,r[0]);t=e.getShortText(o?t.substring(a+3):t)}return n?'<a target="_blank" rel="noopener" href="'+n+'" title="'+n+'">'+t+"</a>":t}})};f.getShortText=function(e){return e.length>80?(0,c.default)(e).call(e,0,30)+"..."+(0,c.default)(e).call(e,-30):e},
/*!
 * linkify - v0.3 - 6/27/2009
 * http://benalman.com/code/test/js-linkify/
 *
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Licensed under the MIT license
 * http://benalman.com/about/license/
 *
 * Some regexps adapted from http://userscripts.org/scripts/review/7122
 */
window.linkify=(i="[a-z\\d.-]+://",r="mailto:",o=new RegExp("(?:\\b[a-z\\d.-]+://[^<>\\s]+|\\b(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw|win)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:[;/][^#?<>\\s]*)?(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w)|(?:mailto:)?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw|win)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w))","ig"),l=new RegExp("^"+i,"i"),u={"'":"`",">":"<",")":"(","]":"[","}":"{","В»":"В«","вЂє":"вЂ№"},s={callback:function(e,t){return t?'<a href="'+t+'" title="'+t+'">'+e+"</a>":e},punct_regexp:/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/},function(e,t){t=t||{};var n,a,i,f,p,h,g,m,v,_,y,b,E="",C=[];for(a in s)void 0===t[a]&&(t[a]=s[a]);for(;n=o.exec(e);)if(i=n[0],g=(h=o.lastIndex)-i.length,!/[\/:]/.test(e.charAt(g-1))){do{m=i,b=i.substr(-1),(y=u[b])&&(v=i.match(new RegExp("\\"+y+"(?!$)","g")),_=i.match(new RegExp("\\"+b,"g")),(v?v.length:0)<(_?_.length:0)&&(i=i.substr(0,i.length-1),h--)),t.punct_regexp&&(i=i.replace(t.punct_regexp,(function(e){return h-=e.length,""})))}while(i.length&&i!==m);f=i,l.test(f)||(f=(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test(f)?(0,d.default)(f).call(f,r)?r:"":(0,d.default)(f).call(f,"irc.")?(0,d.default)(f).call(f,"ftp.")?"http://":"ftp://":"irc://")+f),p!=g&&(C.push([(0,c.default)(e).call(e,p,g)]),p=h),C.push([i,f])}for(C.push([e.substr(p)]),a=0;a<C.length;a++)E+=t.callback.apply(window,C[a]);return E||e});var p=f;t.default=p},10471:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),r=a(n(77766)),o=a(n(23765)),l=a(n(3649)),u=a(n(62107)),s=n(33367),c=n(94515),d=function(e,t){var n,a=(0,l.default)([]),u="transition",d="handler",f="handling",p="handled",h="nohandler",g="deferred",m="newfsm",v={makeFsmNamespace:(n=0,function(){return"fsm."+n++}),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:v.makeFsmNamespace(),targetReplayState:"",state:t,priorState:t,_priorAction:"",_currentAction:""}}};if(!e.deepExtend){var _={"*":function(e,t,n){e[t]=n},object:function(e,t,n){e[t]=b({},e[t]||{},n)},array:function(t,n,a){t[n]=[],e.each(a,(function(e,a){_[y(e)](t[n],a,e)}),this)}},y=function(t){var n=function(t){return e.isArray(t)?"array":e.isDate(t)?"date":e.isRegExp(t)?"regex":(0,o.default)(t)}(t);return _[n]?n:"*"},b=function(t){return e.each(a.call(arguments,1),(function(n){e.each(n,(function(e,n){_[y(e)](t,n,e)}))})),t};e.mixin({deepExtend:b})}var E=function(t){e.extend(this,t),e.defaults(this,v.getDefaultOptions()),this.initialize.apply(this,arguments),T.emit(m,this),this.initialState&&this.transition(this.initialState)};e.extend(E.prototype,{initialize:function(){},emit:function(t){var n=arguments;this.eventListeners["*"]&&e.each(this.eventListeners["*"],(function(e){if(c.EnvironmentManager.isProduction())try{e.apply(this,a.call(n,0))}catch(e){var i;e.message+=(0,r.default)(i=" machina.js * [".concat(this.namespace,"] ")).call(i,t),s.Monitoring.reportException(e)}else e.apply(this,a.call(n,0))}),this),this.eventListeners[t]&&e.each(this.eventListeners[t],(function(e){if(c.EnvironmentManager.isProduction())try{e.apply(this,a.call(n,1))}catch(e){var i;e.message+=(0,r.default)(i=" machina.js ev [".concat(this.namespace,"] ")).call(i,t),s.Monitoring.reportException(e)}else e.apply(this,a.call(n,1))}),this)},handle:function(n){if(!this.inExitHandler){var i,r,o,u,s=this.states,c=this.state,g=a.call(arguments,0);this.currentActionArgs=g,s[c][n]||s[c]["*"]||this["*"]?(o="*"===(i=s[c][n]?n:"*"),s[c][i]?(r=s[c][i],u=c+"."+i):(r=this["*"],u="*"),this._currentAction||(this._currentAction=u),this.emit.call(this,f,{inputType:n,args:(0,l.default)(g).call(g,1)}),e.isFunction(r)&&(r=r.apply(this,o?g:(0,l.default)(g).call(g,1))),e.isString(r)&&this.transition(r),this.emit.call(this,p,{inputType:n,args:(0,l.default)(g).call(g,1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(d)):this.emit.call(this,h,{inputType:n,args:(0,l.default)(g).call(g,1)}),this.currentActionArgs=t}},transition:function(e){if(!this.inExitHandler&&e!==this.state){var t;if(this.states[e]){if(this.targetReplayState=e,this.priorState=this.state,this.state=e,t=this.priorState,this.states[t]&&this.states[t]._onExit&&(this.inExitHandler=!0,this.states[t]._onExit.call(this),this.inExitHandler=!1),this.emit.call(this,"transition",{fromState:t,action:this._currentAction,toState:e}),this.states[e]._onEnter)if(c.EnvironmentManager.isProduction())try{this.states[e]._onEnter.call(this)}catch(t){var n;t.message+=(0,r.default)(n=" machina.js [".concat(this.namespace,"] ")).call(n,e),s.Monitoring.reportException(t)}else this.states[e]._onEnter.call(this);return void(this.targetReplayState===e&&this.processQueue(u))}this.emit.call(this,"invalidstate",{state:this.state,attemptedState:e})}},processQueue:function(t){var n=t===u?function(e){return e.type===u&&(!e.untilState||e.untilState===this.state)}:function(e){return e.type===d},a=(0,i.default)(e).call(e,this.eventQueue,n,this);this.eventQueue=e.difference(this.eventQueue,a),e.each(a,(function(e){this.handle.apply(this,e.args)}),this)},clearQueue:function(t,n){var a;t?(t===u?a=function(e){return e.type===u&&(!n||e.untilState===n)}:t===d&&(a=function(e){return e.type===d}),this.eventQueue=(0,i.default)(e).call(e,this.eventQueue,a)):this.eventQueue=[]},deferUntilTransition:function(e){if(this.currentActionArgs){var t={type:u,untilState:e,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,g,{state:this.state,queuedArgs:t})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var e={type:u,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,g,{state:this.state,queuedArgs:e})}},on:function(e,t){var n=this;return n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t),{eventName:e,callback:t,off:function(){n.off(e,t)}}},off:function(t,n){t?this.eventListeners[t]&&(this.eventListeners[t]=n?e.without(this.eventListeners[t],n):[]):this.eventListeners={}}}),E.prototype.trigger=E.prototype.emit;var C=function(){};E.extend=function(t,n){var a=function(t,n,a){var i;return i=n&&n.hasOwnProperty("constructor")?n.constructor:function(){t.apply(this,arguments)},e.deepExtend(i,t),C.prototype=t.prototype,i.prototype=new C,n&&e.deepExtend(i.prototype,n),a&&e.deepExtend(i,a),i.prototype.constructor=i,i.__super__=t.prototype,i}(this,t,n);return a.extend=this.extend,a};var T={Fsm:E,utils:v,on:function(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),t},off:function(t,n){this.eventListeners[t]&&(this.eventListeners[t]=e.without(this.eventListeners[t],n))},trigger:function(t){var n=arguments,i=this.eventListeners[t]||[];i&&i.length&&e.each(i,(function(e){e.apply(null,a.call(n,1))}))},eventListeners:{newFsm:[]}};return T.emit=T.trigger,T}(u.default);t.default=d},7886:function(e,t,n){"use strict";var a=n(60530),i=a(n(63978)),r=a(n(3649)),o=a(n(81643)),l=function(){return!0},u=function(e){for(var t="\\".charCodeAt(0),n=e.length,a=0;n&&e.charCodeAt(--n)===t;)a++;return a%2==1},s=function(e,t,n){for(var a=n-1;;){var i=a;if((a=(0,o.default)(e).call(e,t,a+1))<0)return-1;if(!u((0,r.default)(e).call(e,i,a)))return a}},c=function e(t){for(var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],o=function(e){return n&&"text"==n.type?(n.text+=e,n):c({type:"text",text:e})},c=function(e){var t=i.length;return(t?i[t-1].block:a).push(e),n=e},d=function(e){return"link"==e.type&&(e={type:"link",block:e.block,url:"",ref:""}),c(e)},f=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=i.length;--t>=0;){var n=i[t];if(!e(n))return n;d(i.pop())}},p=function(e){return h.lastIndex=g=e},h=/(^([*_-])\s*\2(?:\s*\2)+$)|(?:^(\s*)([>*+-]|\d+[.\)])\s+)|(?:^``` *(\w*)\n([\s\S]*?)```$)|(^(?:(?:\t|    )[^\n]*(?:\n|$))+)|(\!?\[)|(\](?:(\(|\[)|\:\s*(.+)$)?)|(?:^([^\s].*)\n(\-{3,}|={3,})$)|(?:^(#{1,6})(?:[ \t]+(.*))?$)|(?:`([^`].*?)`)|(  \n|\n\n)|(__|\*\*|[_*]|~~)/gm,g=0;;){var m=h.exec(t),v=m?m.index:t.length,_=(0,r.default)(t).call(t,g,v);if(_&&(o(_),m&&u(_)))p(m.index+1),o(m[0][0]);else{if(!m)break;var y=1;if(g=h.lastIndex,m[y])f(),c({type:"border",text:(0,r.default)(t).call(t,v,v+m[0].length)});else if(m[y+=3]){f();var b=m[y],E=">"==b,C=c(E?{type:"quote",block:[]}:{type:"list",block:[],indent:m[y-1],bullet:b}),T=E?/^\s{0,3}([*+-]|\d+[.\)])[ \t]/:/^\s*([>*+-]|\d+[.\)])[ \t]/,w=g;(g=s(t,"\n",w))<0&&(g=t.length);for(var S=(0,r.default)(t).call(t,w,g);g<t.length;){var k=g+1;if("\n"==t.charAt(k))break;(g=s(t,"\n",k))<0&&(g=t.length);var I=(0,r.default)(t).call(t,k,g);if(!I){g=k-1;break}if(I.match(T)){g=k;break}S+="\n"+I.match(E?/^\s*>?\s*(.*)$/:/^\s*(.*)$/)[1]}e(S,C.block),p(g)}else if(null!=m[y+=2]||m[y+1]){f();var A,M=m[y+1],x="",R="";if(M)R=/^(\t|    )/.exec(M)[0],M=M.replace(/^(\t|    )/gm,""),"\n"==(0,r.default)(M).call(M,-1)&&(M=(0,r.default)(M).call(M,0,-1),p(g-1));else M=(0,r.default)(A=m[y]).call(A,0,-1),x=m[y-1].toLowerCase();c({type:"codeBlock",code:M,syntax:x,indent:R})}else if(m[y+=2])if("!"==m[y][0]){var O=s(t,"]",g);if(O<0){o(m[0]);continue}n=null,i.push({type:"image",alt:(0,r.default)(t).call(t,m.index+2,O),url:"",ref:""}),p(O)}else n=null,i.push({type:"link",block:[],offset:g});else if(m[++y]){var N=function(){var e=/^(link|image)$/,n=f((function(t){return!e.test(t.type)}));if(n){if(i.pop(),m[y+2]){if("link"==n.type)return c({type:"linkDef",key:(0,r.default)(t).call(t,n.offset,v),url:m[y+2]}),"continue";p(m.index+1)}if(n=d(n),m[y+1]){var a=s(t,"("==m[y+1]?")":"]",g);if(a<0)o(m[y+1]);else{var l=m.index+2,u=(0,r.default)(t).call(t,l,a);p(a+1),"("==m[y+1]?n.url=u:n.ref=u}}}else o(m[0])}();if("continue"===N)continue}else if(m[y+=3]||m[y+2])f(),c({type:"title",block:e(m[y]||m[y+3]||""),rank:m[y+2]?m[y+2].length:"="==m[y+1][0]?1:2});else if(m[y+=4]){var D=v+1;c({type:"codeSpan",code:(0,r.default)(t).call(t,D,D+m[y].length)})}else if(m[++y])f(),c({type:"break",text:m[0]});else if(m[++y]){var L=m[y],P=L.length<2?"italic":"~~"==L?"strike":"bold",B=i[i.length-1];B&&B.type==P&&B.style==L?c(i.pop()):(n=null,i.push({type:P,block:[],style:L}))}}}return f(),a};(0,i.default)(c,"default",{value:c}),e.exports=c},10505:function(e,t,n){"use strict";var a=n(60530),i=n(16976),r=n(41511),o=n(19996),l=n(65420),u=n(66419),s=n(3649),c=a(n(3649)),d=a(n(92762)),f=a(n(23054)),p=a(n(72388)),h=a(n(59036));function g(e,t){var n;if(void 0===l||null==o(e)){if(r(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return m(e,t);var a=s(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return u(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,p=!1;return{s:function(){n=i(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){p=!0,d=e},f:function(){try{f||null==n.return||n.return()}finally{if(p)throw d}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=2147483647,_=36,y=/^xn--/,b=/[^\0-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=Math.floor,w=String.fromCharCode;function S(e){throw new RangeError(C[e])}function k(e,t){var n=e.split("@"),a="";n.length>1&&(a=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],a=e.length;a--;)n[a]=t(e[a]);return n}((e=e.replace(E,".")).split("."),t).join(".");return a+i}function I(e){for(var t=[],n=0,a=e.length;n<a;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}var A=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},M=function(e,t,n){var a=0;for(e=n?T(e/700):e>>1,e+=T(e/t);e>455;a+=_)e=T(e/35);return T(a+36*e/(e+38))},x=function(e){var t,n=[],a=e.length,i=0,r=128,o=72,l=(0,f.default)(e).call(e,"-");l<0&&(l=0);for(var u=0;u<l;++u)e.charCodeAt(u)>=128&&S("not-basic"),n.push(e.charCodeAt(u));for(var s=l>0?l+1:0;s<a;){for(var c=i,h=1,g=_;;g+=_){s>=a&&S("invalid-input");var m=(t=e.charCodeAt(s++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:_;(m>=_||m>T((v-i)/h))&&S("overflow"),i+=m*h;var y=g<=o?1:g>=o+26?26:g-o;if(m<y)break;var b=_-y;h>T(v/b)&&S("overflow"),h*=b}var E=n.length+1;o=M(i-c,E,0==c),T(i/E)>v-r&&S("overflow"),r+=T(i/E),i%=E,(0,d.default)(n).call(n,i++,0,r)}return p.default.apply(String,n)},R=function(e){var t,n=[],a=(e=I(e)).length,i=128,r=0,o=72,l=g(e);try{for(l.s();!(t=l.n()).done;){var u=t.value;u<128&&n.push(w(u))}}catch(e){l.e(e)}finally{l.f()}var s=n.length,c=s;for(s&&n.push("-");c<a;){var d,f=v,p=g(e);try{for(p.s();!(d=p.n()).done;){var h=d.value;h>=i&&h<f&&(f=h)}}catch(e){p.e(e)}finally{p.f()}var m=c+1;f-i>T((v-r)/m)&&S("overflow"),r+=(f-i)*m,i=f;var y,b=g(e);try{for(b.s();!(y=b.n()).done;){var E=y.value;if(E<i&&++r>v&&S("overflow"),E==i){for(var C=r,k=_;;k+=_){var x=k<=o?1:k>=o+26?26:k-o;if(C<x)break;var R=C-x,O=_-x;n.push(w(A(x+R%O,0))),C=T(R/O)}n.push(w(A(C,0))),o=M(r,m,c==s),r=0,++c}}}catch(e){b.e(e)}finally{b.f()}++r,++i}return n.join("")},O={version:"2.1.0",ucs2:{decode:I,encode:function(e){return p.default.apply(String,(0,h.default)(e))}},decode:x,encode:R,toASCII:function(e){return k(e,(function(e){return b.test(e)?"xn--"+R(e):e}))},toUnicode:function(e){return k(e,(function(e){return y.test(e)?x((0,c.default)(e).call(e,4).toLowerCase()):e}))}};e.exports=O},91151:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;t.default={unknown:{Google:[["support.google.com","developers.google.com","maps.google.com","accounts.google.com","drive.google.com","sites.google.com","groups.google.com","groups.google.co.uk","news.google.co.uk"]],"Yahoo!":[["finance.yahoo.com","news.yahoo.com","eurosport.yahoo.com","sports.yahoo.com","astrology.yahoo.com","travel.yahoo.com","answers.yahoo.com","screen.yahoo.com","weather.yahoo.com","messenger.yahoo.com","games.yahoo.com","shopping.yahoo.net","movies.yahoo.com","cars.yahoo.com","lifestyle.yahoo.com","omg.yahoo.com","match.yahoo.net"]]},search:{"360.cn":[[/so.(com|360.cn)$/gi],["q"]],AOL:[[/\.aol.\w{2,4}(\w{2,4})?/gi,"aolsearch.com"],["q","query"]],Yandex:[["yandex.ru","yandex.ua","yandex.com","www.yandex.ru","www.yandex.ua","www.yandex.com","yandex.by","yandex.kz","www.yandex.by","www.yandex.kz"],["text"]],DuckDuckGoL:[["duckduckgo.com"],["q"]],Picsearch:[["www.picsearch.com"],["q"]],"Mail.ru":[["go.mail.ru"],["q"]],Rambler:[["nova.rambler.ru"],["query","words"]],MySearch:[[/(.mysearch)|(.myway).com$/gi,"search.mywebsearch.com"],["searchfor","searchFor"]],Baidu:[[/.baidu.com$/gi,"web.gougou.com"],["wd","word","kw","k"]],Ecosia:[["ecosia.org"],["q"]],Bing:[["bing.com","www.bing.com","msnbc.msn.com","dizionario.it.msn.com","cc.bingj.com","m.bing.com"],["q"]],Seznam:[["search.seznam.cz"],["q"]],"Yahoo!":[[/.?yahoo./gi,"www.cercato.it","search.offerbox.com","ys.mirostart.com"],["q","p"]],Ask:[[/.ask.com$/gi,"ask.reference.com","www.askkids.com","www.ask.co.uk","search-results.com","uk.search-results.com","www.search-results.com","int.search-results.com"]],"uol.com.br":[["busca.uol.com.br"],["q"]],Google:[[/^(www.)?google.\w{2,4}(.\w{2,4})?$/gi,/^.incredimail.com$/gi,/.googleearth./gi,"isearch.avg.com","www.cnn.com","darkoogle.com","search.darkoogle.com","search.foxtab.com","www.gooofullsearch.com","search.hiyo.com","search.sweetim.com","www.fastweb.it","search.juno.com","find.tdc.dk","searchresults.verizon.com","search.walla.co.il","search.alot.com","webcache.googleusercontent.com","encrypted.google.com","googlesyndicatedsearch.com"],["q","query","keywords"]],"2GIS":[["link.2gis.ru"]]},email:{Gmail:[["mail.google.com"]],Rambler:[["mail.rambler.ru"]]},social:{Odnoklassniki:[["odnoklassniki.ru","ok.ru"]],GitHub:[["github.com"]],Instagram:[["instagram.com"]],Vkontakte:[["vk.com","vkontakte.ru"]],Twitter:[["twitter.com","t.co"]],"Mail.ru":[["my.mail.ru"]],Pinterest:[["pinterest.com"]],LinkedIn:[["linkedin.com"]],Facebook:[["facebook.com","fb.me"]],Youtube:[["youtube.com","youtu.be"]]}}},94184:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var o=i.apply(null,n);o&&e.push(o)}else if("object"===r)for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},54493:function(e,t,n){n(77971),n(53242);var a=n(54058);e.exports=a.Array.from},24034:function(e,t,n){n(92737);var a=n(54058);e.exports=a.Array.isArray},15367:function(e,t,n){n(85906);var a=n(35703);e.exports=a("Array").concat},62383:function(e,t,n){n(21501);var a=n(35703);e.exports=a("Array").filter},60009:function(e,t,n){n(44929);var a=n(35703);e.exports=a("Array").findIndex},17671:function(e,t,n){n(80833);var a=n(35703);e.exports=a("Array").find},99324:function(e,t,n){n(2437);var a=n(35703);e.exports=a("Array").forEach},80991:function(e,t,n){n(97690);var a=n(35703);e.exports=a("Array").includes},8700:function(e,t,n){n(99076);var a=n(35703);e.exports=a("Array").indexOf},95909:function(e,t,n){n(66274);var a=n(35703);e.exports=a("Array").keys},6442:function(e,t,n){n(75915);var a=n(35703);e.exports=a("Array").lastIndexOf},23866:function(e,t,n){n(68787);var a=n(35703);e.exports=a("Array").map},52999:function(e,t,n){n(81876);var a=n(35703);e.exports=a("Array").reduce},24900:function(e,t,n){n(60186);var a=n(35703);e.exports=a("Array").slice},3824:function(e,t,n){n(36026);var a=n(35703);e.exports=a("Array").some},2948:function(e,t,n){n(4115);var a=n(35703);e.exports=a("Array").sort},78209:function(e,t,n){n(98611);var a=n(35703);e.exports=a("Array").splice},14423:function(e,t,n){n(66274);var a=n(35703);e.exports=a("Array").values},27700:function(e,t,n){n(73381);var a=n(35703);e.exports=a("Function").bind},16246:function(e,t,n){var a=n(27700),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?a:t}},56043:function(e,t,n){var a=n(15367),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?a:t}},2480:function(e,t,n){var a=n(62383),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?a:t}},7147:function(e,t,n){var a=n(60009),i=Array.prototype;e.exports=function(e){var t=e.findIndex;return e===i||e instanceof Array&&t===i.findIndex?a:t}},32236:function(e,t,n){var a=n(17671),i=Array.prototype;e.exports=function(e){var t=e.find;return e===i||e instanceof Array&&t===i.find?a:t}},58557:function(e,t,n){var a=n(80991),i=n(21631),r=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===r||e instanceof Array&&t===r.includes?a:"string"==typeof e||e===o||e instanceof String&&t===o.includes?i:t}},34570:function(e,t,n){var a=n(8700),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?a:t}},57564:function(e,t,n){var a=n(6442),i=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===i||e instanceof Array&&t===i.lastIndexOf?a:t}},88287:function(e,t,n){var a=n(23866),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?a:t}},68025:function(e,t,n){var a=n(52999),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?a:t}},69601:function(e,t,n){var a=n(24900),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?a:t}},28299:function(e,t,n){var a=n(3824),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?a:t}},69355:function(e,t,n){var a=n(2948),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||e instanceof Array&&t===i.sort?a:t}},18339:function(e,t,n){var a=n(78209),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?a:t}},62774:function(e,t,n){var a=n(13348),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===i||e instanceof String&&t===i.trim?a:t}},84426:function(e,t,n){n(32619);var a=n(54058);a.JSON||(a.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return a.JSON.stringify.apply(null,arguments)}},45999:function(e,t,n){n(49221);var a=n(54058);e.exports=a.Object.assign},35254:function(e,t,n){n(53882);var a=n(54058).Object;e.exports=function(e,t){return a.create(e,t)}},7702:function(e,t,n){n(74979);var a=n(54058).Object,i=e.exports=function(e,t){return a.defineProperties(e,t)};a.defineProperties.sham&&(i.sham=!0)},48171:function(e,t,n){n(86450);var a=n(54058).Object,i=e.exports=function(e,t,n){return a.defineProperty(e,t,n)};a.defineProperty.sham&&(i.sham=!0)},286:function(e,t,n){n(46924);var a=n(54058).Object,i=e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)};a.getOwnPropertyDescriptor.sham&&(i.sham=!0)},92766:function(e,t,n){n(88482);var a=n(54058);e.exports=a.Object.getOwnPropertyDescriptors},30498:function(e,t,n){n(35824);var a=n(54058);e.exports=a.Object.getOwnPropertySymbols},13966:function(e,t,n){n(17405);var a=n(54058);e.exports=a.Object.getPrototypeOf},48494:function(e,t,n){n(21724);var a=n(54058);e.exports=a.Object.keys},3065:function(e,t,n){n(90108);var a=n(54058);e.exports=a.Object.setPrototypeOf},98430:function(e,t,n){n(26614);var a=n(54058);e.exports=a.Object.values},7579:function(e,t,n){n(49718);var a=n(54058);e.exports=a.parseFloat},98524:function(e,t,n){n(14038);var a=n(54058);e.exports=a.parseInt},52956:function(e,t,n){n(55967),n(77971),n(7634),n(98881),n(4560),n(44349);var a=n(54058);e.exports=a.Promise},14983:function(e,t,n){n(7453);var a=n(54058);e.exports=a.Reflect.construct},37095:function(e,t,n){n(42355);var a=n(54058);e.exports=a.Reflect.get},76998:function(e,t,n){n(69008),n(55967),n(77971),n(7634);var a=n(54058);e.exports=a.Set},46614:function(e,t,n){n(23809);var a=n(54058);e.exports=a.String.fromCodePoint},21631:function(e,t,n){n(11035);var a=n(35703);e.exports=a("String").includes},13348:function(e,t,n){n(57398);var a=n(35703);e.exports=a("String").trim},57473:function(e,t,n){n(85906),n(55967),n(35824),n(8555),n(52615),n(21732),n(35903),n(1825),n(28394),n(45915),n(61766),n(62737),n(89911),n(74315),n(63131),n(64714),n(70659),n(79413),n(69120);var a=n(54058);e.exports=a.Symbol},24227:function(e,t,n){n(1825),n(77971),n(7634);var a=n(11477);e.exports=a.f("iterator")},62978:function(e,t,n){n(63131);var a=n(11477);e.exports=a.f("toPrimitive")},32304:function(e,t,n){n(55967),n(54334),n(7634);var a=n(54058);e.exports=a.WeakMap},27385:function(e,t,n){var a=n(54493);e.exports=a},81522:function(e,t,n){var a=n(24034);e.exports=a},32209:function(e,t,n){n(7634),n(77971);var a=n(22902);e.exports=a},1258:function(e,t,n){n(7634),n(77971);var a=n(53476);e.exports=a},69447:function(e,t,n){var a=n(34570);e.exports=a},81493:function(e,t,n){var a=n(69601);e.exports=a},54408:function(e,t,n){n(7634),n(77971);var a=n(80663);e.exports=a},60269:function(e,t,n){var a=n(45999);e.exports=a},76094:function(e,t,n){var a=n(35254);e.exports=a},73685:function(e,t,n){var a=n(48171);e.exports=a},27533:function(e,t,n){var a=n(286);e.exports=a},84710:function(e,t,n){var a=n(30498);e.exports=a},74303:function(e,t,n){var a=n(13966);e.exports=a},93799:function(e,t,n){var a=n(48494);e.exports=a},55122:function(e,t,n){var a=n(3065);e.exports=a},29531:function(e,t,n){var a=n(52956);n(89731),n(55708),n(30014),n(88731),e.exports=a},31524:function(e,t,n){var a=n(37095);e.exports=a},86600:function(e,t,n){var a=n(57473);n(28783),n(43975),n(46774),n(80620),n(36172),e.exports=a},9759:function(e,t,n){var a=n(24227);e.exports=a},58714:function(e,t,n){var a=n(32304);n(26207),n(13215),n(4629),n(4055),e.exports=a},33916:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},11851:function(e,t,n){var a=n(10941);e.exports=function(e){if(!a(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},18479:function(e){e.exports=function(){}},5743:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},96059:function(e,t,n){var a=n(10941);e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},56837:function(e,t,n){"use strict";var a=n(3610).forEach,i=n(34194),r=n(65486),o=i("forEach"),l=r("forEach");e.exports=o&&l?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},11354:function(e,t,n){"use strict";var a=n(86843),i=n(89678),r=n(75196),o=n(6782),l=n(43057),u=n(55449),s=n(22902);e.exports=function(e){var t,n,c,d,f,p,h=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,_=void 0!==v,y=s(h),b=0;if(_&&(v=a(v,m>2?arguments[2]:void 0,2)),null==y||g==Array&&o(y))for(n=new g(t=l(h.length));t>b;b++)p=_?v(h[b],b):h[b],u(n,b,p);else for(f=(d=y.call(h)).next,n=new g;!(c=f.call(d)).done;b++)p=_?r(d,v,[c.value,b],!0):c.value,u(n,b,p);return n.length=b,n}},31692:function(e,t,n){var a=n(74529),i=n(43057),r=n(59413),o=function(e){return function(t,n,o){var l,u=a(t),s=i(u.length),c=r(o,s);if(e&&n!=n){for(;s>c;)if((l=u[c++])!=l)return!0}else for(;s>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},3610:function(e,t,n){var a=n(86843),i=n(37026),r=n(89678),o=n(43057),l=n(64692),u=[].push,s=function(e){var t=1==e,n=2==e,s=3==e,c=4==e,d=6==e,f=5==e||d;return function(p,h,g,m){for(var v,_,y=r(p),b=i(y),E=a(h,g,3),C=o(b.length),T=0,w=m||l,S=t?w(p,C):n?w(p,0):void 0;C>T;T++)if((f||T in b)&&(_=E(v=b[T],T,y),e))if(t)S[T]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:u.call(S,v)}else if(c)return!1;return d?-1:s||c?c:S}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},67145:function(e,t,n){"use strict";var a=n(74529),i=n(68459),r=n(43057),o=n(34194),l=n(65486),u=Math.min,s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),f=l("indexOf",{ACCESSORS:!0,1:0}),p=c||!d||!f;e.exports=p?function(e){if(c)return s.apply(this,arguments)||0;var t=a(this),n=r(t.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:s},50568:function(e,t,n){var a=n(95981),i=n(99813),r=n(53385),o=i("species");e.exports=function(e){return r>=51||!a((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34194:function(e,t,n){"use strict";var a=n(95981);e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))}},65486:function(e,t,n){var a=n(55746),i=n(95981),r=n(47457),o=Object.defineProperty,l={},u=function(e){throw e};e.exports=function(e,t){if(r(l,e))return l[e];t||(t={});var n=[][e],s=!!r(t,"ACCESSORS")&&t.ACCESSORS,c=r(t,0)?t[0]:u,d=r(t,1)?t[1]:void 0;return l[e]=!!n&&!i((function(){if(s&&!a)return!0;var e={length:-1};s?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,d)}))}},46499:function(e,t,n){var a=n(33916),i=n(89678),r=n(37026),o=n(43057),l=function(e){return function(t,n,l,u){a(n);var s=i(t),c=r(s),d=o(s.length),f=e?d-1:0,p=e?-1:1;if(l<2)for(;;){if(f in c){u=c[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in c&&(u=n(u,c[f],f,s));return u}};e.exports={left:l(!1),right:l(!0)}},64692:function(e,t,n){var a=n(10941),i=n(1052),r=n(99813)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?a(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},75196:function(e,t,n){var a=n(96059);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&a(r.call(e)),t}}},21385:function(e,t,n){var a=n(99813)("iterator"),i=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){i=!0}};o[a]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[a]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},82532:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9697:function(e,t,n){var a=n(22885),i=n(82532),r=n(99813)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=a?i:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},28984:function(e,t,n){"use strict";var a=n(96059),i=n(33916);e.exports=function(){for(var e,t=a(this),n=i(t.delete),r=!0,o=0,l=arguments.length;o<l;o++)e=n.call(t,arguments[o]),r=r&&e;return!!r}},83590:function(e,t,n){"use strict";var a=n(33916),i=n(86843),r=n(80307);e.exports=function(e){var t,n,o,l,u=arguments.length,s=u>1?arguments[1]:void 0;return a(this),(t=void 0!==s)&&a(s),null==e?new this:(n=[],t?(o=0,l=i(s,u>2?arguments[2]:void 0,2),r(e,(function(e){n.push(l(e,o++))}))):r(e,n.push,n),new this(n))}},45226:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},85616:function(e,t,n){"use strict";var a=n(65988).f,i=n(29290),r=n(87524),o=n(86843),l=n(5743),u=n(80307),s=n(47771),c=n(94431),d=n(55746),f=n(21647).fastKey,p=n(45402),h=p.set,g=p.getterFor;e.exports={getConstructor:function(e,t,n,s){var c=e((function(e,a){l(e,c,t),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=a&&u(a,e[s],e,n)})),p=g(t),m=function(e,t,n){var a,i,r=p(e),o=v(e,t);return o?o.value=n:(r.last=o={index:i=f(t,!0),key:t,value:n,previous:a=r.last,next:void 0,removed:!1},r.first||(r.first=o),a&&(a.next=o),d?r.size++:e.size++,"F"!==i&&(r.index[i]=o)),e},v=function(e,t){var n,a=p(e),i=f(t);if("F"!==i)return a.index[i];for(n=a.first;n;n=n.next)if(n.key==t)return n};return r(c.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=p(t),a=v(t,e);if(a){var i=a.next,r=a.previous;delete n.index[a.index],a.removed=!0,r&&(r.next=i),i&&(i.previous=r),n.first==a&&(n.first=i),n.last==a&&(n.last=r),d?n.size--:t.size--}return!!a},forEach:function(e){for(var t,n=p(this),a=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(a(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),r(c.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&a(c.prototype,"size",{get:function(){return p(this).size}}),c},setStrong:function(e,t,n){var a=t+" Iterator",i=g(t),r=g(a);s(e,t,(function(e,t){h(this,{type:a,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=r(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},8850:function(e,t,n){"use strict";var a=n(87524),i=n(21647).getWeakData,r=n(96059),o=n(10941),l=n(5743),u=n(80307),s=n(3610),c=n(47457),d=n(45402),f=d.set,p=d.getterFor,h=s.find,g=s.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},y=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,s){var d=e((function(e,a){l(e,d,t),f(e,{type:t,id:m++,frozen:void 0}),null!=a&&u(a,e[s],e,n)})),h=p(t),g=function(e,t,n){var a=h(e),o=i(r(t),!0);return!0===o?v(a).set(t,n):o[a.id]=n,e};return a(d.prototype,{delete:function(e){var t=h(this);if(!o(e))return!1;var n=i(e);return!0===n?v(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=h(this);if(!o(e))return!1;var n=i(e);return!0===n?v(t).has(e):n&&c(n,t.id)}}),a(d.prototype,n?{get:function(e){var t=h(this);if(o(e)){var n=i(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},24683:function(e,t,n){"use strict";var a=n(76887),i=n(21899),r=n(21647),o=n(95981),l=n(32029),u=n(80307),s=n(5743),c=n(10941),d=n(90904),f=n(65988).f,p=n(3610).forEach,h=n(55746),g=n(45402),m=g.set,v=g.getterFor;e.exports=function(e,t,n){var g,_=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=_?"set":"add",E=i[e],C=E&&E.prototype,T={};if(h&&"function"==typeof E&&(y||C.forEach&&!o((function(){(new E).entries().next()})))){g=t((function(t,n){m(s(t,g,e),{type:e,collection:new E}),null!=n&&u(n,t[b],t,_)}));var w=v(e);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in C)||y&&"clear"==e||l(g.prototype,e,(function(n,a){var i=w(this).collection;if(!t&&y&&!c(n))return"get"==e&&void 0;var r=i[e](0===n?0:n,a);return t?this:r}))})),y||f(g.prototype,"size",{configurable:!0,get:function(){return w(this).collection.size}})}else g=n.getConstructor(t,e,_,b),r.REQUIRED=!0;return d(g,e,!1,!0),T[e]=g,a({global:!0,forced:!0},T),y||n.setStrong(g,e,_),g}},67772:function(e,t,n){var a=n(99813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},64160:function(e,t,n){var a=n(95981);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},31046:function(e,t,n){"use strict";var a=n(35143).IteratorPrototype,i=n(29290),r=n(31887),o=n(90904),l=n(12077),u=function(){return this};e.exports=function(e,t,n){var s=t+" Iterator";return e.prototype=i(a,{next:r(1,n)}),o(e,s,!1,!0),l[s]=u,e}},32029:function(e,t,n){var a=n(55746),i=n(65988),r=n(31887);e.exports=a?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},31887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},55449:function(e,t,n){"use strict";var a=n(46935),i=n(65988),r=n(31887);e.exports=function(e,t,n){var o=a(t);o in e?i.f(e,o,r(0,n)):e[o]=n}},47771:function(e,t,n){"use strict";var a=n(76887),i=n(31046),r=n(249),o=n(88929),l=n(90904),u=n(32029),s=n(99754),c=n(99813),d=n(82529),f=n(12077),p=n(35143),h=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v="keys",_="values",y="entries",b=function(){return this};e.exports=function(e,t,n,c,p,E,C){i(n,t,c);var T,w,S,k=function(e){if(e===p&&R)return R;if(!g&&e in M)return M[e];switch(e){case v:case _:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",A=!1,M=e.prototype,x=M[m]||M["@@iterator"]||p&&M[p],R=!g&&x||k(p),O="Array"==t&&M.entries||x;if(O&&(T=r(O.call(new e)),h!==Object.prototype&&T.next&&(d||r(T)===h||(o?o(T,h):"function"!=typeof T[m]&&u(T,m,b)),l(T,I,!0,!0),d&&(f[I]=b))),p==_&&x&&x.name!==_&&(A=!0,R=function(){return x.call(this)}),d&&!C||M[m]===R||u(M,m,R),f[t]=R,p)if(w={values:k(_),keys:E?R:k(v),entries:k(y)},C)for(S in w)(g||A||!(S in M))&&s(M,S,w[S]);else a({target:t,proto:!0,forced:g||A},w);return w}},66349:function(e,t,n){var a=n(54058),i=n(47457),r=n(11477),o=n(65988).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});i(t,e)||o(t,e,{value:r.f(e)})}},55746:function(e,t,n){var a=n(95981);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},61333:function(e,t,n){var a=n(21899),i=n(10941),r=a.document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},63281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22749:function(e,t,n){var a=n(2861);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},2861:function(e,t,n){var a=n(626);e.exports=a("navigator","userAgent")||""},53385:function(e,t,n){var a,i,r=n(21899),o=n(2861),l=r.process,u=l&&l.versions,s=u&&u.v8;s?i=(a=s.split("."))[0]+a[1]:o&&(!(a=o.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=o.match(/Chrome\/(\d+)/))&&(i=a[1]),e.exports=i&&+i},35703:function(e,t,n){var a=n(54058);e.exports=function(e){return a[e+"Prototype"]}},56759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},76887:function(e,t,n){"use strict";var a=n(21899),i=n(49677).f,r=n(37252),o=n(54058),l=n(86843),u=n(32029),s=n(47457),c=function(e){var t=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,f,p,h,g,m,v,_=e.target,y=e.global,b=e.stat,E=e.proto,C=y?a:b?a[_]:(a[_]||{}).prototype,T=y?o:o[_]||(o[_]={}),w=T.prototype;for(f in t)n=!r(y?f:_+(b?".":"#")+f,e.forced)&&C&&s(C,f),h=T[f],n&&(g=e.noTargetGet?(v=i(C,f))&&v.value:C[f]),p=n&&g?g:t[f],n&&typeof h==typeof p||(m=e.bind&&n?l(p,a):e.wrap&&n?c(p):E&&"function"==typeof p?l(Function.call,p):p,(e.sham||p&&p.sham||h&&h.sham)&&u(m,"sham",!0),T[f]=m,E&&(s(o,d=_+"Prototype")||u(o,d,{}),o[d][f]=p,e.real&&w&&!w[f]&&u(w,f,p)))}},95981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},45602:function(e,t,n){var a=n(95981);e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86843:function(e,t,n){var a=n(33916);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)}}return function(){return e.apply(t,arguments)}}},98308:function(e,t,n){"use strict";var a=n(33916),i=n(10941),r=[].slice,o={},l=function(e,t,n){if(!(t in o)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]";o[t]=Function("C,a","return new C("+a.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=a(this),n=r.call(arguments,1),o=function(){var a=n.concat(r.call(arguments));return this instanceof o?l(t,a.length,a):t.apply(e,a)};return i(t.prototype)&&(o.prototype=t.prototype),o}},626:function(e,t,n){var a=n(54058),i=n(21899),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(a[e])||r(i[e]):a[e]&&a[e][t]||i[e]&&i[e][t]}},22902:function(e,t,n){var a=n(9697),i=n(12077),r=n(99813)("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[a(e)]}},53476:function(e,t,n){var a=n(96059),i=n(22902);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return a(t.call(e))}},21899:function(e,t,n){var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof n.g&&n.g)||Function("return this")()},47457:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},27748:function(e){e.exports={}},34845:function(e,t,n){var a=n(21899);e.exports=function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},15463:function(e,t,n){var a=n(626);e.exports=a("document","documentElement")},2840:function(e,t,n){var a=n(55746),i=n(95981),r=n(61333);e.exports=!a&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},37026:function(e,t,n){var a=n(95981),i=n(82532),r="".split;e.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?r.call(e,""):Object(e)}:Object},81302:function(e,t,n){var a=n(63030),i=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return i.call(e)}),e.exports=a.inspectSource},21647:function(e,t,n){var a=n(27748),i=n(10941),r=n(47457),o=n(65988).f,l=n(99418),u=n(45602),s=l("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,s,{value:{objectID:"O"+ ++c,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,s)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[s].objectID},getWeakData:function(e,t){if(!r(e,s)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[s].weakData},onFreeze:function(e){return u&&p.REQUIRED&&d(e)&&!r(e,s)&&f(e),e}};a[s]=!0},45402:function(e,t,n){var a,i,r,o=n(38019),l=n(21899),u=n(10941),s=n(32029),c=n(47457),d=n(44262),f=n(27748),p=l.WeakMap;if(o){var h=new p,g=h.get,m=h.has,v=h.set;a=function(e,t){return v.call(h,e,t),t},i=function(e){return g.call(h,e)||{}},r=function(e){return m.call(h,e)}}else{var _=d("state");f[_]=!0,a=function(e,t){return s(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},r=function(e){return c(e,_)}}e.exports={set:a,get:i,has:r,enforce:function(e){return r(e)?i(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},6782:function(e,t,n){var a=n(99813),i=n(12077),r=a("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},1052:function(e,t,n){var a=n(82532);e.exports=Array.isArray||function(e){return"Array"==a(e)}},37252:function(e,t,n){var a=n(95981),i=/#|\.prototype\./,r=function(e,t){var n=l[o(e)];return n==s||n!=u&&("function"==typeof t?a(t):!!t)},o=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=r.data={},u=r.NATIVE="N",s=r.POLYFILL="P";e.exports=r},80663:function(e,t,n){var a=n(9697),i=n(99813),r=n(12077),o=i("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||r.hasOwnProperty(a(t))}},10941:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},82529:function(e){e.exports=!0},60685:function(e,t,n){var a=n(10941),i=n(82532),r=n(99813)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==i(e))}},80307:function(e,t,n){var a=n(96059),i=n(6782),r=n(43057),o=n(86843),l=n(22902),u=n(75196),s=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,d){var f,p,h,g,m,v,_,y=o(t,n,c?2:1);if(d)f=e;else{if("function"!=typeof(p=l(e)))throw TypeError("Target is not iterable");if(i(p)){for(h=0,g=r(e.length);g>h;h++)if((m=c?y(a(_=e[h])[0],_[1]):y(e[h]))&&m instanceof s)return m;return new s(!1)}f=p.call(e)}for(v=f.next;!(_=v.call(f)).done;)if("object"==typeof(m=u(f,y,_.value,c))&&m&&m instanceof s)return m;return new s(!1)}).stop=function(e){return new s(!0,e)}},35143:function(e,t,n){"use strict";var a,i,r,o=n(249),l=n(32029),u=n(47457),s=n(99813),c=n(82529),d=s("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(i=o(o(r)))!==Object.prototype&&(a=i):f=!0),null==a&&(a={}),c||u(a,d)||l(a,d,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},12077:function(e){e.exports={}},20716:function(e,t,n){"use strict";var a=n(96059);e.exports=function(e,t){var n,i=a(this),r=arguments.length>2?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof r)throw TypeError("At least one callback required");return i.has(e)?(n=i.get(e),"function"==typeof t&&(n=t(n),i.set(e,n))):"function"==typeof r&&(n=r(),i.set(e,n)),n}},66132:function(e,t,n){var a,i,r,o,l,u,s,c,d=n(21899),f=n(49677).f,p=n(82532),h=n(42941).set,g=n(22749),m=d.MutationObserver||d.WebKitMutationObserver,v=d.process,_=d.Promise,y="process"==p(v),b=f(d,"queueMicrotask"),E=b&&b.value;E||(a=function(){var e,t;for(y&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():r=void 0,e}}r=void 0,e&&e.enter()},y?o=function(){v.nextTick(a)}:m&&!g?(l=!0,u=document.createTextNode(""),new m(a).observe(u,{characterData:!0}),o=function(){u.data=l=!l}):_&&_.resolve?(s=_.resolve(void 0),c=s.then,o=function(){c.call(s,a)}):o=function(){h.call(d,a)}),e.exports=E||function(e){var t={fn:e,next:void 0};r&&(r.next=t),i||(i=t,o()),r=t}},19297:function(e,t,n){var a=n(21899);e.exports=a.Promise},72497:function(e,t,n){var a=n(95981);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())}))},38019:function(e,t,n){var a=n(21899),i=n(81302),r=a.WeakMap;e.exports="function"==typeof r&&/native code/.test(i(r))},69520:function(e,t,n){"use strict";var a=n(33916),i=function(e){var t,n;this.promise=new e((function(e,a){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=a})),this.resolve=a(t),this.reject=a(n)};e.exports.f=function(e){return new i(e)}},70344:function(e,t,n){var a=n(60685);e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},81942:function(e,t,n){var a=n(21899),i=n(74853).trim,r=n(73483),o=a.parseFloat,l=1/o(r+"-0")!=-1/0;e.exports=l?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},29806:function(e,t,n){var a=n(21899),i=n(74853).trim,r=n(73483),o=a.parseInt,l=/^[+-]?0[Xx]/,u=8!==o(r+"08")||22!==o(r+"0x16");e.exports=u?function(e,t){var n=i(String(e));return o(n,t>>>0||(l.test(n)?16:10))}:o},24420:function(e,t,n){"use strict";var a=n(55746),i=n(95981),r=n(14771),o=n(87857),l=n(36760),u=n(89678),s=n(37026),c=Object.assign,d=Object.defineProperty;e.exports=!c||i((function(){if(a&&1!==c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||r(c({},t)).join("")!=i}))?function(e,t){for(var n=u(e),i=arguments.length,c=1,d=o.f,f=l.f;i>c;)for(var p,h=s(arguments[c++]),g=d?r(h).concat(d(h)):r(h),m=g.length,v=0;m>v;)p=g[v++],a&&!f.call(h,p)||(n[p]=h[p]);return n}:c},29290:function(e,t,n){var a,i=n(96059),r=n(59938),o=n(56759),l=n(27748),u=n(15463),s=n(61333),c=n(44262),d=c("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"</"+"script>"},h=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=a?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(a):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete h.prototype[o[n]];return h()};l[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[d]=e):n=h(),void 0===t?n:r(n,t)}},59938:function(e,t,n){var a=n(55746),i=n(65988),r=n(96059),o=n(14771);e.exports=a?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),l=a.length,u=0;l>u;)i.f(e,n=a[u++],t[n]);return e}},65988:function(e,t,n){var a=n(55746),i=n(2840),r=n(96059),o=n(46935),l=Object.defineProperty;t.f=a?l:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},49677:function(e,t,n){var a=n(55746),i=n(36760),r=n(31887),o=n(74529),l=n(46935),u=n(47457),s=n(2840),c=Object.getOwnPropertyDescriptor;t.f=a?c:function(e,t){if(e=o(e),t=l(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return r(!i.f.call(e,t),e[t])}},684:function(e,t,n){var a=n(74529),i=n(10946).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(a(e))}},10946:function(e,t,n){var a=n(55629),i=n(56759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},87857:function(e,t){t.f=Object.getOwnPropertySymbols},249:function(e,t,n){var a=n(47457),i=n(89678),r=n(44262),o=n(64160),l=r("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),a(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},55629:function(e,t,n){var a=n(47457),i=n(74529),r=n(31692).indexOf,o=n(27748);e.exports=function(e,t){var n,l=i(e),u=0,s=[];for(n in l)!a(o,n)&&a(l,n)&&s.push(n);for(;t.length>u;)a(l,n=t[u++])&&(~r(s,n)||s.push(n));return s}},14771:function(e,t,n){var a=n(55629),i=n(56759);e.exports=Object.keys||function(e){return a(e,i)}},36760:function(e,t){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!n.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},88929:function(e,t,n){var a=n(96059),i=n(11851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return a(n),i(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},88810:function(e,t,n){var a=n(55746),i=n(14771),r=n(74529),o=n(36760).f,l=function(e){return function(t){for(var n,l=r(t),u=i(l),s=u.length,c=0,d=[];s>c;)n=u[c++],a&&!o.call(l,n)||d.push(e?[n,l[n]]:l[n]);return d}};e.exports={entries:l(!0),values:l(!1)}},95623:function(e,t,n){"use strict";var a=n(22885),i=n(9697);e.exports=a?{}.toString:function(){return"[object "+i(this)+"]"}},31136:function(e,t,n){var a=n(626),i=n(10946),r=n(87857),o=n(96059);e.exports=a("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},54058:function(e){e.exports={}},40002:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},56584:function(e,t,n){var a=n(96059),i=n(10941),r=n(69520);e.exports=function(e,t){if(a(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},87524:function(e,t,n){var a=n(99754);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:a(e,i,t[i],n);return e}},99754:function(e,t,n){var a=n(32029);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:a(e,t,n)}},48219:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},4911:function(e,t,n){var a=n(21899),i=n(32029);e.exports=function(e,t){try{i(a,e,t)}catch(n){a[e]=t}return t}},94431:function(e,t,n){"use strict";var a=n(626),i=n(65988),r=n(99813),o=n(55746),l=r("species");e.exports=function(e){var t=a(e),n=i.f;o&&t&&!t[l]&&n(t,l,{configurable:!0,get:function(){return this}})}},90904:function(e,t,n){var a=n(22885),i=n(65988).f,r=n(32029),o=n(47457),l=n(95623),u=n(99813)("toStringTag");e.exports=function(e,t,n,s){if(e){var c=n?e:e.prototype;o(c,u)||i(c,u,{configurable:!0,value:t}),s&&!a&&r(c,"toString",l)}}},44262:function(e,t,n){var a=n(68726),i=n(99418),r=a("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},63030:function(e,t,n){var a=n(21899),i=n(4911),r="__core-js_shared__",o=a[r]||i(r,{});e.exports=o},68726:function(e,t,n){var a=n(82529),i=n(63030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},70487:function(e,t,n){var a=n(96059),i=n(33916),r=n(99813)("species");e.exports=function(e,t){var n,o=a(e).constructor;return void 0===o||null==(n=a(o)[r])?t:i(n)}},64620:function(e,t,n){var a=n(68459),i=n(48219),r=function(e){return function(t,n){var r,o,l=String(i(t)),u=a(n),s=l.length;return u<0||u>=s?e?"":void 0:(r=l.charCodeAt(u))<55296||r>56319||u+1===s||(o=l.charCodeAt(u+1))<56320||o>57343?e?l.charAt(u):r:e?l.slice(u,u+2):o-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},93093:function(e,t,n){var a=n(95981),i=n(73483);e.exports=function(e){return a((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},74853:function(e,t,n){var a=n(48219),i="["+n(73483)+"]",r=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},42941:function(e,t,n){var a,i,r,o=n(21899),l=n(95981),u=n(82532),s=n(86843),c=n(15463),d=n(61333),f=n(22749),p=o.location,h=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,_=o.Dispatch,y=0,b={},E="onreadystatechange",C=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},T=function(e){return function(){C(e)}},w=function(e){C(e.data)},S=function(e){o.postMessage(e+"",p.protocol+"//"+p.host)};h&&g||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(y),y},g=function(e){delete b[e]},"process"==u(m)?a=function(e){m.nextTick(T(e))}:_&&_.now?a=function(e){_.now(T(e))}:v&&!f?(r=(i=new v).port2,i.port1.onmessage=w,a=s(r.postMessage,r,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||l(S)||"file:"===p.protocol?a=E in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),C(e)}}:function(e){setTimeout(T(e),0)}:(a=S,o.addEventListener("message",w,!1))),e.exports={set:h,clear:g}},59413:function(e,t,n){var a=n(68459),i=Math.max,r=Math.min;e.exports=function(e,t){var n=a(e);return n<0?i(n+t,0):r(n,t)}},74529:function(e,t,n){var a=n(37026),i=n(48219);e.exports=function(e){return a(i(e))}},68459:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},43057:function(e,t,n){var a=n(68459),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},89678:function(e,t,n){var a=n(48219);e.exports=function(e){return Object(a(e))}},46935:function(e,t,n){var a=n(10941);e.exports=function(e,t){if(!a(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!a(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},22885:function(e,t,n){var a={};a[n(99813)("toStringTag")]="z",e.exports="[object z]"===String(a)},99418:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},32302:function(e,t,n){var a=n(72497);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},11477:function(e,t,n){var a=n(99813);t.f=a},99813:function(e,t,n){var a=n(21899),i=n(68726),r=n(47457),o=n(99418),l=n(72497),u=n(32302),s=i("wks"),c=a.Symbol,d=u?c:c&&c.withoutSetter||o;e.exports=function(e){return r(s,e)||(l&&r(c,e)?s[e]=c[e]:s[e]=d("Symbol."+e)),s[e]}},73483:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},85906:function(e,t,n){"use strict";var a=n(76887),i=n(95981),r=n(1052),o=n(10941),l=n(89678),u=n(43057),s=n(55449),c=n(64692),d=n(50568),f=n(99813),p=n(53385),h=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=p>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),_=d("concat"),y=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)};a({target:"Array",proto:!0,forced:!v||!_},{concat:function(e){var t,n,a,i,r,o=l(this),d=c(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(y(r=-1===t?o:arguments[t])){if(f+(i=u(r.length))>g)throw TypeError(m);for(n=0;n<i;n++,f++)n in r&&s(d,f,r[n])}else{if(f>=g)throw TypeError(m);s(d,f++,r)}return d.length=f,d}})},21501:function(e,t,n){"use strict";var a=n(76887),i=n(3610).filter,r=n(50568),o=n(65486),l=r("filter"),u=o("filter");a({target:"Array",proto:!0,forced:!l||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},44929:function(e,t,n){"use strict";var a=n(76887),i=n(3610).findIndex,r=n(18479),o=n(65486),l="findIndex",u=!0,s=o(l);l in[]&&Array(1).findIndex((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(l)},80833:function(e,t,n){"use strict";var a=n(76887),i=n(3610).find,r=n(18479),o=n(65486),l="find",u=!0,s=o(l);l in[]&&Array(1).find((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(l)},2437:function(e,t,n){"use strict";var a=n(76887),i=n(56837);a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},53242:function(e,t,n){var a=n(76887),i=n(11354);a({target:"Array",stat:!0,forced:!n(21385)((function(e){Array.from(e)}))},{from:i})},97690:function(e,t,n){"use strict";var a=n(76887),i=n(31692).includes,r=n(18479);a({target:"Array",proto:!0,forced:!n(65486)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},99076:function(e,t,n){"use strict";var a=n(76887),i=n(31692).indexOf,r=n(34194),o=n(65486),l=[].indexOf,u=!!l&&1/[1].indexOf(1,-0)<0,s=r("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:u||!s||!c},{indexOf:function(e){return u?l.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},92737:function(e,t,n){n(76887)({target:"Array",stat:!0},{isArray:n(1052)})},66274:function(e,t,n){"use strict";var a=n(74529),i=n(18479),r=n(12077),o=n(45402),l=n(47771),u="Array Iterator",s=o.set,c=o.getterFor(u);e.exports=l(Array,"Array",(function(e,t){s(this,{type:u,target:a(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,a=e.index++;return!t||a>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:a,done:!1}:"values"==n?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},75915:function(e,t,n){var a=n(76887),i=n(67145);a({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},68787:function(e,t,n){"use strict";var a=n(76887),i=n(3610).map,r=n(50568),o=n(65486),l=r("map"),u=o("map");a({target:"Array",proto:!0,forced:!l||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},81876:function(e,t,n){"use strict";var a=n(76887),i=n(46499).left,r=n(34194),o=n(65486),l=r("reduce"),u=o("reduce",{1:0});a({target:"Array",proto:!0,forced:!l||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},60186:function(e,t,n){"use strict";var a=n(76887),i=n(10941),r=n(1052),o=n(59413),l=n(43057),u=n(74529),s=n(55449),c=n(99813),d=n(50568),f=n(65486),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),m=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!p||!h},{slice:function(e,t){var n,a,c,d=u(this),f=l(d.length),p=o(e,f),h=o(void 0===t?f:t,f);if(r(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,p,h);for(a=new(void 0===n?Array:n)(v(h-p,0)),c=0;p<h;p++,c++)p in d&&s(a,c,d[p]);return a.length=c,a}})},36026:function(e,t,n){"use strict";var a=n(76887),i=n(3610).some,r=n(34194),o=n(65486),l=r("some"),u=o("some");a({target:"Array",proto:!0,forced:!l||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4115:function(e,t,n){"use strict";var a=n(76887),i=n(33916),r=n(89678),o=n(95981),l=n(34194),u=[],s=u.sort,c=o((function(){u.sort(void 0)})),d=o((function(){u.sort(null)})),f=l("sort");a({target:"Array",proto:!0,forced:c||!d||!f},{sort:function(e){return void 0===e?s.call(r(this)):s.call(r(this),i(e))}})},98611:function(e,t,n){"use strict";var a=n(76887),i=n(59413),r=n(68459),o=n(43057),l=n(89678),u=n(64692),s=n(55449),c=n(50568),d=n(65486),f=c("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,a,c,d,f,p,_=l(this),y=o(_.length),b=i(e,y),E=arguments.length;if(0===E?n=a=0:1===E?(n=0,a=y-b):(n=E-2,a=g(h(r(t),0),y-b)),y+n-a>m)throw TypeError(v);for(c=u(_,a),d=0;d<a;d++)(f=b+d)in _&&s(c,d,_[f]);if(c.length=a,n<a){for(d=b;d<y-a;d++)p=d+n,(f=d+a)in _?_[p]=_[f]:delete _[p];for(d=y;d>y-a+n;d--)delete _[d-1]}else if(n>a)for(d=y-a;d>b;d--)p=d+n-1,(f=d+a-1)in _?_[p]=_[f]:delete _[p];for(d=0;d<n;d++)_[d+b]=arguments[d+2];return _.length=y-a+n,c}})},73381:function(e,t,n){n(76887)({target:"Function",proto:!0},{bind:n(98308)})},32619:function(e,t,n){var a=n(76887),i=n(626),r=n(95981),o=i("JSON","stringify"),l=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,c=function(e,t,n){var a=n.charAt(t-1),i=n.charAt(t+1);return u.test(e)&&!s.test(i)||s.test(e)&&!u.test(a)?"\\u"+e.charCodeAt(0).toString(16):e},d=r((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&a({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,n){var a=o.apply(null,arguments);return"string"==typeof a?a.replace(l,c):a}})},69120:function(e,t,n){var a=n(21899);n(90904)(a.JSON,"JSON",!0)},79413:function(e,t,n){n(90904)(Math,"Math",!0)},49221:function(e,t,n){var a=n(76887),i=n(24420);a({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},53882:function(e,t,n){n(76887)({target:"Object",stat:!0,sham:!n(55746)},{create:n(29290)})},74979:function(e,t,n){var a=n(76887),i=n(55746);a({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(59938)})},86450:function(e,t,n){var a=n(76887),i=n(55746);a({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(65988).f})},46924:function(e,t,n){var a=n(76887),i=n(95981),r=n(74529),o=n(49677).f,l=n(55746),u=i((function(){o(1)}));a({target:"Object",stat:!0,forced:!l||u,sham:!l},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})},88482:function(e,t,n){var a=n(76887),i=n(55746),r=n(31136),o=n(74529),l=n(49677),u=n(55449);a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,a=o(e),i=l.f,s=r(a),c={},d=0;s.length>d;)void 0!==(n=i(a,t=s[d++]))&&u(c,t,n);return c}})},17405:function(e,t,n){var a=n(76887),i=n(95981),r=n(89678),o=n(249),l=n(64160);a({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!l},{getPrototypeOf:function(e){return o(r(e))}})},21724:function(e,t,n){var a=n(76887),i=n(89678),r=n(14771);a({target:"Object",stat:!0,forced:n(95981)((function(){r(1)}))},{keys:function(e){return r(i(e))}})},90108:function(e,t,n){n(76887)({target:"Object",stat:!0},{setPrototypeOf:n(88929)})},55967:function(){},26614:function(e,t,n){var a=n(76887),i=n(88810).values;a({target:"Object",stat:!0},{values:function(e){return i(e)}})},49718:function(e,t,n){var a=n(76887),i=n(81942);a({global:!0,forced:parseFloat!=i},{parseFloat:i})},14038:function(e,t,n){var a=n(76887),i=n(29806);a({global:!0,forced:parseInt!=i},{parseInt:i})},4560:function(e,t,n){"use strict";var a=n(76887),i=n(33916),r=n(69520),o=n(40002),l=n(80307);a({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),a=n.resolve,u=n.reject,s=o((function(){var n=i(t.resolve),r=[],o=0,u=1;l(e,(function(e){var i=o++,l=!1;r.push(void 0),u++,n.call(t,e).then((function(e){l||(l=!0,r[i]={status:"fulfilled",value:e},--u||a(r))}),(function(e){l||(l=!0,r[i]={status:"rejected",reason:e},--u||a(r))}))})),--u||a(r)}));return s.error&&u(s.value),n.promise}})},44349:function(e,t,n){"use strict";var a=n(76887),i=n(82529),r=n(19297),o=n(95981),l=n(626),u=n(70487),s=n(56584),c=n(99754);a({target:"Promise",proto:!0,real:!0,forced:!!r&&o((function(){r.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,l("Promise")),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof r||r.prototype.finally||c(r.prototype,"finally",l("Promise").prototype.finally)},98881:function(e,t,n){"use strict";var a,i,r,o,l=n(76887),u=n(82529),s=n(21899),c=n(626),d=n(19297),f=n(99754),p=n(87524),h=n(90904),g=n(94431),m=n(10941),v=n(33916),_=n(5743),y=n(82532),b=n(81302),E=n(80307),C=n(21385),T=n(70487),w=n(42941).set,S=n(66132),k=n(56584),I=n(34845),A=n(69520),M=n(40002),x=n(45402),R=n(37252),O=n(99813),N=n(53385),D=O("species"),L="Promise",P=x.get,B=x.set,j=x.getterFor(L),F=d,H=s.TypeError,U=s.document,W=s.process,z=c("fetch"),G=A.f,V=G,q="process"==y(W),K=!!(U&&U.createEvent&&s.dispatchEvent),Y="unhandledrejection",Z=R(L,(function(){if(!(b(F)!==String(F))){if(66===N)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(N>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),J=Z||!C((function(e){F.all(e).catch((function(){}))})),X=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t,n){if(!t.notified){t.notified=!0;var a=t.reactions;S((function(){for(var i=t.value,r=1==t.state,o=0;a.length>o;){var l,u,s,c=a[o++],d=r?c.ok:c.fail,f=c.resolve,p=c.reject,h=c.domain;try{d?(r||(2===t.rejection&&ne(e,t),t.rejection=1),!0===d?l=i:(h&&h.enter(),l=d(i),h&&(h.exit(),s=!0)),l===c.promise?p(H("Promise-chain cycle")):(u=X(l))?u.call(l,f,p):f(l)):p(i)}catch(e){h&&!s&&h.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)}))}},Q=function(e,t,n){var a,i;K?((a=U.createEvent("Event")).promise=t,a.reason=n,a.initEvent(e,!1,!0),s.dispatchEvent(a)):a={promise:t,reason:n},(i=s["on"+e])?i(a):e===Y&&I("Unhandled promise rejection",n)},ee=function(e,t){w.call(s,(function(){var n,a=t.value;if(te(t)&&(n=M((function(){q?W.emit("unhandledRejection",a,e):Q(Y,e,a)})),t.rejection=q||te(t)?2:1,n.error))throw n.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){w.call(s,(function(){q?W.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ae=function(e,t,n,a){return function(i){e(t,n,i,a)}},ie=function(e,t,n,a){t.done||(t.done=!0,a&&(t=a),t.value=n,t.state=2,$(e,t,!0))},re=function(e,t,n,a){if(!t.done){t.done=!0,a&&(t=a);try{if(e===n)throw H("Promise can't be resolved itself");var i=X(n);i?S((function(){var a={done:!1};try{i.call(n,ae(re,e,a,t),ae(ie,e,a,t))}catch(n){ie(e,a,n,t)}})):(t.value=n,t.state=1,$(e,t,!1))}catch(n){ie(e,{done:!1},n,t)}}};Z&&(F=function(e){_(this,F,L),v(e),a.call(this);var t=P(this);try{e(ae(re,this,t),ae(ie,this,t))}catch(e){ie(this,t,e)}},(a=function(e){B(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(F.prototype,{then:function(e,t){var n=j(this),a=G(T(this,F));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=q?W.domain:void 0,n.parent=!0,n.reactions.push(a),0!=n.state&&$(this,n,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new a,t=P(e);this.promise=e,this.resolve=ae(re,e,t),this.reject=ae(ie,e,t)},A.f=G=function(e){return e===F||e===r?new i(e):V(e)},u||"function"!=typeof d||(o=d.prototype.then,f(d.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof z&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(F,z.apply(s,arguments))}}))),l({global:!0,wrap:!0,forced:Z},{Promise:F}),h(F,L,!1,!0),g(L),r=c(L),l({target:L,stat:!0,forced:Z},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),l({target:L,stat:!0,forced:u||Z},{resolve:function(e){return k(u&&this===r?F:this,e)}}),l({target:L,stat:!0,forced:J},{all:function(e){var t=this,n=G(t),a=n.resolve,i=n.reject,r=M((function(){var n=v(t.resolve),r=[],o=0,l=1;E(e,(function(e){var u=o++,s=!1;r.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,r[u]=e,--l||a(r))}),i)})),--l||a(r)}));return r.error&&i(r.value),n.promise},race:function(e){var t=this,n=G(t),a=n.reject,i=M((function(){var i=v(t.resolve);E(e,(function(e){i.call(t,e).then(n.resolve,a)}))}));return i.error&&a(i.value),n.promise}})},7453:function(e,t,n){var a=n(76887),i=n(626),r=n(33916),o=n(96059),l=n(10941),u=n(29290),s=n(98308),c=n(95981),d=i("Reflect","construct"),f=c((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),p=!c((function(){d((function(){}))})),h=f||p;a({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){r(e),o(t);var n=arguments.length<3?e:r(arguments[2]);if(p&&!f)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(s.apply(e,a))}var i=n.prototype,c=u(l(i)?i:Object.prototype),h=Function.apply.call(e,c,t);return l(h)?h:c}})},42355:function(e,t,n){var a=n(76887),i=n(10941),r=n(96059),o=n(47457),l=n(49677),u=n(249);a({target:"Reflect",stat:!0},{get:function e(t,n){var a,s,c=arguments.length<3?t:arguments[2];return r(t)===c?t[n]:(a=l.f(t,n))?o(a,"value")?a.value:void 0===a.get?void 0:a.get.call(c):i(s=u(t))?e(s,n,c):void 0}})},69008:function(e,t,n){"use strict";var a=n(24683),i=n(85616);e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},23809:function(e,t,n){var a=n(76887),i=n(59413),r=String.fromCharCode,o=String.fromCodePoint;a({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],a=arguments.length,o=0;a>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},11035:function(e,t,n){"use strict";var a=n(76887),i=n(70344),r=n(48219);a({target:"String",proto:!0,forced:!n(67772)("includes")},{includes:function(e){return!!~String(r(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},77971:function(e,t,n){"use strict";var a=n(64620).charAt,i=n(45402),r=n(47771),o="String Iterator",l=i.set,u=i.getterFor(o);r(String,"String",(function(e){l(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=a(n,i),t.index+=e.length,{value:e,done:!1})}))},57398:function(e,t,n){"use strict";var a=n(76887),i=n(74853).trim;a({target:"String",proto:!0,forced:n(93093)("trim")},{trim:function(){return i(this)}})},8555:function(e,t,n){n(66349)("asyncIterator")},52615:function(){},21732:function(e,t,n){n(66349)("hasInstance")},35903:function(e,t,n){n(66349)("isConcatSpreadable")},1825:function(e,t,n){n(66349)("iterator")},35824:function(e,t,n){"use strict";var a=n(76887),i=n(21899),r=n(626),o=n(82529),l=n(55746),u=n(72497),s=n(32302),c=n(95981),d=n(47457),f=n(1052),p=n(10941),h=n(96059),g=n(89678),m=n(74529),v=n(46935),_=n(31887),y=n(29290),b=n(14771),E=n(10946),C=n(684),T=n(87857),w=n(49677),S=n(65988),k=n(36760),I=n(32029),A=n(99754),M=n(68726),x=n(44262),R=n(27748),O=n(99418),N=n(99813),D=n(11477),L=n(66349),P=n(90904),B=n(45402),j=n(3610).forEach,F=x("hidden"),H="Symbol",U=N("toPrimitive"),W=B.set,z=B.getterFor(H),G=Object.prototype,V=i.Symbol,q=r("JSON","stringify"),K=w.f,Y=S.f,Z=C.f,J=k.f,X=M("symbols"),$=M("op-symbols"),Q=M("string-to-symbol-registry"),ee=M("symbol-to-string-registry"),te=M("wks"),ne=i.QObject,ae=!ne||!ne.prototype||!ne.prototype.findChild,ie=l&&c((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=K(G,t);a&&delete G[t],Y(e,t,n),a&&e!==G&&Y(G,t,a)}:Y,re=function(e,t){var n=X[e]=y(V.prototype);return W(n,{type:H,tag:e,description:t}),l||(n.description=t),n},oe=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},le=function(e,t,n){e===G&&le($,t,n),h(e);var a=v(t,!0);return h(n),d(X,a)?(n.enumerable?(d(e,F)&&e[F][a]&&(e[F][a]=!1),n=y(n,{enumerable:_(0,!1)})):(d(e,F)||Y(e,F,_(1,{})),e[F][a]=!0),ie(e,a,n)):Y(e,a,n)},ue=function(e,t){h(e);var n=m(t),a=b(n).concat(fe(n));return j(a,(function(t){l&&!se.call(n,t)||le(e,t,n[t])})),e},se=function(e){var t=v(e,!0),n=J.call(this,t);return!(this===G&&d(X,t)&&!d($,t))&&(!(n||!d(this,t)||!d(X,t)||d(this,F)&&this[F][t])||n)},ce=function(e,t){var n=m(e),a=v(t,!0);if(n!==G||!d(X,a)||d($,a)){var i=K(n,a);return!i||!d(X,a)||d(n,F)&&n[F][a]||(i.enumerable=!0),i}},de=function(e){var t=Z(m(e)),n=[];return j(t,(function(e){d(X,e)||d(R,e)||n.push(e)})),n},fe=function(e){var t=e===G,n=Z(t?$:m(e)),a=[];return j(n,(function(e){!d(X,e)||t&&!d(G,e)||a.push(X[e])})),a};(u||(A((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),n=function(e){this===G&&n.call($,e),d(this,F)&&d(this[F],t)&&(this[F][t]=!1),ie(this,t,_(1,e))};return l&&ae&&ie(G,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return z(this).tag})),A(V,"withoutSetter",(function(e){return re(O(e),e)})),k.f=se,S.f=le,w.f=ce,E.f=C.f=de,T.f=fe,D.f=function(e){return re(N(e),e)},l&&(Y(V.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),o||A(G,"propertyIsEnumerable",se,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),j(b(te),(function(e){L(e)})),a({target:H,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(Q,t))return Q[t];var n=V(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),a({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:ce}),a({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),a({target:"Object",stat:!0,forced:c((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(g(e))}}),q)&&a({target:"JSON",stat:!0,forced:!u||c((function(){var e=V();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,n){for(var a,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(a=t,(p(t)||void 0!==e)&&!oe(e))return f(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!oe(t))return t}),i[1]=t,q.apply(null,i)}});V.prototype[U]||I(V.prototype,U,V.prototype.valueOf),P(V,H),R[F]=!0},45915:function(e,t,n){n(66349)("matchAll")},28394:function(e,t,n){n(66349)("match")},61766:function(e,t,n){n(66349)("replace")},62737:function(e,t,n){n(66349)("search")},89911:function(e,t,n){n(66349)("species")},74315:function(e,t,n){n(66349)("split")},63131:function(e,t,n){n(66349)("toPrimitive")},64714:function(e,t,n){n(66349)("toStringTag")},70659:function(e,t,n){n(66349)("unscopables")},54334:function(e,t,n){"use strict";var a,i=n(21899),r=n(87524),o=n(21647),l=n(24683),u=n(8850),s=n(10941),c=n(45402).enforce,d=n(38019),f=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=l("WeakMap",h,u);if(d&&f){a=u.getConstructor(h,"WeakMap",!0),o.REQUIRED=!0;var m=g.prototype,v=m.delete,_=m.has,y=m.get,b=m.set;r(m,{delete:function(e){if(s(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new a),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(s(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new a),_.call(this,e)||t.frozen.has(e)}return _.call(this,e)},get:function(e){if(s(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new a),_.call(this,e)?y.call(this,e):t.frozen.get(e)}return y.call(this,e)},set:function(e,t){if(s(e)&&!p(e)){var n=c(this);n.frozen||(n.frozen=new a),_.call(this,e)?b.call(this,e,t):n.frozen.set(e,t)}else b.call(this,e,t);return this}})}},89731:function(e,t,n){"use strict";var a=n(76887),i=n(55746),r=n(249),o=n(88929),l=n(29290),u=n(65988),s=n(31887),c=n(80307),d=n(32029),f=n(45402),p=f.set,h=f.getterFor("AggregateError"),g=function(e,t){var n=this;if(!(n instanceof g))return new g(e,t);o&&(n=o(new Error(t),r(n)));var a=[];return c(e,a.push,a),i?p(n,{errors:a,type:"AggregateError"}):n.errors=a,void 0!==t&&d(n,"message",String(t)),n};g.prototype=l(Error.prototype,{constructor:s(5,g),message:s(5,""),name:s(5,"AggregateError")}),i&&u.f(g.prototype,"errors",{get:function(){return h(this).errors},configurable:!0}),a({global:!0},{AggregateError:g})},55708:function(e,t,n){n(4560)},88731:function(e,t,n){"use strict";var a=n(76887),i=n(33916),r=n(626),o=n(69520),l=n(40002),u=n(80307),s="No one promise resolved";a({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),a=n.resolve,c=n.reject,d=l((function(){var n=i(t.resolve),o=[],l=0,d=1,f=!1;u(e,(function(e){var i=l++,u=!1;o.push(void 0),d++,n.call(t,e).then((function(e){u||f||(f=!0,a(e))}),(function(e){u||f||(u=!0,o[i]=e,--d||c(new(r("AggregateError"))(o,s)))}))})),--d||c(new(r("AggregateError"))(o,s))}));return d.error&&c(d.value),n.promise}})},30014:function(e,t,n){"use strict";var a=n(76887),i=n(69520),r=n(40002);a({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=r(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},28783:function(e,t,n){n(66349)("asyncDispose")},43975:function(e,t,n){n(66349)("dispose")},46774:function(e,t,n){n(66349)("observable")},80620:function(e,t,n){n(66349)("patternMatch")},36172:function(e,t,n){n(66349)("replaceAll")},4629:function(e,t,n){"use strict";var a=n(76887),i=n(82529),r=n(28984);a({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return r.apply(this,arguments)}})},26207:function(e,t,n){n(76887)({target:"WeakMap",stat:!0},{from:n(83590)})},13215:function(e,t,n){n(76887)({target:"WeakMap",stat:!0},{of:n(45226)})},4055:function(e,t,n){"use strict";n(76887)({target:"WeakMap",proto:!0,real:!0,forced:n(82529)},{upsert:n(20716)})},7634:function(e,t,n){n(66274);var a=n(63281),i=n(21899),r=n(9697),o=n(32029),l=n(12077),u=n(99813)("toStringTag");for(var s in a){var c=i[s],d=c&&c.prototype;d&&r(d)!==u&&o(d,u,s),l[s]=l.Array}},71249:function(e,t,n){var a=n(76887),i=n(21899),r=n(2861),o=[].slice,l=function(e){return function(t,n){var a=arguments.length>2,i=a?o.call(arguments,2):void 0;return e(a?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};a({global:!0,bind:!0,forced:/MSIE .\./.test(r)},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},27698:function(e,t,n){var a=n(54493);e.exports=a},83363:function(e,t,n){var a=n(24034);e.exports=a},49216:function(e,t,n){var a=n(99324);e.exports=a},56668:function(e,t,n){var a=n(95909);e.exports=a},74719:function(e,t,n){var a=n(14423);e.exports=a},28196:function(e,t,n){var a=n(16246);e.exports=a},8065:function(e,t,n){var a=n(56043);e.exports=a},11955:function(e,t,n){var a=n(2480);e.exports=a},96064:function(e,t,n){var a=n(7147);e.exports=a},61577:function(e,t,n){var a=n(32236);e.exports=a},46279:function(e,t,n){n(7634);var a=n(49216),i=n(9697),r=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===r||e instanceof Array&&t===r.forEach||o.hasOwnProperty(i(e))?a:t}},33778:function(e,t,n){var a=n(58557);e.exports=a},19373:function(e,t,n){var a=n(34570);e.exports=a},73819:function(e,t,n){n(7634);var a=n(56668),i=n(9697),r=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===r||e instanceof Array&&t===r.keys||o.hasOwnProperty(i(e))?a:t}},11022:function(e,t,n){var a=n(57564);e.exports=a},61798:function(e,t,n){var a=n(88287);e.exports=a},52527:function(e,t,n){var a=n(68025);e.exports=a},82073:function(e,t,n){var a=n(69601);e.exports=a},45286:function(e,t,n){var a=n(28299);e.exports=a},62856:function(e,t,n){var a=n(69355);e.exports=a},2348:function(e,t,n){var a=n(18339);e.exports=a},76361:function(e,t,n){var a=n(62774);e.exports=a},62908:function(e,t,n){n(7634);var a=n(74719),i=n(9697),r=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===r||e instanceof Array&&t===r.values||o.hasOwnProperty(i(e))?a:t}},8933:function(e,t,n){var a=n(84426);e.exports=a},63383:function(e,t,n){var a=n(45999);e.exports=a},14471:function(e,t,n){var a=n(35254);e.exports=a},57396:function(e,t,n){var a=n(7702);e.exports=a},41910:function(e,t,n){var a=n(48171);e.exports=a},79427:function(e,t,n){var a=n(286);e.exports=a},62857:function(e,t,n){var a=n(92766);e.exports=a},9534:function(e,t,n){var a=n(30498);e.exports=a},23059:function(e,t,n){var a=n(48494);e.exports=a},47795:function(e,t,n){var a=n(98430);e.exports=a},66877:function(e,t,n){var a=n(7579);e.exports=a},74888:function(e,t,n){var a=n(98524);e.exports=a},61895:function(e,t,n){var a=n(14983);e.exports=a},43474:function(e,t,n){n(71249);var a=n(54058);e.exports=a.setInterval},27989:function(e,t,n){n(71249);var a=n(54058);e.exports=a.setTimeout},5519:function(e,t,n){var a=n(76998);e.exports=a},21194:function(e,t,n){var a=n(46614);e.exports=a},92547:function(e,t,n){var a=n(57473);e.exports=a},35774:function(e,t,n){var a=n(62978);e.exports=a},53879:function(e,t,n){var a=n(87236),i=n(6189),r={float:"cssFloat"},o=n(93379);function l(e,t,n){var l=r[t];if(void 0===l&&(l=function(e){var t=i(e),n=a(t);return r[t]=r[e]=r[n]=n,n}(t)),l){if(void 0===n)return e.style[l];e.style[l]=o(l,n)}}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&l(e,n,t[n])}function s(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:u(arguments[0],arguments[1]):l(arguments[0],arguments[1],arguments[2])}e.exports=s,e.exports.set=s,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=l(e,n||""),t}),{}):l(e,t||"")}},89766:function(e,t,n){var a={EventEmitter:n(47333),EmitterSubscription:n(86584)};e.exports=a},47333:function(e,t,n){"use strict";var a=n(86584),i=n(68231),r=n(60139),o=n(73759),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriber=new i,this._currentSubscription=null}return e.prototype.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new a(this._subscriber,t,n))},e.prototype.once=function(e,t,n){var a=this;return this.addListener(e,(function(){a.removeCurrentListener(),t.apply(n,arguments)}))},e.prototype.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},e.prototype.removeCurrentListener=function(){this._currentSubscription||o(!1),this._subscriber.removeSubscription(this._currentSubscription)},e.prototype.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(r.thatReturnsTrue).map((function(e){return e.listener})):[]},e.prototype.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],r=t[i];r&&(this._currentSubscription=r,this.__emitToSubscription.apply(this,[r].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},e.prototype.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=l},86584:function(e,t,n){"use strict";var a=function(e){function t(n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.listener=a,this.context=i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n(27024));e.exports=a},27024:function(e){"use strict";var t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriber=t}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},68231:function(e,t,n){"use strict";var a=n(73759),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptionsForType={},this._currentSubscription=null}return e.prototype.addSubscription=function(e,t){t.subscriber!==this&&a(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},e.prototype.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},e.prototype.removeSubscription=function(e){var t=e.eventType,n=e.key,a=this._subscriptionsForType[t];a&&delete a[n]},e.prototype.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},60139:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},73759:function(e){"use strict";e.exports=function(e,t,n,a,i,r,o,l){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,a,i,r,o,l],c=0;(u=new Error(t.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},8679:function(e,t,n){"use strict";var a=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return a.isMemo(e)?o:l[e.$$typeof]||i}l[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[a.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,a){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,a)}var o=c(n);d&&(o=o.concat(d(n)));for(var l=u(t),g=u(n),m=0;m<o.length;++m){var v=o[m];if(!(r[v]||a&&a[v]||g&&g[v]||l&&l[v])){var _=f(n,v);try{s(t,v,_)}catch(e){}}}}return t}},84470:function(e,t,n){"use strict";n.r(t),t.default={main:"main_8953",__mobile:"__mobile_d785",text:"text_e9ec"}},31386:function(e,t,n){"use strict";n.r(t),t.default={avatar:"avatar_dde3",_chatStyle:"_chatStyle_1a06",avatarItem:"avatarItem_3043",avatarListImg:"avatarListImg_84dc",avatarImg:"avatarImg_ec39",lightAvatar:"lightAvatar_f32a",darkAvatar:"darkAvatar_6db9",_width1:"_width1_ae6b",_width2:"_width2_7ee0",_width3:"_width3_5a0f",_connected:"_connected_ebc2",_expanded:"_expanded_5c76",_mobile:"_mobile_4e05",_tablet:"_tablet_b734",avatarList:"avatarList_2701",dotsItem:"dotsItem_7a44",_light:"_light_924a",_dark:"_dark_b53e",botIcon:"botIcon_b56c",__header:"__header_f9e3",img:"img_670f"}},99249:function(e,t,n){"use strict";n.r(t),t.default={main:"main_30a2",text:"text_234e",callBox:"callBox_0fe2",waitBox:"waitBox_8157",waitText:"waitText_76b0",timerBox:"timerBox_65eb",count:"count_16ab",connectBox:"connectBox_2bfc",connectIcon:"connectIcon_87a6",pin:"pin_f1ed"}},76969:function(e,t,n){"use strict";n.r(t),t.default={pinBox:"pinBox_24b9",pinBoxBig:"pinBoxBig_1874",pin2:"pin2_a61e",pin3:"pin3_b690",pin1:"pin1_adca",ochange:"ochange_f4dc"}},60410:function(e,t,n){"use strict";n.r(t),t.default={header:"header_6e24",body:"body_0dbc",bodyInfo:"bodyInfo_492f",bodyInfoChat:"bodyInfoChat_1313",bodyInfoChatText:"bodyInfoChatText_b690",bodyInfoText:"bodyInfoText_8a46",periodSelectWrap:"periodSelectWrap_6b94",inputPhone:"inputPhone_da39",successHeaderIcon:"successHeaderIcon_62e7",tryAgainText:"tryAgainText_0663",tryAgainLink:"tryAgainLink_cbd1"}},78066:function(e,t,n){"use strict";n.r(t),t.default={body:"body_f394",message:"message_de85",classNameInputPhone:"classNameInputPhone_e7ed"}},75676:function(e,t,n){"use strict";n.r(t),t.default={container:"container_bc32",inputWrap:"inputWrap_82f6",countryMobileWrap:"countryMobileWrap_2090",iconSelect:"iconSelect_72bc",__alone:"__alone_1ee2",flagIcon:"flagIcon_5b68",flagWrap:"flagWrap_c37d",list:"list_3ba9",flagArrow:"flagArrow_f61e",phoneCodeWrap:"phoneCodeWrap_212d",phoneInput:"phoneInput_08e4",countryWrap:"countryWrap_6476",countrySelect:"countrySelect_1424",countryTabletSelect:"countryTabletSelect_eba9",rail:"rail_0469",_isScroll:"_isScroll_54dc",listItem:"listItem_c092",countryName:"countryName_8230",countryCode:"countryCode_0ae3",__singleMod:"__singleMod_d721",__error:"__error_791f",__focused:"__focused_7577",_grey:"_grey_e5a8",_blue:"_blue_2957",__mobile:"__mobile_e1b7",__inFormMod:"__inFormMod_f85d",__smallTextSize:"__smallTextSize_3fd5"}},7121:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_4a31",popup:"popup_59d8",_show:"_show_c4d0",button:"button_3a74",iconWrap:"iconWrap_1b9d",animationBtn:"animationBtn_3297",logoCallback:"logoCallback_2002"}},46724:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_eb7e",popup:"popup_e0a8",hand:"hand_a3bc",closeIcon:"closeIcon_84fd",contentWrap:"contentWrap_f6be",title:"title_3597",subtitle:"subtitle_9d4e",delayedWrap:"delayedWrap_2c55",periodsWrap:"periodsWrap_035d",periodSelectWrap:"periodSelectWrap_445b",input:"input_fd54",time:"time_4427",eula:"eula_30ed",eulaText:"eulaText_3d2a"}},97457:function(e,t,n){"use strict";n.r(t),t.default={main:"main_32c5",__static:"__static_93ee",header:"header_7cb6",body:"body_4b17",noShadow:"noShadow_4c97",mobile:"mobile_403a",input:"input_6bbd",popup:"popup_63dd",show:"show_3ace",popupFull:"popupFull_e3b5",hide:"hide_dc16",headerBox:"headerBox_8c01",fadeIn:"fadeIn_650a",fadeOut:"fadeOut_f768",loading:"loading_07bf"}},13344:function(e,t,n){"use strict";n.r(t),t.default={checkbox:"checkbox_7826",_checked:"_checked_42c3",_error:"_error_413c"}},54291:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_682b",__call:"__call_61cb",__show:"__show_767b",closeButton:"closeButton_86ec",closeIcon:"closeIcon_f72a"}},2090:function(e,t,n){"use strict";n.r(t),t.default={button:"button_28e4",_disabled:"_disabled_79e7",_medium:"_medium_612c",text:"text_cc5b",_blue:"_blue_08a2",_grey:"_grey_5cf8",__ios:"__ios_2f64",inputButton:"inputButton_fb45",__mobileChat:"__mobileChat_2983",buttonIcon:"buttonIcon_843a",_green:"_green_2681",_error:"_error_b024"}},97865:function(e,t,n){"use strict";n.r(t),t.default={closeButton:"closeButton_03c0",closeIcon:"closeIcon_20ff",action:"action_28df",drag:"drag_5cd0",__call:"__call_7f69",popupClose:"popupClose_7900"}},22259:function(e,t,n){"use strict";n.r(t),t.default={fieldWrap:"fieldWrap_b9f7",hint:"hint_886d",inputField:"inputField_066d",__bluredEmpty:"__bluredEmpty_54c6",_grey:"_grey_94c7",_blue:"_blue_9175",_error:"_error_fd6a",__textarea:"__textarea_5b56",_disabled:"_disabled_7e70",__inputChat:"__inputChat_6624",__ios:"__ios_aff8",__emailChat:"__emailChat_4749",__mobile:"__mobile_69ef",__valid:"__valid_cd10",currentItem:"currentItem_f8f8",_open:"_open_ffb2",selectPopup:"selectPopup_6f0b",itemSelected:"itemSelected_f803",item:"item_f456",__scroll:"__scroll_da29",iconSelect:"iconSelect_29f6",rail:"rail_d7ef",iconValid:"iconValid_f1d1"}},31636:function(e,t,n){"use strict";n.r(t),t.default={scrollForm:"scrollForm_3557",__ad:"__ad_2944",__hide:"__hide_ae96",__mobile:"__mobile_164d",textToForm:"textToForm_25f1"}},71155:function(e,t,n){"use strict";n.r(t),t.default={copyright:"copyright_b220",_bottom:"_bottom_f8f3",__ru:"__ru_cd9c",_right:"_right_b4eb",_left:"_left_d149",hide:"hide_f5f5",logoIcon:"logoIcon_9796",link:"link_7c28",__mobile:"__mobile_4c6e",text:"text_f9c6",corner:"corner_bb63",chatCopyright:"chatCopyright_2c18",__tablet:"__tablet_dce0",__call:"__call_bd13",__chat:"__chat_0fd2",__offline:"__offline_22a1",__top:"__top_e94d",__hidden:"__hidden_00b7",customWrap:"customWrap_b1bd"}},11897:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b7bf",__logo:"__logo_730a",__mobile:"__mobile_2dd3",department:"department_8904",circle:"circle_2664",_green:"_green_3cc9",_grey:"_grey_b079",_blue:"_blue_e00c",text:"text_0400"}},50712:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_a900",__short:"__short_43a2",__abTop:"__abTop_4e85",__active:"__active_84b3"}},16083:function(e,t,n){"use strict";n.r(t),t.default={emojiIcon:"emojiIcon_fa41",emojiMessages:"emojiMessages_3a16",__alone:"__alone_fb35",iconSuccess:"iconSuccess_4bcf",emojiIconWrap:"emojiIconWrap_a901",icon:"icon_5204",botAvatar:"botAvatar_36aa"}},43013:function(e,t,n){"use strict";n.r(t),t.default={eulaPopup:"eulaPopup_038c",_mobile:"_mobile_81d5",__static:"__static_5f50",__call:"__call_6b48",_tablet:"_tablet_5888",text:"text_3019",title:"title_93ff",formText:"formText_7219",popupContent:"popupContent_63f2",popupCheckbox:"popupCheckbox_05dc","show-popup":"show-popup_127c",__offlineForm:"__offlineForm_d660",checkbox:"checkbox_4afc",_checked:"_checked_b661",_grey:"_grey_981b",_blue:"_blue_a80e",cancel:"cancel_cf41",scrollText:"scrollText_5ca0",__hidden:"__hidden_bf89",textBlock:"textBlock_29bb",rail:"rail_80eb"}},70692:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_d7ba",__disabled:"__disabled_12da",iconFile:"iconFile_aa7b",iconAttach2:"iconAttach2_21bd",uploadFwrap:"uploadFwrap_6dd5",uploadButton:"uploadButton_1dcc",__uploading:"__uploading_32e0"}},22755:function(e,t,n){"use strict";n.r(t),t.default={main:"main_5cd6"}},8126:function(e,t,n){"use strict";n.r(t),t.default={headerBox:"headerBox_08df",__mobile:"__mobile_9f0c",hideCorners:"hideCorners_75ea",header:"header_6248",_fadeOut:"_fadeOut_bba7",info:"info_a98e",_expanded:"_expanded_ce1a",_light:"_light_9355",title:"title_870b",agentName:"agentName_8cb4",_dark:"_dark_1456",_offline:"_offline_861d",callMe:"callMe_1b05",_mobile:"_mobile_fb6f",__ios:"__ios_7548",headerContainer:"headerContainer_b07e",__chatpage:"__chatpage_a2fd",_tablet:"_tablet_dc98",closeBox:"closeBox_e5e7",__call:"__call_8e61",__top100:"__top100_8e57",callIcon:"callIcon_17cc",showContent:"showContent_fc64","_fade-in":"_fade-in_5fd6","_fade-out":"_fade-out_52da",__agents:"__agents_e5e3",mobileBack:"mobileBack_1abe",pattern:"pattern_c588",visibilityHack:"visibilityHack_c319",menuWrap:"menuWrap_6194",menuButtonWrap:"menuButtonWrap_8265",menuIcon:"menuIcon_17d4",corner:"corner_74c7",topIcon:"topIcon_d917"}},53401:function(e,t,n){"use strict";n.r(t),t.default={input:"input_2415",__mobile:"__mobile_38dd",tdTextarea:"tdTextarea_5dbe",inputField:"inputField_cd86",sendButton:"sendButton_7b07",__filedisabled:"__filedisabled_2f7a",windowsPhone:"windowsPhone_2206","input-field":"input-field_dfc1",socialPanel:"socialPanel_998d",iconEmoji:"iconEmoji_98be"}},78162:function(e,t,n){"use strict";n.r(t),t.default={iconEmoji:"iconEmoji_4adc",__disabled:"__disabled_d5bb",emojiWrap:"emojiWrap_7aee"}},76645:function(e,t,n){"use strict";n.r(t),t.default={iconPanel:"iconPanel_97ee",__mobile:"__mobile_aa43"}},53597:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup_0e4d",hidePopup:"hidePopup_f80b",show:"show_de60",showPopup:"showPopup_add6",childrenWrap:"childrenWrap_94ee",pip:"pip_705d"}},48305:function(e,t,n){"use strict";n.r(t),t.default={iconMenu:"iconMenu_cbaa",__disabled:"__disabled_a6e0",menuWrap:"menuWrap_0e08",menu:"menu_7929",hidePopup:"hidePopup_9bf4",menuItem:"menuItem_2947",pip:"pip_12fd",show:"show_0207",showPopup:"showPopup_e18d"}},30890:function(e,t,n){"use strict";n.r(t),t.default={main:"main_561d",avatarBox:"avatarBox_b971",iconAnonymous:"iconAnonymous_bf24",caption:"caption_9cbb",introducePopup:"introducePopup_152d",introduceText:"introduceText_4253",popupContent:"popupContent_fcfa",__mobile:"__mobile_51be"}},71731:function(e,t,n){"use strict";n.r(t),t.default={label:"label_6556",leafCont:"leafCont_ca35",_bottom:"_bottom_9117",_designer:"_designer_5967",_right:"_right_f2e2",_left:"_left_157a",lbContainer:"lbContainer_1bec",copyContainer:"copyContainer_fcb2",text:"text_2be2",_noAd:"_noAd_9d0c",_offline:"_offline_3f5f",hoverl:"hoverl_7f9a",_custom:"_custom_3836",copy:"copy_9aad",leafBottom:"leafBottom_508c",labelStatus:"labelStatus_f05c",pattern:"pattern_f5e3",contentTransitionWrap:"contentTransitionWrap_4f5b",fadeIn:"fadeIn_6588"}},73525:function(e,t,n){"use strict";n.r(t),t.default={labelButton:"labelButton_0f91",text:"text_be8a",title:"title_9b6f",vk:"vk_ad2d",fb:"fb_8001",info:"info_0179",callback:"callback_2d54",chat:"chat_4660",im:"im_e41d",wa:"wa_7784"}},52156:function(e,t,n){"use strict";n.r(t),t.default={labelButtons:"labelButtons_9527",_bottom:"_bottom_daaa",_right:"_right_2dfd",_left:"_left_2cb5",callme:"callme_10c4",chat:"chat_4cd1",bottomCorner:"bottomCorner_86cc",rightCorner:"rightCorner_bc20",leftCorner:"leftCorner_3e7f",buttonsCorner:"buttonsCorner_498d"}},34197:function(e,t,n){"use strict";n.r(t),t.default={popupWrap:"popupWrap_e142",__show:"__show_e5c3",popupBlock:"popupBlock_4ae6",__short:"__short_be07",__longText:"__longText_e4c6",text:"text_7bfe",textBox:"textBox_f575",avatar:"avatar_f552",avatarImg:"avatarImg_e3a9",agentName:"agentName_c022",closeBlock:"closeBlock_1041",closePopupIcon:"closePopupIcon_28d3"}},5711:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_43bf",_extraPadding:"_extraPadding_16b5",_aboveAll:"_aboveAll_308a",image:"image_ce1e"}},68691:function(e,t,n){"use strict";n.r(t),t.default={leaf:"leaf_8e7a",_bottom:"_bottom_6f32",_right:"_right_8030",_left:"_left_28cb",cssLeaf:"cssLeaf_4d91",_offline:"_offline_b643"}},60284:function(e,t,n){"use strict";n.r(t),t.default={logo:"logo_e055",fallback:"fallback_67b4","_no-copyright":"_no-copyright_3dba",_bottom:"_bottom_b416",hoverBox:"hoverBox_e00b",_right:"_right_8157",_left:"_left_f31f",logoIcon:"logoIcon_8c5e",__ru:"__ru_cddc"}},71168:function(e,t,n){"use strict";n.r(t),t.default={imageLink:"imageLink_a4b9",image:"image_273f",mediaType:"mediaType_159e",list:"list_92fe"}},8717:function(e,t,n){"use strict";n.r(t),t.default={main:"main_3518",_mobile:"_mobile_2fb8",_transparent:"_transparent_bece",content:"content_432c",_noagent:"_noagent_6ebd",avatarBox:"avatarBox_7b25",__isAnimated:"__isAnimated_e43d",time:"time_bfc8",_agentName:"_agentName_9cd3",agentName:"agentName_486f",botBadge:"botBadge_32c3"}},74336:function(e,t,n){"use strict";n.r(t),t.default={main:"main_02c8",_mobile:"_mobile_9229",content:"content_a459",__green:"__green_f81c",message:"message_147b",__grey:"__grey_860b",__blue:"__blue_e8c5",time:"time_179e"}},96153:function(e,t,n){"use strict";n.r(t),t.default={main:"main_f25b",container:"container_fa33",__ad:"__ad_0c8f",__mobile:"__mobile_6317",wrap:"wrap_7079",__tablet:"__tablet_970b",scroll:"scroll_eb15",rail:"rail_7fc9",avatarShadow:"avatarShadow_f3b6",__show:"__show_4abc"}},45026:function(e,t,n){"use strict";n.r(t),t.default={main:"main_5e48",__mobile:"__mobile_92bb",text:"text_c406",error:"error_d0ed",showBtn:"showBtn_edcf",__disabled:"__disabled_e245",__green:"__green_5d18",__blue:"__blue_a939",__grey:"__grey_84bd",time:"time_153f"}},42085:function(e,t,n){"use strict";n.r(t),t.default={box:"box_4050",__mobile:"__mobile_a1e9",__ios:"__ios_e374",fieldWrap:"fieldWrap_8ef4",emailBlock:"emailBlock_aaf7",emailButton:"emailButton_e8d8",emailText:"emailText_155b",emailOk:"emailOk_67a6",emailError:"emailError_9d6e",_error:"_error_6e28",form:"form_94f1",emailFinished:"emailFinished_9589",__finished:"__finished_eb28",email:"email_eeb2",errorText:"errorText_32bf"}},68853:function(e,t,n){"use strict";n.r(t),t.default={box:"box_09eb",__tablet:"__tablet_d015",__noanim:"__noanim_0052",successMessage:"successMessage_e87f",introduceText:"introduceText_6eb9",socialText:"socialText_9632",content:"content_f0c3",mainWrap:"mainWrap_20db",main:"main_c2c3",overlay:"overlay_0967",__show:"__show_230f",__focus:"__focus_9530",__submited:"__submited_5109",__green:"__green_a527",__blue:"__blue_40a7",__grey:"__grey_884e",link:"link_0866",boxFb:"boxFb_912a",step:"step_589c",inputWrap:"inputWrap_c9fa",iconFb:"iconFb_7231",iconVk:"iconVk_cc7a",animateBlock:"animateBlock_a77f",buttonWrapper:"buttonWrapper_36f5",__fadeOut:"__fadeOut_bad3",submitSuccess:"submitSuccess_1b69",fadeOut:"fadeOut_34f5"}},71297:function(e,t,n){"use strict";n.r(t),t.default={main:"main_fcf7",message:"message_83d1",successIcon:"successIcon_f8df",rubleIcon:"rubleIcon_02d0",text:"text_f0af",info:"info_3262",emailLabel:"emailLabel_ea63",emailInput:"emailInput_3df4",_error:"_error_a634",productName:"productName_9f23",amountWrap:"amountWrap_fd6f",amount:"amount_cf26",actionBtn:"actionBtn_9803",__error:"__error_8933",_tinkoff:"_tinkoff_4634",actionText:"actionText_8311",byYandex:"byYandex_134b",successText:"successText_1f13",__success:"__success_f0ed",__emailError:"__emailError_385b"}},96116:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_63b1",text:"text_fb7d",buttonsWrap:"buttonsWrap_b292",button:"button_a24d",_disabled:"_disabled_a4c5"}},448:function(e,t,n){"use strict";n.r(t),t.default={main:"main_c8c6",time:"time_8078",_preview:"_preview_079e",_client:"_client_e8e4",_green:"_green_d61e",_grey:"_grey_0c92",_blue:"_blue_7a42",previewLink:"previewLink_1084",mediaIcon:"mediaIcon_54fe",uploading:"uploading_0b5c",iconMedia:"iconMedia_c438",mediaComplete:"mediaComplete_7a10",_agent:"_agent_4351",_mobile:"_mobile_f9f4",mediaText:"mediaText_357a",mediaFname:"mediaFname_0701",mediaPerc:"mediaPerc_db6f",iconError:"iconError_7428",iconUpload:"iconUpload_a320",iconLoading:"iconLoading_044a",loaderCont:"loaderCont_2dec",loaderBar:"loaderBar_d656",previewMediaPhoto:"previewMediaPhoto_ce38",mediaWrapper:"mediaWrapper_ed3a",clientMediaWrapper:"clientMediaWrapper_769c",overlayText:"overlayText_f47a",playIcon:"playIcon_0240"}},95705:function(e,t,n){"use strict";n.r(t),t.default={main:"main_07e4",message:"message_e176",showmessage:"showmessage_6a28",__mobile:"__mobile_fccb",__alone:"__alone_e302",text:"text_726a",__client:"__client_19d6",withEditText:"withEditText_42d4",_green:"_green_aa16",_grey:"_grey_344a",_blue:"_blue_1c96",__agent:"__agent_9363",__deleted:"__deleted_08ca",editedText:"editedText_338b",sendErrorMessage:"sendErrorMessage_aa61",resend:"resend_76b5",time:"time_b5b3"}},70602:function(e,t,n){"use strict";n.r(t),t.default={main:"main_9f04",__hide:"__hide_3f9f",button:"button_f680",__bot:"__bot_7b6b"}},96586:function(e,t,n){"use strict";n.r(t),t.default={main:"main_0457"}},61604:function(e,t,n){"use strict";n.r(t),t.default={main:"main_96f0",avatar:"avatar_1eda",img:"img_1742",text:"text_d74c",_mobile:"_mobile_b995"}},68930:function(e,t,n){"use strict";n.r(t),t.default={main:"main_18af",text:"text_3d06",__mobile:"__mobile_e677",__callMessageStart:"__callMessageStart_9e1d",__callEnd:"__callEnd_4441",callIcon:"callIcon_ab66"}},51407:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b289",__mobile:"__mobile_a87c",text:"text_230e",__bot:"__bot_2456",__social:"__social_f430"}},48938:function(e,t,n){"use strict";n.r(t),t.default={mobileContainer:"mobileContainer_03d3",__tablet:"__tablet_e233"}},68927:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup_0d65",__show:"__show_c279",__left:"__left_2357",imOverlay:"imOverlay_8e44",popupAnim:"popupAnim_5115",popupBlock:"popupBlock_9008",__short:"__short_b189",__longText:"__longText_c7de",moreIcon:"moreIcon_9c29",text:"text_910b",textBox:"textBox_6cee",avatar:"avatar_c957",avatarImg:"avatarImg_c062",agentName:"agentName_8788",closeBlock:"closeBlock_2526",closePopupIcon:"closePopupIcon_e314"}},98513:function(e,t,n){"use strict";n.r(t),t.default={moreBox:"moreBox_46b8",__show:"__show_fab7",__mobile:"__mobile_804d",moreBtn:"moreBtn_56ff",moreBadge:"moreBadge_01cf"}},29947:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_7343",android:"android_9828",menuWrap:"menuWrap_12c9",menu:"menu_1662",menuTitle:"menuTitle_8601",closeBtn:"closeBtn_e398",closeIcon:"closeIcon_1cab",closeText:"closeText_c277",ios:"ios_858d",tablet:"tablet_06a4"}},42173:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_3654",android:"android_b70e",icon:"icon_3a5f",title:"title_2ce9",ios:"ios_b81d",forceIcon:"forceIcon_c1e7",tablet:"tablet_dc48",link:"link_54d0"}},57415:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_970d",android:"android_22ca",icon:"icon_499c",text:"text_d604",ios:"ios_4ed4"}},26778:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_7368",copyright:"copyright_5a03",logoIcon:"logoIcon_5527",__ru:"__ru_9f55"}},42607:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_0232",_hidden:"_hidden_b54f",overlay:"overlay_b6da",button:"button_4aae",__inzoom:"__inzoom_d358",closeIconWrap:"closeIconWrap_ca5a",messagesLabel:"messagesLabel_893a",badge:"badge_64b7",closeIcon:"closeIcon_065d",_show:"_show_44b8",_orientationRight:"_orientationRight_33e6",_orientationLeft:"_orientationLeft_5dd3",menuWrap:"menuWrap_5fe1",buttonsCorner:"buttonsCorner_22f1"}},40947:function(e,t,n){"use strict";n.r(t),t.default={icons:"icons_4974",iconWrap:"iconWrap_6892",_showLogo:"_showLogo_c27d",wrapAnimation:"wrapAnimation_0e88",_isCallEnabled:"_isCallEnabled_6b17",firstWrapCallAnimation:"firstWrapCallAnimation_1d5a",iconWrapClose:"iconWrapClose_c672",iconWrap2:"iconWrap2_72be",wrapCallNoLogoAnimation:"wrapCallNoLogoAnimation_cdad",secondWrapCallAnimation:"secondWrapCallAnimation_431f",iconWrap3:"iconWrap3_37fa",thirdWrapCallAnimation:"thirdWrapCallAnimation_1f15",jivoIcon:"jivoIcon_5cea",closeIcon:"closeIcon_9199",logoIconCloud:"logoIconCloud_9afe",envelopeIcon:"envelopeIcon_9b80",callbackIcon:"callbackIcon_805c",iconCallAnimation:"iconCallAnimation_2fa5",topIcon:"topIcon_4097"}},60278:function(e,t,n){"use strict";n.r(t),t.default={main:"main_c40f",__hide:"__hide_334e",buttonsBox:"buttonsBox_c75f",button:"button_e5e1",iconUp:"iconUp_5387",iconDown:"iconDown_e0e1",text:"text_ed87",positiveBox:"positiveBox_3c06",cancelBox:"cancelBox_64e6",cancel:"cancel_ab4b",close:"close_e44c",closeIcon:"closeIcon_f642"}},94350:function(e,t,n){"use strict";n.r(t),t.default={socialPanel:"socialPanel_6c78",wrap:"wrap_bc52",socialLink:"socialLink_1213",infoText:"infoText_7ca1",iconVk:"iconVk_ad7d",iconFb:"iconFb_aa49",box:"box_b0c2",iframe:"iframe_d287",__vk:"__vk_c67e"}},4897:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_f0b0",text:"text_6db1",iconHeader:"iconHeader_a85c",__vk:"__vk_17ae",__fb:"__fb_39ae",linkBox:"linkBox_aff8",link:"link_d7cf"}},24794:function(e,t,n){"use strict";n.r(t),t.default={player:"player_702f"}},15852:function(e,t,n){"use strict";n.r(t),t.default={vkIcon:"vkIcon_cc18",fbIcon:"fbIcon_c03f",telegramIcon:"telegramIcon_1884",viberIcon:"viberIcon_b4bd","message-textIcon":"message-textIcon_a020","phone-outgoingIcon":"phone-outgoingIcon_4058",phoneIcon:"phoneIcon_185f",stand:"stand_080c",standBig:"standBig_856a"}},43107:function(e,t,n){"use strict";n.r(t),t.default={button:"button_2861",disabled:"disabled_010f",widthFixed:"widthFixed_085d",widthFluid:"widthFluid_81fb",heightSmall:"heightSmall_4d78",heightMiddle:"heightMiddle_607f",__green:"__green_fd78",__blue:"__blue_ec75",__grey:"__grey_d2ab",nativeButton:"nativeButton_8ebc"}},77843:function(e,t,n){"use strict";n.r(t),t.default={selectWrap:"selectWrap_0c72",disabled:"disabled_10e7",styledSelectWrap:"styledSelectWrap_61da",nativeSelectWrap:"nativeSelectWrap_c419",invalid:"invalid_59b5",__green:"__green_0e6f",label:"label_9e71",__blue:"__blue_d56d",__grey:"__grey_8ede",__dark:"__dark_6b5e",item:"item_5369",items:"items_2cdb",heightSmall:"heightSmall_6ab2",heightMiddle:"heightMiddle_a4bb",themeFlat:"themeFlat_d1d7",themeInset:"themeInset_db65",labelArrow:"labelArrow_7347",iconSelect:"iconSelect_9a4e",selectIsOpen:"selectIsOpen_973b",nativeSelect:"nativeSelect_ce6a",scroll:"scroll_366c",rail:"rail_5ec6"}},87530:function(e,t,n){"use strict";n.r(t),t.default={topBox:"topBox_2904",__chat:"__chat_94ce",topPopup:"topPopup_2e00",topIcon:"topIcon_9e72",__call:"__call_0b4e"}},83821:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_7f2e",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_81c3",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_1fcb",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_1b5c",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_13e0",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_47ef",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_e9fa",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_7b02",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_1f19"}},71461:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_1fe9",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_07fc",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_081c",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_2da7",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_bae1",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_766f",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_6b28",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_7765",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_4a96"}},6274:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_b568",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_b35b",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_9055",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_a7df",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_4892"}},92964:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_d7a0",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_fada",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_6c59",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_0543",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_a1b6",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_34c1"}},8511:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_8363",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_f506",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_2633",Label_MIN_WIDGET:"Label_MIN_WIDGET_9f16",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_54a6",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_f62c",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_ed5f",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_de74",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_ade2",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_bd54"}},60855:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_d366",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_9ad5",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_2006",Label_MIN_WIDGET:"Label_MIN_WIDGET_1d11",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_fa6d",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_47bf",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_d1d7",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_1ffb",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_5cf8",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_0e4c"}},44334:function(e,t,n){"use strict";n.r(t),t.default={contentWrapper:"contentWrapper_e7d0",loadingWrap:"loadingWrap_3c17"}},89953:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_7a20",substrate:"substrate_782d",iconContainer:"iconContainer_befa",iconWrap:"iconWrap_226e",iconWrapContainer:"iconWrapContainer_a7f8",handIcon:"handIcon_83f0",arrow1:"arrow1_7a7e",arrow2:"arrow2_f93c",_tablet:"_tablet_ee3b",viewWrap:"viewWrap_4260",zoom:"zoom_689b",box:"box_ac3a"}},59592:function(e,t,n){"use strict";n.r(t),t.default={globalClass:"globalClass_044b",pseudoHeight:"pseudoHeight_bbab",jivoMouseTrack:"jivoMouseTrack_fb30"}},75:function(e){(function(){var t,n,a,i,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-r)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),o=1e9*process.uptime(),r=i-o):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)},59748:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return F},Component:function(){return o.Component},Fragment:function(){return o.Fragment},PureComponent:function(){return N},StrictMode:function(){return _e},Suspense:function(){return z},SuspenseList:function(){return q},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return ce},cloneElement:function(){return he},createContext:function(){return o.createContext},createElement:function(){return o.createElement},createFactory:function(){return fe},createPortal:function(){return J},createRef:function(){return o.createRef},default:function(){return ye},findDOMNode:function(){return me},forwardRef:function(){return B},hydrate:function(){return te},isValidElement:function(){return pe},lazy:function(){return V},memo:function(){return D},render:function(){return ee},unmountComponentAtNode:function(){return ge},unstable_batchedUpdates:function(){return ve},useCallback:function(){return E},useContext:function(){return C},useDebugValue:function(){return T},useEffect:function(){return m},useErrorBoundary:function(){return w},useImperativeHandle:function(){return y},useLayoutEffect:function(){return v},useMemo:function(){return b},useReducer:function(){return g},useRef:function(){return _},useState:function(){return h},version:function(){return de}});var a,i,r,o=n(6400),l=0,u=[],s=o.options.__r,c=o.options.diffed,d=o.options.__c,f=o.options.unmount;function p(e,t){o.options.__h&&o.options.__h(i,e,l||t),l=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function h(e){return l=1,g(x,e)}function g(e,t,n){var r=p(a++,2);return r.t=e,r.__c||(r.__=[n?n(t):x(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=i),r.__}function m(e,t){var n=p(a++,3);!o.options.__s&&M(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))}function v(e,t){var n=p(a++,4);!o.options.__s&&M(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function _(e){return l=5,b((function(){return{current:e}}),[])}function y(e,t,n){l=6,v((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function b(e,t){var n=p(a++,7);return M(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function E(e,t){return l=8,b((function(){return e}),t)}function C(e){var t=i.context[e.__c],n=p(a++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function T(e,t){o.options.useDebugValue&&o.options.useDebugValue(t?t(e):e)}function w(e){var t=p(a++,10),n=h();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function S(){u.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(I),e.__H.__h.forEach(A),e.__H.__h=[]}catch(t){e.__H.__h=[],o.options.__e(t,e.__v)}})),u=[]}o.options.__r=function(e){s&&s(e),a=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(I),t.__h.forEach(A),t.__h=[])},o.options.diffed=function(e){c&&c(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&r===o.options.requestAnimationFrame||((r=o.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(a),k&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(n,100);k&&(t=requestAnimationFrame(n))})(S))},o.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(I),e.__h=e.__h.filter((function(e){return!e.__||A(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.options.__e(n,e.__v)}})),d&&d(e,t)},o.options.unmount=function(e){f&&f(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(I)}catch(e){o.options.__e(e,t.__v)}};var k="function"==typeof requestAnimationFrame;function I(e){"function"==typeof e.__c&&e.__c()}function A(e){e.__c=e.__()}function M(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function x(e,t){return"function"==typeof t?t(e):t}function R(e,t){for(var n in t)e[n]=t[n];return e}function O(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function N(e){this.props=e}function D(e,t){function n(e){var n=this.props.ref,a=n==e.ref;return!a&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!a:O(this.props,e)}function a(t){return this.shouldComponentUpdate=n,(0,o.createElement)(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(N.prototype=new o.Component).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(e,t){return O(this.props,e)||O(this.state,t)};var L=o.options.__b;o.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),L&&L(e)};var P="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function B(e){function t(t,n){var a=R({},t);return delete a.ref,e(a,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=P,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var j=function(e,t){return null==e?null:(0,o.toChildArray)((0,o.toChildArray)(e).map(t))},F={map:j,forEach:j,count:function(e){return e?(0,o.toChildArray)(e).length:0},only:function(e){var t=(0,o.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:o.toChildArray},H=o.options.__e;function U(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=R({},e)).__c=null,e.__k=e.__k&&e.__k.map(U)),e}function W(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(W)),e}function z(){this.__u=0,this.t=null,this.__b=null}function G(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function V(e){var t,n,a;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){a=e})),a)throw a;if(!n)throw t;return(0,o.createElement)(n,i)}return i.displayName="Lazy",i.__f=!0,i}function q(){this.u=null,this.o=null}o.options.__e=function(e,t,n){if(e.then)for(var a,i=t;i=i.__;)if((a=i.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t.__c);H(e,t,n)},(z.prototype=new o.Component).__c=function(e,t){var n=this;null==n.t&&(n.t=[]),n.t.push(t);var a=G(n.__v),i=!1,r=function(){i||(i=!0,t.componentWillUnmount=t.__c,a?a(o):o())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){r(),t.__c&&t.__c()};var o=function(){var e;if(!--n.__u)for(n.__v.__k[0]=W(n.state.__e),n.setState({__e:n.__b=null});e=n.t.pop();)e.forceUpdate()},l=n.__v;l&&!0===l.__h||n.__u++||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(r,r)},z.prototype.componentWillUnmount=function(){this.t=[]},z.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=U(this.__b)),this.__b=null);var n=t.__e&&(0,o.createElement)(o.Fragment,null,e.fallback);return n&&(n.__h=null),[(0,o.createElement)(o.Fragment,null,t.__e?null:e.children),n]};var K=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Y(e){return this.getChildContext=function(){return e.context},e.children}function Z(e){var t=this,n=e.i,a=(0,o.createElement)(Y,{context:t.context},e.__v);t.componentWillUnmount=function(){var e=t.l.parentNode;e&&e.removeChild(t.l),(0,o.__u)(t.s)},t.i&&t.i!==n&&(t.componentWillUnmount(),t.h=!1),e.__v?t.h?(n.__k=t.__k,(0,o.render)(a,n),t.__k=n.__k):(t.l=document.createTextNode(""),t.__k=n.__k,(0,o.hydrate)("",n),n.appendChild(t.l),t.h=!0,t.i=n,(0,o.render)(a,n,t.l),n.__k=t.__k,t.__k=t.l.__k):t.h&&t.componentWillUnmount(),t.s=a}function J(e,t){return(0,o.createElement)(Z,{__v:e,i:t})}(q.prototype=new o.Component).__e=function(e){var t=this,n=G(t.__v),a=t.o.get(e);return a[0]++,function(i){var r=function(){t.props.revealOrder?(a.push(i),K(t,e,a)):i()};n?n(r):r()}},q.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},q.prototype.componentDidUpdate=q.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){K(e,n,t)}))};var X="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Q="undefined"!=typeof Symbol?/fil|che|rad/i:/fil|che|ra/i;function ee(e,t,n){return null==t.__k&&(t.textContent=""),(0,o.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function te(e,t,n){return(0,o.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(o.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ne=o.options.event;function ae(){}function ie(){return this.cancelBubble}function re(){return this.defaultPrevented}o.options.event=function(e){return ne&&(e=ne(e)),e.persist=ae,e.isPropagationStopped=ie,e.isDefaultPrevented=re,e.nativeEvent=e};var oe,le={configurable:!0,get:function(){return this.class}},ue=o.options.vnode;o.options.vnode=function(e){var t=e.type,n=e.props,a=n;if("string"==typeof t){for(var i in a={},n){var r=n[i];"defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===r?r="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Q.test(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():$.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===r&&(r=void 0),a[i]=r}"select"==t&&a.multiple&&Array.isArray(a.value)&&(a.value=(0,o.toChildArray)(n.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),e.props=a}t&&n.class!=n.className&&(le.enumerable="className"in n,null!=n.className&&(a.class=n.className),Object.defineProperty(a,"className",le)),e.$$typeof=X,ue&&ue(e)};var se=o.options.__r;o.options.__r=function(e){se&&se(e),oe=e.__c};var ce={ReactCurrentDispatcher:{current:{readContext:function(e){return oe.__n[e.__c].props.value}}}},de="16.8.0";function fe(e){return o.createElement.bind(null,e)}function pe(e){return!!e&&e.$$typeof===X}function he(e){return pe(e)?o.cloneElement.apply(null,arguments):e}function ge(e){return!!e.__k&&((0,o.render)(null,e),!0)}function me(e){return e&&(e.base||1===e.nodeType&&e)||null}var ve=function(e,t){return e(t)},_e=o.Fragment,ye={useState:h,useReducer:g,useEffect:m,useLayoutEffect:v,useRef:_,useImperativeHandle:y,useMemo:b,useCallback:E,useContext:C,useDebugValue:T,version:"16.8.0",Children:F,render:ee,hydrate:te,unmountComponentAtNode:ge,createPortal:J,createElement:o.createElement,createContext:o.createContext,createFactory:fe,cloneElement:he,createRef:o.createRef,Fragment:o.Fragment,isValidElement:pe,findDOMNode:me,Component:o.Component,PureComponent:N,memo:D,forwardRef:B,unstable_batchedUpdates:ve,StrictMode:o.Fragment,Suspense:z,SuspenseList:q,lazy:V,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ce}},67665:function(e,t,n){"use strict";n.r(t),n.d(t,{resetPropWarnings:function(){return r}});var a=n(6400),i=(n(14369),{});function r(){i={}}function o(e){return e.type===a.Fragment?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var l=[],u=[];function s(){return l.length>0?l[l.length-1]:null}var c=!1;function d(e){return"function"==typeof e.type&&e.type!=a.Fragment}function f(e){for(var t=[e],n=e;null!=n.__o;)t.push(n.__o),n=n.__o;return t.reduce((function(e,t){e+="  in "+o(t);var n=t.__source;return n?e+=" (at "+n.fileName+":"+n.lineNumber+")":c||(c=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}var p="function"==typeof WeakMap,h=a.Component.prototype.setState;a.Component.prototype.setState=function(e,t){return null==this.__v?null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+f(s())):null==this.__P&&console.warn('Can\'t call "this.setState" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),h.call(this,e,t)};var g=a.Component.prototype.forceUpdate;function m(e){var t=e.props,n=o(e),a="";for(var i in t)if(t.hasOwnProperty(i)&&"children"!==i){var r=t[i];"function"==typeof r&&(r="function "+(r.displayName||r.name)+"() {}"),r=Object(r)!==r||r.toString?r+"":Object.prototype.toString.call(r),a+=" "+i+"="+JSON.stringify(r)}var l=t.children;return"<"+n+a+(l&&l.length?">..</"+n+">":" />")}a.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+f(s())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),g.call(this,e)},function(){!function(){var e=a.options.__b,t=a.options.diffed,n=a.options.__,i=a.options.vnode,r=a.options.__r;a.options.diffed=function(e){d(e)&&u.pop(),l.pop(),t&&t(e)},a.options.__b=function(t){d(t)&&l.push(t),e&&e(t)},a.options.__=function(e,t){u=[],n&&n(e,t)},a.options.vnode=function(e){e.__o=u.length>0?u[u.length-1]:null,i&&i(e)},a.options.__r=function(e){d(e)&&u.push(e),r&&r(e)}}();var e=!1,t=a.options.__b,n=a.options.diffed,r=a.options.vnode,s=a.options.__e,c=a.options.__,h=a.options.__h,g=p?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];a.options.__e=function(e,t,n){if(t&&t.__c&&"function"==typeof e.then){var a=e;e=new Error("Missing Suspense. The throwing component was: "+o(t));for(var i=t;i;i=i.__)if(i.__c&&i.__c.__c){e=a;break}if(e instanceof Error)throw e}try{s(e,t,n),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},a.options.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var n;switch(t.nodeType){case 1:case 11:case 9:n=!0;break;default:n=!1}if(!n){var a=o(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+a+" />, "+t+");")}c&&c(e,t)},a.options.__b=function(n){var a=n.type,r=function e(t){return t?"function"==typeof t.type?e(t.__):t:{}}(n.__);if(e=!0,void 0===a)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+m(n)+"\n\n"+f(n));if(null!=a&&"object"==typeof a){if(void 0!==a.__k&&void 0!==a.__e)throw new Error("Invalid type passed to createElement(): "+a+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+o(n)+" = "+m(a)+";\n  let vnode = <My"+o(n)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+f(n));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(a)?"array":a))}if("thead"!==a&&"tfoot"!==a&&"tbody"!==a||"table"===r.type?"tr"===a&&"thead"!==r.type&&"tfoot"!==r.type&&"tbody"!==r.type&&"table"!==r.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+m(n)+"\n\n"+f(n)):"td"===a&&"tr"!==r.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+m(n)+"\n\n"+f(n)):"th"===a&&"tr"!==r.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+m(n)+"\n\n"+f(n)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+m(n)+"\n\n"+f(n)),void 0!==n.ref&&"function"!=typeof n.ref&&"object"!=typeof n.ref&&!("$$typeof"in n))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+"] instead\n"+m(n)+"\n\n"+f(n));if("string"==typeof n.type)for(var l in n.props)if("o"===l[0]&&"n"===l[1]&&"function"!=typeof n.props[l]&&null!=n.props[l])throw new Error("Component's \""+l+'" property should be a function, but got ['+typeof n.props[l]+"] instead\n"+m(n)+"\n\n"+f(n));if("function"==typeof n.type&&n.type.propTypes){if("Lazy"===n.type.displayName&&g&&!g.lazyPropTypes.has(n.type)){var u="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var s=n.type();g.lazyPropTypes.set(n.type,!0),console.warn(u+"Component wrapped in lazy() is "+o(s))}catch(n){console.warn(u+"We will log the wrapped component's name once it is loaded.")}}var c=n.props;n.type.__f&&delete(c=function(e,t){for(var n in t)e[n]=t[n];return e}({},c)).ref,function(e,t,n,a,r){Object.keys(e).forEach((function(n){var o;try{o=e[n](t,n,a,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){o=e}!o||o.message in i||(i[o.message]=!0,console.error("Failed prop type: "+o.message+(r&&"\n"+r()||"")))}))}(n.type.propTypes,c,0,o(n),(function(){return f(n)}))}t&&t(n)},a.options.__h=function(t,n,a){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");h&&h(t,n,a)};var _=function(e,t){return{get:function(){var n="get"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},y={nodeName:_("nodeName","use vnode.type"),attributes:_("attributes","use vnode.props"),children:_("children","use vnode.props.children")},b=Object.create({},y);a.options.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var a in t){var i=t[a];"__source"===a?e.__source=i:"__self"===a?e.__self=i:n[a]=i}}e.__proto__=b,r&&r(e)},a.options.diffed=function(t){t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+f(t))}}));var a=t.__c;if(a&&a.__H){var i=a.__H;Array.isArray(i.__)&&i.__.forEach((function(e){if(e.__h&&(!e.__H||!Array.isArray(e.__H))){var n=o(t);console.warn("In "+n+" you are calling useMemo/useCallback without passing arguments.\nThis is a noop since it will not be able to memoize, it will execute it every render.\n\n"+f(t))}}))}if(e=!1,n&&n(t),null!=t.__k)for(var r=[],l=0;l<t.__k.length;l++){var u=t.__k[l];if(u&&null!=u.key){var s=u.key;if(-1!==r.indexOf(s)){console.error('Following component has two or more children with the same key attribute: "'+s+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+m(t)+"\n\n"+f(t));break}r.push(s)}}}}()},14369:function(e,t,n){"use strict";n.r(t);var a=n(6400);"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.5",a.options,{Fragment:a.Fragment,Component:a.Component})},6400:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return j},hydrate:function(){return F},createElement:function(){return g},h:function(){return g},Fragment:function(){return _},createRef:function(){return v},isValidElement:function(){return i},Component:function(){return y},cloneElement:function(){return H},createContext:function(){return U},toChildArray:function(){return S},__u:function(){return P},options:function(){return a}});var a,i,r,o,l,u,s,c={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var a,i,r,o=arguments,l={};for(r in t)"key"==r?a=t[r]:"ref"==r?i=t[r]:l[r]=t[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(l.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===l[r]&&(l[r]=e.defaultProps[r]);return m(e,l,a,i,null)}function m(e,t,n,i,r){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r};return null==r&&(o.__v=o),null!=a.vnode&&a.vnode(o),o}function v(){return{current:null}}function _(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function C(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!T.__r++||l!==a.debounceRendering)&&((l=a.debounceRendering)||o)(T)}function T(){for(var e;T.__r=r.length;)e=r.sort((function(e,t){return e.__v.__b-t.__v.__b})),r=[],e.some((function(e){var t,n,a,i,r,o,l;e.__d&&(o=(r=(t=e).__v).__e,(l=t.__P)&&(n=[],(a=p({},r)).__v=a,i=O(l,r,a,t.__n,void 0!==l.ownerSVGElement,null!=r.__h?[o]:null,n,null==o?b(r):o,r.__h),N(n,r),i!=o&&E(r)))}))}function w(e,t,n,a,i,r,o,l,u,s){var f,p,g,v,y,E,C,T=a&&a.__k||d,w=T.length;for(u==c&&(u=null!=o?o[0]:w?b(a,0):null),n.__k=[],f=0;f<t.length;f++)if(null!=(v=n.__k[f]=null==(v=t[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?m(null,v,null,null,v):Array.isArray(v)?m(_,{children:v},null,null,null):null!=v.__e||null!=v.__c?m(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(g=T[f])||g&&v.key==g.key&&v.type===g.type)T[f]=void 0;else for(p=0;p<w;p++){if((g=T[p])&&v.key==g.key&&v.type===g.type){T[p]=void 0;break}g=null}y=O(e,v,g=g||c,i,r,o,l,u,s),(p=v.ref)&&g.ref!=p&&(C||(C=[]),g.ref&&C.push(g.ref,null,v),C.push(p,v.__c||y,v)),null!=y?(null==E&&(E=y),u=k(e,v,g,T,o,y,u),s||"option"!=n.type?"function"==typeof n.type&&(n.__d=u):e.value=""):u&&g.__e==u&&u.parentNode!=e&&(u=b(g))}if(n.__e=E,null!=o&&"function"!=typeof n.type)for(f=o.length;f--;)null!=o[f]&&h(o[f]);for(f=w;f--;)null!=T[f]&&P(T[f],T[f]);if(C)for(f=0;f<C.length;f++)L(C[f],C[++f],C[++f])}function S(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){S(e,t)})):t.push(e)),t}function k(e,t,n,a,i,r,o){var l,u,s;if(void 0!==t.__d)l=t.__d,t.__d=void 0;else if(i==n||r!=o||null==r.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(r),l=null;else{for(u=o,s=0;(u=u.nextSibling)&&s<a.length;s+=2)if(u==r)break e;e.insertBefore(r,o),l=o}return void 0!==l?l:r.nextSibling}function I(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function A(e,t,n,a,i){var r,o,l;if(i&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof a&&(e.style.cssText=a=""),a)for(t in a)n&&t in n||I(e.style,t,"");if(n)for(t in n)a&&n[t]===a[t]||I(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(r=t!==(t=t.replace(/Capture$/,"")),(o=t.toLowerCase())in e&&(t=o),t=t.slice(2),e.l||(e.l={}),e.l[t+r]=n,l=r?x:M,n?a||e.addEventListener(t,l,r):e.removeEventListener(t,l,r)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function M(e){this.l[e.type+!1](a.event?a.event(e):e)}function x(e){this.l[e.type+!0](a.event?a.event(e):e)}function R(e,t,n){var a,i;for(a=0;a<e.__k.length;a++)(i=e.__k[a])&&(i.__=e,i.__e&&("function"==typeof i.type&&i.__k.length>1&&R(i,t,n),t=k(n,i,i,e.__k,null,i.__e,t),"function"==typeof e.type&&(e.__d=t)))}function O(e,t,n,i,r,o,l,u,s){var c,d,f,h,g,m,v,b,E,C,T,S=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,u=t.__e=n.__e,t.__h=null,o=[u]),(c=a.__b)&&c(t);try{e:if("function"==typeof S){if(b=t.props,E=(c=S.contextType)&&i[c.__c],C=c?E?E.props.value:c.__:i,n.__c?v=(d=t.__c=n.__c).__=d.__E:("prototype"in S&&S.prototype.render?t.__c=d=new S(b,C):(t.__c=d=new y(b,C),d.constructor=S,d.render=B),E&&E.sub(d),d.props=b,d.state||(d.state={}),d.context=C,d.__n=i,f=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=S.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,S.getDerivedStateFromProps(b,d.__s))),h=d.props,g=d.state,f)null==S.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==S.getDerivedStateFromProps&&b!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,C),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,C)||t.__v===n.__v){d.props=b,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,d.__h.length&&l.push(d),R(t,u,e);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,C),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,g,m)}))}d.context=C,d.props=b,d.state=d.__s,(c=a.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(i=p(p({},i),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(h,g)),T=null!=c&&c.type==_&&null==c.key?c.props.children:c,w(e,Array.isArray(T)?T:[T],t,n,i,r,o,l,u,s),d.base=t.__e,t.__h=null,d.__h.length&&l.push(d),v&&(d.__E=d.__=null),d.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=D(n.__e,t,n,i,r,o,l,s);(c=a.diffed)&&c(t)}catch(e){t.__v=null,(s||null!=o)&&(t.__e=u,t.__h=!!s,o[o.indexOf(u)]=null),a.__e(e,t,n)}return t.__e}function N(e,t){a.__c&&a.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){a.__e(e,t.__v)}}))}function D(e,t,n,a,i,r,o,l){var u,s,f,p,h,g=n.props,m=t.props;if(i="svg"===t.type||i,null!=r)for(u=0;u<r.length;u++)if(null!=(s=r[u])&&((null===t.type?3===s.nodeType:s.localName===t.type)||e==s)){e=s,r[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),r=null,l=!1}if(null===t.type)g===m||l&&e.data===m||(e.data=m);else{if(null!=r&&(r=d.slice.call(e.childNodes)),f=(g=n.props||c).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(null!=r)for(g={},h=0;h<e.attributes.length;h++)g[e.attributes[h].name]=e.attributes[h].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,a,i){var r;for(r in n)"children"===r||"key"===r||r in t||A(e,r,null,n[r],a);for(r in t)i&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||A(e,r,t[r],n[r],a)})(e,m,g,i,l),p?t.__k=[]:(u=t.props.children,w(e,Array.isArray(u)?u:[u],t,n,a,"foreignObject"!==t.type&&i,r,o,c,l)),l||("value"in m&&void 0!==(u=m.value)&&(u!==e.value||"progress"===t.type&&!u)&&A(e,"value",u,g.value,!1),"checked"in m&&void 0!==(u=m.checked)&&u!==e.checked&&A(e,"checked",u,g.checked,!1))}return e}function L(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){a.__e(e,n)}}function P(e,t,n){var i,r,o;if(a.unmount&&a.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||L(i,null,t)),n||"function"==typeof e.type||(n=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){a.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&P(i[o],t,n);null!=r&&h(r)}function B(e,t,n){return this.constructor(e,n)}function j(e,t,n){var i,r,o;a.__&&a.__(e,t),r=(i=n===u)?null:n&&n.__k||t.__k,e=g(_,null,[e]),o=[],O(t,(i?t:n||t).__k=e,r||c,c,void 0!==t.ownerSVGElement,n&&!i?[n]:r?null:t.childNodes.length?d.slice.call(t.childNodes):null,o,n||c,i),N(o,e)}function F(e,t){j(e,t,u)}function H(e,t,n){var a,i,r,o=arguments,l=p({},e.props);for(r in t)"key"==r?a=t[r]:"ref"==r?i=t[r]:l[r]=t[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);return null!=n&&(l.children=n),m(e.type,l,a||e.key,i||e.ref,null)}function U(e,t){var n={__c:t="__cC"+s++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e,n,a){return this.getChildContext||(n=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(C)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}a={__e:function(e,t){for(var n,a,i,r=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((a=n.constructor)&&null!=a.getDerivedStateFromError&&(n.setState(a.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return t.__h=r,n.__E=n}catch(t){e=t}throw e}},i=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),C(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},y.prototype.render=_,r=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,T.__r=0,u=c,s=0},87236:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var a=t.style;if(e in a)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),r=n.length;r>=0;r--){var o=n[r]+i;if(o in a)return o}return!1}},92703:function(e,t,n){"use strict";var a=n(50414);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,o){if(o!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},74971:function(e,t,n){var a;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof n.g&&n.g;r.global!==r&&r.window!==r&&r.self;var o,l=2147483647,u=36,s=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function g(e){throw RangeError(f[e])}function m(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function v(e,t){var n=e.split("@"),a="";return n.length>1&&(a=n[0]+"@",e=n[1]),a+m((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,n,a=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function y(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var a=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;a+=u)e=p(e/35);return p(a+36*e/(e+38))}function C(e){var t,n,a,i,r,o,s,c,d,f,h,m=[],v=e.length,_=0,b=128,C=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)e.charCodeAt(a)>=128&&g("not-basic"),m.push(e.charCodeAt(a));for(i=n>0?n+1:0;i<v;){for(r=_,o=1,s=u;i>=v&&g("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||c>p((l-_)/o))&&g("overflow"),_+=c*o,!(c<(d=s<=C?1:s>=C+26?26:s-C));s+=u)o>p(l/(f=u-d))&&g("overflow"),o*=f;C=E(_-r,t=m.length+1,0==r),p(_/t)>l-b&&g("overflow"),b+=p(_/t),_%=t,m.splice(_++,0,b)}return y(m)}function T(e){var t,n,a,i,r,o,s,c,d,f,m,v,y,C,T,w=[];for(v=(e=_(e)).length,t=128,n=0,r=72,o=0;o<v;++o)(m=e[o])<128&&w.push(h(m));for(a=i=w.length,i&&w.push("-");a<v;){for(s=l,o=0;o<v;++o)(m=e[o])>=t&&m<s&&(s=m);for(s-t>p((l-n)/(y=a+1))&&g("overflow"),n+=(s-t)*y,t=s,o=0;o<v;++o)if((m=e[o])<t&&++n>l&&g("overflow"),m==t){for(c=n,d=u;!(c<(f=d<=r?1:d>=r+26?26:d-r));d+=u)T=c-f,C=u-f,w.push(h(b(f+T%C,0))),c=p(T/C);w.push(h(b(c,0))),r=E(n,y,a==i),n=0,++a}++n,++t}return w.join("")}o={version:"1.3.2",ucs2:{decode:_,encode:y},decode:C,encode:T,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return v(e,(function(e){return s.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return o}.call(t,n,t,e))||(e.exports=a)}()},62587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,a,i){n=n||"&",a=a||"=";var r={};if("string"!=typeof e||0===e.length)return r;var o=/\+/g;e=e.split(n);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var s=0;s<u;++s){var c,d,f,p,h=e[s].replace(o,"%20"),g=h.indexOf(a);g>=0?(c=h.substr(0,g),d=h.substr(g+1)):(c=h,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),t(r,f)?Array.isArray(r[f])?r[f].push(p):r[f]=[r[f],p]:r[f]=p}return r}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,a,i){return n=n||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var r=encodeURIComponent(t(i))+a;return Array.isArray(e[i])?e[i].map((function(e){return r+encodeURIComponent(t(e))})).join(n):r+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+a+encodeURIComponent(t(e)):""}},17673:function(e,t,n){"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},54087:function(e,t,n){for(var a=n(75),i="undefined"==typeof window?n.g:window,r=["moz","webkit"],o="AnimationFrame",l=i["request"+o],u=i["cancel"+o]||i["cancelRequest"+o],s=0;!l&&s<r.length;s++)l=i[r[s]+"Request"+o],u=i[r[s]+"Cancel"+o]||i[r[s]+"CancelRequest"+o];if(!l||!u){var c=0,d=0,f=[];l=function(e){if(0===f.length){var t=a(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return l.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=l,e.cancelAnimationFrame=u}},36599:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="9" height="16" viewBox="0 0 9 16">\n    <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n          d="M8.012 1L1 7.975l7.053 7.03"/>\n</svg>\n'},28843:function(e,t,n){"use strict";n.r(t),t.default='<svg width="33" height="33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path fill="_COLOR1_" d="M24.2 33.433c2.411 4.823 6.544 8.784 11.367 11.367l3.789-3.789c.516-.517 1.205-.689 1.722-.344 1.894.689 3.96 1.033 6.2 1.033 1.033 0 1.722.689 1.722 1.722v5.856C49 50.31 48.311 51 47.278 51 31.088 51 18 37.911 18 21.722 18 20.69 18.689 20 19.722 20h6.028c1.033 0 1.722.689 1.722 1.722 0 2.067.345 4.134 1.034 6.2.172.517 0 1.206-.345 1.722l-3.961 3.79z" id="a"/></defs><use fill="#FFF" xlink:href="#a" transform="translate(-17 -20)" fill-rule="evenodd"/></svg>\n'},97126:function(e,t,n){"use strict";n.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow1</title><g transform="rotate(163 27.277 33.133)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},27684:function(e,t,n){"use strict";n.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow2</title><g transform="rotate(-17 45.338 20.625)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},2482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M16.5 8v9.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V7a2.5 2.5 0 0 1 5 0v8.5c0 .55-.45 1-1 1s-1-.45-1-1V8H10v7.5a2.5 2.5 0 0 0 5 0V7c0-2.21-1.79-4-4-4S7 4.79 7 7v10.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V8h-1.5z"/>\n</svg>\n'},92809:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M.941 0h15v15h-15z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M3.497 9.624c.36.002.694-.14.954-.401.266-.266.425-.627.428-1.014.009-.36-.069-.72-.227-1.04.352-.288 2.063-.67 3.357-.665 1.258.01 2.972.401 3.335.688-.18.319-.274.68-.283 1.04-.009.381.117.735.367 1.007.25.271.588.424.948.426l1.396.01c.328.002.635-.124.874-.363.244-.243.381-.572.39-.922l.001-.215a1.932 1.932 0 0 0-.132-.804c-.016-.038-.378-1.007-.993-1.394-.096-.053-2.626-1.367-5.876-1.279-3.25.088-5.796 1.165-5.904 1.22a1.718 1.718 0 0 0-.319.255c-.439.439-.719 1.091-.73 1.113-.11.259-.165.528-.178.808l-.002.214c-.017.71.52 1.301 1.197 1.306l1.397.01z"/></g></svg>'},87409:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path fill="#18C139" fill-rule="nonzero" d="M12.603 10.143a1.408 1.408 0 0 0-1.018-.417c-.4 0-.79.152-1.083.44a2.377 2.377 0 0 0-.611.953c-.48-.048-2.053-1.046-3.022-2.023-.937-.952-1.931-2.534-1.988-3.022.374-.104.716-.305.993-.569.293-.28.465-.64.48-1.032a1.372 1.372 0 0 0-.39-1.032L4.92 2.384A1.285 1.285 0 0 0 3.993 2c-.367 0-.717.144-.986.4l-.162.16c-.22.2-.391.44-.505.704-.017.04-.473 1.04-.302 1.793.033.112.946 3 3.454 5.376 2.508 2.376 5.23 3.479 5.352 3.519.13.032.277.048.431.048.66 0 1.36-.28 1.385-.288.277-.112.521-.272.741-.472l.163-.16c.546-.52.586-1.369.081-1.881l-1.042-1.056z"/></g></svg>'},93867:function(e,t,n){"use strict";n.r(t),t.default='<svg id="jivo-icon-closewidget" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><style>.jivo-st0{opacity:.8;fill:#FFF;stroke:#000;enable-background:new}.jivo-st0,.jivo-st1{stroke-width:1.5;stroke-linecap:round}.jivo-st1{fill:none;stroke:#383d45}</style><circle class="jivo-st0" cx="12" cy="12" r="11"/><path class="jivo-st1" d="M7.5 16.5l9-9M16.5 16.5l-9-9"/></svg>'},85972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd" transform="translate(3 4)">\n    <circle cx="8.5" cy="8.5" r="9.3" stroke="_COLOR1_" stroke-width="1.6"/>\n    <circle cx="5.375" cy="6.375" r="1.375" fill="_COLOR1_"/>\n    <circle cx="11.875" cy="6.375" r="1.375" fill="_COLOR1_" transform="matrix(-1 0 0 1 23.75 0)"/>\n    <path stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.6" d="M4.25 10.5S4.5 13 8.5 13s4.25-2.5 4.25-2.5"/>\n  </g>\n</svg>'},28336:function(e,t,n){"use strict";n.r(t),t.default='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path fill=\'_COLOR1_\' d="M22.5 5l-10 6.25L2.5 5V2.5l10 6.25 10-6.25V5zm0-5h-20A2.49 2.49 0 0 0 0 2.5v15A2.5 2.5 0 0 0 2.5 20h20a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 22.5 0z"/></svg>\n'},69527:function(e,t,n){"use strict";n.r(t),t.default='<svg width="160" height="173" viewBox="0 0 160 173" xmlns="http://www.w3.org/2000/svg"><title>hand</title><path d="M56.31 169.5S8.685 109 5.968 106.25c-2.717-2.75-5.84-12.663 0-20.05C11.807 78.816 21.295 82.95 24 85c2.705 2.05 13.06 10.5 13.06 10.5s7.646 6.35 14.5 2.093c6.857-4.256 6.42-11.392 6.42-11.392s1.93-16.115-1.67-35.2C52.714 31.915 49 25.25 46.75 20c-2.25-5.25-1.124-11.59 5.938-16.045C59.75-.5 67 6.5 68.5 9.25s6.396 9.49 12.12 27.253c5.722 17.763 7.69 41.372 7.69 41.372l-2-23.25c5.576 0 13.464-2.994 24.017 9.168 4.736 5.457 6.86 24.332 6.86 24.332s-1.874-15.188-5.25-21.75c4.5-1.25 12.583-4.006 21.376 4.875 6.31 6.375 5.375 23.25 5.375 23.25s1.25-13.063-4.25-21.938c13.68-1.527 19.937 11.313 21.937 19.563 2 8.25-.875 26.75-.875 26.75l-14.19 51.875" stroke="#A3AFB8" fill-rule="nonzero" stroke-width="4" fill="#FFF" stroke-linecap="round" stroke-linejoin="round"/></svg>'},70099:function(e,t,n){"use strict";n.r(t),t.default='<svg width="76.5" height="76.5" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#0076ff" d="M22.5 45C10.0736 45 0 34.9264 0 22.5S10.0736 0 22.5 0 45 10.0736 45 22.5 34.9264 45 22.5 45zm-.038-14.2213c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1523.1523 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n  <path fill="#ffffff" stroke="#ffffff" stroke-width="2" d="M22.462 30.7787c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1524.1524 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n</svg>'},86227:function(e,t,n){"use strict";n.r(t),t.default='<svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Popup" transform="translate(-257.000000, -293.000000)" fill="#0084FF">\n            <g id="popup-big" transform="translate(231.000000, 195.000000)">\n                <path d="M39,98 C31.8202857,98 26,103.389142 26,110.037037 C26,113.825093 27.8904099,117.203969 30.8447205,119.410438 L30.8447205,124 L35.2710994,121.570685 C36.4524037,121.897611 37.7038758,122.074074 39,122.074074 C46.1797143,122.074074 52,116.684932 52,110.037037 C52,103.389142 46.1797143,98 39,98 Z M40.2919255,114.209877 L36.9813665,110.679012 L30.5217391,114.209877 L37.6273292,106.666667 L41.0186335,110.197531 L47.3975155,106.666667 L40.2919255,114.209877 Z" id="iconMessenger"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},34886:function(e,t,n){"use strict";n.r(t),t.default='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.1 0H1.9C.85 0 0 .85 0 1.9V19l3.8-3.8h13.3c1.05 0 1.9-.85 1.9-1.9V1.9C19 .85 18.15 0 17.1 0M3.8 6.65h11.4v1.9H3.8m7.6 2.85H3.8V9.5h7.6m3.8-3.8H3.8V3.8h11.4" fill="#05B24B"/></g></svg>\n'},38353:function(e,t,n){"use strict";n.r(t),t.default='<svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M2.967 22.226l-.025.008s7.698 13.9 26.975 5.546c0 0-1.495-1.752-4.384-3.52a14.067 14.067 0 0 0 2.588-14.047c-2.655-7.297-10.7-11.07-17.964-8.425C2.89 4.433-.847 12.492 1.81 19.79c.313.863.703 1.677 1.157 2.436z" fill-rule="evenodd"/></svg>\n'},81483:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h20v20H0z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M3 3h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M16.074 7.064l-6.01 4.01-6.01-4.01"/>\n    </g>\n</svg>\n'},29428:function(e,t,n){"use strict";n.r(t),t.default='<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16"><style>.st0{fill:none;stroke:#49bb6f;stroke-width:2}</style><path id="icon_thanks" class="st0" d="M2.5 6.5l6 6 11-11"/></svg>'},50109:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},22764:function(e,t,n){"use strict";n.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>ABB53DC4-C95A-47C0-BDA2-177372AC59FA</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="ios-Full" transform="translate(-64.000000, -499.000000)" fill="#0076FF">\n            <g id="popup" transform="translate(0.000000, 190.000000)">\n                <path d="M65.0702042,309.547272 C63.6395848,310.838212 63.3600869,312.442576 66.0124393,316.105342 C68.6644642,319.767967 72.3286805,322.837952 74.9458442,324.128565 C77.5634291,325.418898 78.6800637,324.72144 79.4127573,323.709857 C80.1457784,322.697899 80.1457784,321.895624 79.0291437,321.058674 C77.9121815,320.22121 76.3420236,318.616705 74.9110766,319.802641 C73.4804572,320.988905 72.5381753,319.73334 72.1194665,319.279396 C71.8161507,318.951279 69.6064185,316.733031 69.1531761,316.279648 C68.6992786,315.825984 68.3153375,314.710145 69.1180342,313.837773 C69.9210116,312.965822 68.8470059,311.39805 68.5596934,311.04752 C68.2457086,310.663579 66.9719412,307.831492 65.0702042,309.547272" id="Page-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},18317:function(e,t,n){"use strict";n.r(t),t.default='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M.937 0C.42 0 0 .42 0 .937 0 9.73 7.13 16.86 15.922 16.86c.25 0 .487-.1.663-.275.175-.176.274-.414.274-.663v-3.278c0-.517-.42-.936-.938-.936-1.17 0-2.294-.188-3.343-.534-.33-.103-.694-.028-.957.225l-2.06 2.06C6.913 12.11 4.74 9.946 3.39 7.286l2.06-2.07c.263-.244.338-.61.235-.937C5.34 3.23 5.15 2.107 5.15.937 5.15.42 4.733 0 4.216 0H.937zM11.24 0v1.405h3.278l-5.152 5.15.937.938 5.15-5.15V5.62h1.406V0h-5.62z" fill="#4185F2"/></svg>\n'},18079:function(e,t,n){"use strict";n.r(t),t.default='<svg width="34" height="34" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="_COLOR1_" cx="17" cy="17" r="17"/><g transform="translate(10 9)" fill="#FFF"><rect x="6" y="2" width="2" height="14" rx="1"/><rect transform="rotate(-45 9.879 4.879)" x="8.879" y="-.121" width="2" height="10" rx="1"/><rect transform="scale(-1 1) rotate(-45 0 15.243)" x="3.293" y="-.121" width="2" height="10" rx="1"/></g></g></svg>\n'},63899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="#02A95F" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},99652:function(e,t,n){"use strict";n.r(t),t.default='<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 14.7V21l4.176-3H21c.56 0 .999-.448.999-1V2c0-.545-.447-1-.999-1H2A.994.994 0 0 0 1 2v12.7z" stroke="#00BE64" stroke-width="2"/><path fill="#00BE64" d="M5 6h14v2H5zM5 11h11v2H5z"/></g></svg>\n'},18690:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 37">\n  <defs/>\n  <g filter="url(#filter0_d)">\n    <path fill="#fff" d="M1 0h54v26.5L28.5 35 1 26.5V0z"/>\n  </g>\n  <path fill="#2A2E49" d="M6 5.002V13h1.2012v-2.9121H9c1.5879 0 2.6016-1.0313 2.6016-2.5371 0-1.4942-1.0078-2.5488-2.5957-2.5488H6zm1.2012 1.0253h1.6523c.955 0 1.5117.5508 1.5117 1.5235 0 1.2363-.7558 1.5234-2.039 1.5234h-1.125V6.0273zM15.334 13.1055c1.4648 0 2.2734-.8379 2.4785-1.8457h-1.1426c-.1758.5507-.6328.8906-1.3125.8906-.9316 0-1.5058-.7383-1.5058-1.834v-.1289h4.0371v-.586c0-1.7226-.9668-2.8827-2.6016-2.8827-1.6289 0-2.6133 1.1308-2.6133 2.8242v.6504c0 1.7988 1.0254 2.9121 2.6602 2.9121zm-1.4824-3.7852v-.0176c0-.914.5625-1.6406 1.4414-1.6406.8613 0 1.4297.7207 1.4297 1.6406v.0176h-2.8711zM20.3555 4.3457c-.0059.7969.5332 1.664 1.7402 1.664 1.207 0 1.7344-.8671 1.7402-1.664h-.7851c0 .5274-.2871.9785-.9551.9785-.668 0-.9551-.4512-.9551-.9785h-.7851zM23.5137 13h1.1425V6.8242h-1.0898l-2.9121 4.3946h-.0352V6.8242h-1.1425V13h1.0839l2.9122-4.3945h.041V13zM30.9668 7.7559v-.9317h-5.1152v.9317h1.9687V13h1.1836V7.7559h1.9629zM36.2051 13h1.1426V6.8242h-1.0899l-2.9121 4.3946h-.0352V6.8242H32.168V13h1.084l2.9121-4.3945h.041V13zM43.0781 13h1.1778V6.8242h-1.1778v2.5195h-2.7246V6.8243h-1.1777V13h1.1777v-2.7246h2.7246V13zM50.0273 7.7559v-.9317h-3.9375V13h1.1778V7.7559h2.7597z"/>\n  <path fill="#18C139" d="M10.5801 24.1621v-6.9492h2.3847v-1.0488H7v1.0488h2.3848v6.9492H10.58zM16.4512 17.8809c-1.7637 0-2.7188 1.2539-2.7188 2.9238v.5156c0 1.7168.9551 2.9473 2.7188 2.9473 1.7578 0 2.7011-1.2305 2.7011-2.9473v-.5215c0-1.6699-.9492-2.9179-2.7011-2.9179zm-.0059.9726c1.002 0 1.5176.791 1.5176 1.9746v.4746c0 1.1719-.5098 1.9805-1.5176 1.9805-1.0019 0-1.5234-.8144-1.5234-1.9805v-.4746c0-1.1777.5215-1.9746 1.5234-1.9746zM24.5781 24.1621h1.1778v-6.1758h-5.0215v6.1758h1.1777V18.918h2.666v5.2441zM30.8242 21.4082v-1.0547h-3.6914v1.0547h3.6914zM34.5273 24.1621v-7.998h-1.1367c-.5097.2695-1.4648.8613-1.957 1.2129v1.1777c.457-.3164 1.5234-.9844 1.8691-1.1719h.0293v6.7793h1.1953zM37.3516 19.873c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6816 1.0195 1.6816 2.8476v.586c0 1.8281-.6445 2.8418-1.6816 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0195 3.8555 2.8828 3.8555 1.8926 0 2.8887-1.5586 2.8887-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.877-3.8672-1.8633 0-2.8945 1.5234-2.8945 3.8672v.6035zM44.1953 19.873c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6817 1.0195 1.6817 2.8476v.586c0 1.8281-.6446 2.8418-1.6817 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0196 3.8555 2.8829 3.8555 1.8925 0 2.8886-1.5586 2.8886-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.8769-3.8672-1.8633 0-2.8946 1.5234-2.8946 3.8672v.6035z"/>\n  <defs>\n    <filter id="filter0_d" width="56" height="37" x="0" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n      <feOffset dy="1"/>\n      <feGaussianBlur stdDeviation=".5"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/>\n      <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>\n      <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n    </filter>\n  </defs>\n</svg>\n'},34460:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 65 65">\n  <defs/>\n  <circle cx="32.5" cy="32.5" r="32.5" fill="linear-gradient(95deg, #5e5f61 20%, #5e5f61 80%)"/>\n  <circle cx="32.5" cy="32.5" r="26.5" fill="#fff"/>\n  <path fill="#2A2E49" d="M11 22.6562v7.9981h1.2012v-2.9121H14c1.5879 0 2.6016-1.0313 2.6016-2.5371 0-1.4942-1.0078-2.5489-2.5957-2.5489H11zm1.2012 1.0254h1.6523c.9551 0 1.5117.5508 1.5117 1.5235 0 1.2363-.7558 1.5234-2.039 1.5234h-1.125v-3.0469zM20.334 30.7598c1.4648 0 2.2734-.8379 2.4785-1.8457h-1.1426c-.1758.5507-.6328.8906-1.3125.8906-.9316 0-1.5058-.7383-1.5058-1.834v-.1289h4.0371v-.5859c0-1.7227-.9668-2.8829-2.6016-2.8829-1.6289 0-2.6133 1.1309-2.6133 2.8243v.6504c0 1.7988 1.0254 2.9121 2.6602 2.9121zm-1.4824-3.7852v-.0176c0-.914.5625-1.6406 1.4414-1.6406.8613 0 1.4297.7207 1.4297 1.6406v.0176h-2.8711zM25.3555 22c-.0059.7969.5332 1.6641 1.7402 1.6641 1.207 0 1.7344-.8672 1.7402-1.6641h-.7851c0 .5273-.2871.9785-.9551.9785-.668 0-.9551-.4512-.9551-.9785h-.7851zm3.1582 8.6543h1.1425v-6.1758h-1.0898l-2.9121 4.3945h-.0352v-4.3945h-1.1425v6.1758h1.0839l2.9122-4.3945h.041v4.3945zM35.9668 25.4102v-.9317h-5.1152v.9317h1.9687v5.2441h1.1836v-5.2441h1.9629zM41.2051 30.6543h1.1426v-6.1758h-1.0899l-2.9121 4.3945h-.0352v-4.3945H37.168v6.1758h1.084l2.9121-4.3945h.041v4.3945zM48.0781 30.6543h1.1778v-6.1758h-1.1778v2.5195h-2.7246v-2.5195h-1.1777v6.1758h1.1777v-2.7246h2.7246v2.7246zM55.0273 25.4102v-.9317h-3.9375v6.1758h1.1778v-5.2441h2.7597z"/>\n  <path fill="#18C139" d="M15.5801 41.8164v-6.9492h2.3847v-1.0488H12v1.0488h2.3848v6.9492h1.1953zM21.4512 35.5352c-1.7637 0-2.7188 1.2539-2.7188 2.9238v.5156c0 1.7168.9551 2.9473 2.7188 2.9473 1.7578 0 2.7011-1.2305 2.7011-2.9473v-.5215c0-1.6699-.9492-2.9179-2.7011-2.9179zm-.0059.9726c1.002 0 1.5176.791 1.5176 1.9746v.4746c0 1.1719-.5098 1.9805-1.5176 1.9805-1.0019 0-1.5234-.8145-1.5234-1.9805v-.4746c0-1.1777.5215-1.9746 1.5234-1.9746zM29.5781 41.8164h1.1778v-6.1758h-5.0215v6.1758h1.1777v-5.2441h2.666v5.2441zM35.8242 39.0625v-1.0547h-3.6914v1.0547h3.6914zM39.5273 41.8164v-7.998h-1.1367c-.5097.2695-1.4648.8613-1.957 1.2128v1.1778c.457-.3164 1.5234-.9844 1.8691-1.1719h.0293v6.7793h1.1953zM42.3516 37.5273c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6816 1.0195 1.6816 2.8476v.586c0 1.8281-.6445 2.8418-1.6816 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0195 3.8555 2.8828 3.8555 1.8926 0 2.8887-1.5586 2.8887-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.877-3.8672-1.8633 0-2.8945 1.5234-2.8945 3.8672v.6035zM49.1953 37.5273c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6817 1.0195 1.6817 2.8476v.586c0 1.8281-.6446 2.8418-1.6817 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0196 3.8555 2.8829 3.8555 1.8925 0 2.8886-1.5586 2.8886-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.8769-3.8672-1.8633 0-2.8946 1.5234-2.8946 3.8672v.6035z"/>\n</svg>'},2427:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g transform="rotate(-180 12 12)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)" stroke="#FFF" stroke-linecap="round" stroke-width="2"><path d="M14.458 17.911l-6.364-6.364 6.364-6.364"/></g></g></svg>'},34948:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path fill="_COLOR1_" d="M.813.006l9.18 9.18-.806.807L.007.813z"/><path fill="_COLOR1_" d="M9.994.813l-9.18 9.18-.808-.806 9.18-9.18z"/></svg>\n'},12298:function(e,t,n){"use strict";n.r(t),t.default='<svg width="10" height="35" viewBox="0 0 9 35" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M1.31 34.966H.975c-.295 0-.53-.09-.71-.27C.09 34.516 0 34.3 0 34.05v-2.33c0-.25.097-.465.288-.645.193-.18.42-.27.687-.27H1.3c1.776 0 3.223-1.37 3.238-3.06v-8.94H.975c-.236 0-.458-.09-.665-.27-.206-.18-.31-.395-.31-.645v-2.33c0-.223.104-.43.31-.625.207-.194.43-.292.665-.292h7.019c.266 0 .494.09.687.27.192.182.29.396.29.646V27.77c0 .032-.008.058-.01.09-.08 3.937-3.477 7.098-7.65 7.104zM.318 0C-.25 11.117 8.62 12.702 8.62 12.702 8.17.522.318 0 .318 0z"/></svg>\n'},82632:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path id="text" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z" fill-rule="evenodd" fill="#3e414f"/>\n        <path id="leaf" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z" fill-rule="evenodd" fill="#44bb6e"/>\n    </g>\n</svg>'},93091:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path fill="_COLOR1_" fill-rule="evenodd" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z"/>\n        <path fill="_COLOR2_" fill-rule="evenodd" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z"/>\n    </g>\n</svg>\n'},22722:function(e,t,n){"use strict";n.r(t),t.default='<svg width="46" height="15" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><path d="M.048 0c-.2 3.774 2.893 4.31 2.893 4.31C2.78.178.05 0 .05 0zm2.587 4.784H.35c-.08 0-.15.04-.215.103-.07.07-.103.136-.103.217v.803c0 .088.04.162.103.226.07.065.136.097.216.097h1.16v5.795c0 .542-.405.994-.924 1.06H.35c-.086 0-.16.03-.224.095a.303.303 0 0 0-.097.226v.804c0 .087.03.162.086.226a.303.303 0 0 0 .232.097H.46c1.318 0 2.397-1.04 2.478-2.35a.675.675 0 0 0 .013-.145V5.104a.307.307 0 0 0-.096-.226.29.29 0 0 0-.22-.094zm3.012 0h-.802c-.087 0-.16.04-.226.103-.065.07-.097.136-.097.217v6.01c0 .088.022.162.096.226a.3.3 0 0 0 .225.097h.802a.3.3 0 0 0 .216-.097.289.289 0 0 0 .103-.226v-6.01c0-.08-.04-.152-.103-.217-.07-.07-.136-.103-.216-.103zm7.313.016h-.648c-.242 0-.393.055-.448.184l-1.85 4.068h-.03L8.22 4.984a.294.294 0 0 0-.29-.184h-.875c-.12 0-.21.032-.258.113-.048.07-.04.162.016.258l2.867 6.254c.055.113.15.168.29.168h.087c.12 0 .216-.055.274-.168L13.2 5.17c.054-.095.064-.176.016-.257-.05-.074-.13-.113-.255-.113zm3.874-.152c-.927 0-1.723.336-2.387 1.02-.663.682-.992 1.492-.992 2.43 0 .947.335 1.774.986 2.458.665.69 1.457 1.036 2.388 1.036.93 0 1.723-.345 2.377-1.036.664-.69.992-1.508.992-2.457 0-.94-.328-1.75-.992-2.43-.663-.686-1.45-1.022-2.37-1.022zm1.41 4.965c-.382.41-.85.61-1.4.61-.56 0-1.034-.2-1.41-.6-.378-.4-.57-.914-.57-1.524 0-.595.183-1.092.57-1.486a1.88 1.88 0 0 1 1.41-.594c.56 0 1.024.194 1.4.594.378.394.572.89.572 1.485-.004.6-.197 1.107-.57 1.513zm8.576.123l-.447-.362c-.16-.12-.303-.113-.448.033-.016.016-.087.087-.21.2-.12.12-.21.2-.264.242-.053.038-.144.096-.263.177-.112.08-.24.13-.377.16-.135.024-.29.04-.447.04-.56 0-1.025-.2-1.402-.61a2.141 2.141 0 0 1-.57-1.502c0-.593.2-1.09.584-1.49.384-.4.867-.6 1.427-.6.507 0 .96.215 1.364.657.167.162.303.184.432.07l.512-.473c.167-.153.193-.314.054-.476-.624-.762-1.427-1.15-2.41-1.15-.927 0-1.722.337-2.392 1.01-.664.676-1.002 1.493-1.002 2.464 0 .988.328 1.815 1.002 2.463.657.666 1.456.996 2.393.996 1.105 0 1.97-.46 2.58-1.382.103-.148.07-.31-.113-.468zm4.542-5.088c-.647 0-1.288.233-1.923.69V2c0-.08-.04-.152-.104-.216-.07-.07-.135-.103-.216-.103h-.802a.31.31 0 0 0-.225.102c-.065.07-.097.136-.097.216v9.116c0 .088.032.162.097.217a.3.3 0 0 0 .225.098h.786c.216 0 .33-.104.33-.314v-4.14c.102-.218.302-.427.608-.644.303-.216.68-.32 1.13-.32.432 0 .76.146.986.45.226.296.335.73.335 1.284v3.364c0 .087.032.16.097.226a.303.303 0 0 0 .225.097h.802c.08 0 .152-.032.216-.096a.291.291 0 0 0 .103-.226v-3.33c-.003-2.087-.86-3.13-2.574-3.13zm8.601.859a1.341 1.341 0 0 0-.712-.65c-.327-.134-.743-.21-1.248-.21-.867 0-1.627.13-2.284.38-.184.064-.258.193-.216.383l.13.546c.047.216.176.313.376.274.72-.21 1.336-.313 1.85-.313.414 0 .694.12.855.362.162.24.226.625.21 1.16l-.184-.054a4.651 4.651 0 0 0-.513-.097 4.44 4.44 0 0 0-.64-.05c-.835 0-1.49.194-1.956.595-.473.4-.705.913-.705 1.55 0 .674.2 1.22.593 1.613.4.394.912.594 1.546.594.786 0 1.456-.28 2.033-.836l.16.45c.065.15.162.23.275.23h.48c.08 0 .15-.03.215-.096a.29.29 0 0 0 .104-.226V7.576c0-.48-.022-.868-.07-1.17a3.256 3.256 0 0 0-.297-.9zm-1.056 4.106c-.113.194-.32.378-.625.546-.303.167-.61.257-.912.257-.335 0-.593-.103-.77-.297-.177-.194-.264-.45-.264-.755 0-.336.12-.6.383-.804.257-.2.583-.296.985-.296.264 0 .522.032.754.087.23.056.382.104.447.146v1.117zm7.048 1.127l-.258-.675c-.07-.2-.2-.248-.383-.145-.36.21-.712.313-1.066.313-.168 0-.303-.048-.393-.145-.087-.097-.136-.275-.136-.53V6.02h1.745c.087 0 .16-.038.226-.103a.294.294 0 0 0 .097-.216v-.583a.295.295 0 0 0-.096-.233.331.331 0 0 0-.225-.087H43.72v-1.86a.34.34 0 0 0-.088-.225.268.268 0 0 0-.215-.097h-.82a.303.303 0 0 0-.224.097.3.3 0 0 0-.097.226V4.79h-.76c-.21 0-.312.104-.312.314v.584c0 .087.032.16.096.226a.305.305 0 0 0 .226.097h.76v3.597c0 .642.12 1.14.36 1.475.25.346.68.513 1.305.513.362 0 .707-.054 1.058-.16.35-.104.615-.21.786-.314.177-.1.225-.228.16-.38z" fill="#FFF" fill-rule="evenodd"/></svg>'},88603:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n  <g>\n    <path id="text" d="M14.118 11.775h-1.985c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598V27.34c0 .2 0 .4.2.6.198.2.397.2.595.2h1.985c.2 0 .397 0 .596-.2.198-.2.198-.4.198-.6V12.574c0-.2 0-.4-.198-.6-.2 0-.397-.198-.596-.198m18.262 0h-1.587c-.596 0-.993.2-1.19.4l-4.567 9.977-4.367-9.978c-.2-.4-.398-.4-.795-.4H17.69c-.396 0-.594 0-.594.2-.2.2-.2.4 0 .6l7.146 15.366c.198.2.397.4.794.4h.198c.397 0 .596-.2.596-.4l7.146-15.367c.2-.2.2-.4 0-.6 0 0-.198-.198-.596-.198m9.727-.4c-2.382 0-4.367.8-5.955 2.595-1.588 1.596-2.58 3.592-2.58 5.987s.793 4.39 2.58 5.987c1.588 1.796 3.573 2.594 5.955 2.594s4.367-.798 5.955-2.594c1.588-1.796 2.382-3.792 2.382-5.987 0-2.395-.794-4.39-2.58-5.987-1.588-1.597-3.573-2.595-5.757-2.595m3.375 12.374c-.993.997-2.184 1.595-3.573 1.595-1.39 0-2.582-.4-3.574-1.397-.993-.998-1.39-2.195-1.39-3.792 0-1.396.397-2.793 1.39-3.592.992-.998 2.183-1.397 3.573-1.397 1.388 0 2.58.4 3.572 1.397.992.998 1.39 2.195 1.39 3.592 0 1.398-.398 2.595-1.39 3.593m16.873-3.394c-.596-.4-1.19-.798-1.59-.998-.594-.2-1.19-.6-2.182-.998-.993-.4-1.588-.798-2.183-1.197-.398-.4-.795-.798-.795-1.197 0-.4.2-.8.596-.998.398-.2.795-.4 1.59-.4 1.19 0 2.182.2 3.572.8.595.198.794.198.992-.4l.596-1.198c.198-.4.198-.798-.397-1.197-1.19-.798-2.78-1.198-4.764-1.198-1.788 0-3.177.4-4.17 1.397-.992.998-1.39 1.996-1.39 3.194 0 1.197.398 2.195 1.192 2.993.794.797 1.787 1.396 3.374 2.194 1.19.6 2.184.998 2.78 1.397.595.4.794.8.794 1.398 0 .4-.2.8-.596 1.198-.397.2-.993.4-1.588.4-1.19 0-2.58-.4-4.17-1.2-.594-.198-.793-.198-.99.2l-.795 1.597c-.198.4 0 .6.2.8 1.587 1.196 3.374 1.595 5.36 1.595 1.785 0 3.175-.4 4.366-1.397.992-.997 1.588-1.994 1.588-3.39 0-.8-.198-1.398-.397-1.997 0-.4-.397-.998-.992-1.397m7.146-8.58h-1.984c-.2 0-.398 0-.596.198-.198.2-.198.4-.198.6V27.34c0 .2 0 .4.198.6.198.2.397.2.596.2H69.5c.2 0 .397 0 .596-.2.2-.2.2-.4.2-.6V12.574c0-.2 0-.4-.2-.6-.2 0-.397-.198-.595-.198m14.293 12.972c-.2-.4-.596-.6-.993-.4-.794.6-1.786.8-2.58.8-.397 0-.794-.2-.993-.4-.198-.2-.397-.6-.397-1.398v-8.782h4.367c.2 0 .397 0 .596-.2.198 0 .198-.2.198-.398v-1.397c0-.2 0-.4-.197-.6-.2-.198-.397-.198-.596-.198H78.83v-4.59c0-.2 0-.4-.198-.6-.2 0-.2-.2-.596-.2H76.05c-.197 0-.396 0-.594.2-.2.2-.2.4-.2.6v4.59h-1.984c-.595 0-.794.2-.794.798v1.397c0 .2 0 .4.2.598.197.2.395.2.594.2h1.985v8.98c0 1.597.397 2.795.993 3.593.595.8 1.786 1.198 3.176 1.198.794 0 1.786-.2 2.58-.4.794-.198 1.588-.598 1.985-.797.398-.2.597-.598.398-.997l-.595-1.596M99.276 13.57c-1.39-1.396-3.176-2.195-5.36-2.195-2.382 0-4.367.8-5.955 2.595-1.587 1.596-2.38 3.592-2.38 5.987s.793 4.39 2.38 6.186c1.59 1.597 3.574 2.395 5.957 2.395 2.58 0 4.565-.598 6.153-1.995.397-.4.397-.8 0-1.198l-.992-1.397c-.2-.4-.596-.4-.993 0-1.39.998-2.58 1.397-3.97 1.397-1.39 0-2.58-.4-3.573-1.397-.993-.998-1.39-1.996-1.39-3.193h11.315c.397 0 .794-.2.794-.798V18.76c.2-1.996-.595-3.792-1.984-5.19m-9.925 4.59c.2-.997.596-1.995 1.39-2.594.794-.798 1.787-.998 2.978-.998 1.19 0 2.183.4 2.78.998.793.8 1.19 1.597 1.19 2.595H89.35M6.576 11.776H1.017c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598v1.995c0 .2 0 .4.2.6.198.2.397.2.595.2h2.78v14.368c0 1.397-1.192 2.594-2.58 2.594h-.2c-.198 0-.397 0-.595.2-.2.2-.2.4-.2.598v1.996c0 .2 0 .4.2.6.198.198.397.198.595.198h.2c3.373 0 6.152-2.794 6.152-5.987V12.772c0-.2 0-.4-.2-.598-.198-.2-.198-.4-.595-.4z" fill-rule="evenodd" fill="#3e414f"/>\n    <path id="leaf" d="M7.37 10.577C6.97.4.222 0 .222 0-.174 9.18 7.37 10.577 7.37 10.577z" fill-rule="evenodd" fill="#44bb6e"/>\n  </g>\n</svg>'},30349:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18">\n    <path fill="_COLOR1_" d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd"/>\n    <path fill="_COLOR2_" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill-rule="evenodd"/>\n</svg>'},15504:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18"><path d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd" fill="#fff"/><path data-name="Фигура 13 копия 3" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill="#00c151" fill-rule="evenodd"/></svg>'},36683:function(e,t,n){"use strict";n.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="50%" y1="3.556%" x2="50%" y2="97.988%" id="a"><stop stop-color="#00C6FF" offset="0%"/><stop stop-color="#0371FF" offset="100%"/></linearGradient></defs><path d="M7.5 0C3.375 0 0 3.105 0 6.938c0 2.16 1.065 4.087 2.737 5.362l.046 2.7 2.587-1.41-.022-.008a8.106 8.106 0 0 0 2.152.293c4.125 0 7.5-3.105 7.5-6.938C15 3.106 11.625 0 7.5 0zm.773 9.307L6.405 7.335l-3.78 1.972L6.66 5.085l1.935 1.853 3.637-1.853-3.96 4.222z" transform="translate(1)" fill-rule="nonzero" fill="url(#a)"/></svg>'},15455:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">\n  <defs/>\n  <g clip-path="url(#clip0)">\n    <path fill="url(#paint0_radial)" d="M8.0023 1c-2.9224 0-3.7771.003-3.9433.0168-.5997.0499-.973.1443-1.3795.3468-.3133.1556-.5604.336-.8043.589-.4441.461-.7133 1.0285-.8108 1.7029-.0473.3274-.0611.3942-.064 2.0666-.001.5574 0 1.291 0 2.2752 0 2.9208.0033 3.7749.0173 3.9407.0485.5838.14.9511.3338 1.3528.3704.769 1.0778 1.3462 1.9112 1.5616.2885.0744.6072.1153 1.0164.1347.1733.0075 1.9402.0129 3.7082.0129 1.768 0 3.536-.0022 3.705-.0108.4738-.0223.7489-.0592 1.053-.1378a2.9312 2.9312 0 001.9112-1.5649c.1901-.3921.2864-.7733.33-1.3266.0095-.1206.0135-2.0438.0135-3.9645 0-1.921-.0043-3.8406-.0138-3.9612-.0441-.5622-.1405-.9403-.3367-1.3398-.1609-.3271-.3397-.5714-.5992-.8212-.4631-.4424-1.0294-.7116-1.7043-.809-.327-.0473-.3922-.0613-2.0654-.0642H8.0023z"/>\n    <path fill="url(#paint1_radial)" d="M8.0023 1c-2.9224 0-3.7771.003-3.9433.0168-.5997.0499-.973.1443-1.3795.3468-.3133.1556-.5604.336-.8043.589-.4441.461-.7133 1.0285-.8108 1.7029-.0473.3274-.0611.3942-.064 2.0666-.001.5574 0 1.291 0 2.2752 0 2.9208.0033 3.7749.0173 3.9407.0485.5838.14.9511.3338 1.3528.3704.769 1.0778 1.3462 1.9112 1.5616.2885.0744.6072.1153 1.0164.1347.1733.0075 1.9402.0129 3.7082.0129 1.768 0 3.536-.0022 3.705-.0108.4738-.0223.7489-.0592 1.053-.1378a2.9312 2.9312 0 001.9112-1.5649c.1901-.3921.2864-.7733.33-1.3266.0095-.1206.0135-2.0438.0135-3.9645 0-1.921-.0043-3.8406-.0138-3.9612-.0441-.5622-.1405-.9403-.3367-1.3398-.1609-.3271-.3397-.5714-.5992-.8212-.4631-.4424-1.0294-.7116-1.7043-.809-.327-.0473-.3922-.0613-2.0654-.0642H8.0023z"/>\n    <path fill="#fff" stroke="#fff" stroke-width=".4" d="M8.0002 2.9091c-1.3826 0-1.556.006-2.099.0308-.542.0248-.912.1106-1.2357.2365-.3348.13-.6188.304-.9018.587-.2831.283-.457.567-.5875.9018-.1262.3238-.2121.6938-.2365 1.2356-.0243.543-.0307.7166-.0307 2.0992s.0062 1.5556.0308 2.0986c.025.542.1107.912.2365 1.2357.1301.3348.304.6188.5871.9018.2829.2832.5669.4575.9015.5876.324.1259.694.2117 1.2358.2365.543.0247.7164.0307 2.0989.0307 1.3826 0 1.5556-.006 2.0986-.0307.542-.0248.9123-.1106 1.2362-.2365.3348-.1301.6184-.3044.9012-.5876.2832-.283.4571-.567.5876-.9017.1251-.3238.211-.6939.2365-1.2356.0244-.543.0307-.7162.0307-2.0988 0-1.3826-.0063-1.556-.0307-2.0991-.0255-.542-.1114-.912-.2365-1.2356-.1305-.3349-.3044-.6189-.5876-.9019-.2832-.2831-.5663-.457-.9015-.587-.3245-.1259-.6947-.2117-1.2366-.2365-.543-.0247-.7159-.0308-2.0989-.0308h.0016zm-.4567.9174c.1356-.0002.2868 0 .4567 0 1.3592 0 1.5203.005 2.0571.0293.4963.0227.7657.1057.9452.1753.2375.0923.4069.2026.585.3808.1782.1782.2885.3479.3809.5854.0697.1793.1528.4487.1754.945.0244.5367.0297.698.0297 2.0566s-.0053 1.5198-.0297 2.0565c-.0227.4963-.1057.7657-.1754.945-.0922.2376-.2027.4067-.3809.5848-.1782.1782-.3473.2885-.585.3808-.1793.07-.4489.1527-.9452.1754-.5366.0244-.6979.0297-2.057.0297-1.3594 0-1.5205-.0053-2.0572-.0297-.4963-.0229-.7657-.1059-.9453-.1756-.2375-.0922-.4072-.2025-.5854-.3807-.1782-.1782-.2885-.3475-.381-.5851-.0696-.1793-.1527-.4487-.1753-.945-.0244-.5367-.0293-.698-.0293-2.0574 0-1.3595.005-1.5199.0293-2.0565.0227-.4964.1056-.7658.1753-.9452.0923-.2376.2028-.4073.381-.5855.1782-.1782.3479-.2885.5854-.381.1795-.07.449-.1527.9453-.1755.4696-.0212.6516-.0276 1.6004-.0286v.0012zm3.1741.8454a.6108.6108 0 100 1.2215.611.611 0 00.6109-.6109.611.611 0 00-.6109-.6109v.0003zm-2.7174.7137C6.5565 5.3856 5.386 6.5562 5.386 8c0 1.4438 1.1705 2.6139 2.6143 2.6139S10.6141 9.4439 10.6141 8c0-1.4438-1.1702-2.6144-2.614-2.6144h.0001zm0 .9175c.9371 0 1.697.7597 1.697 1.697 0 .937-.7599 1.6969-1.697 1.6969-.9372 0-1.697-.7598-1.697-1.697s.7598-1.697 1.697-1.697z"/>\n  </g>\n  <defs>\n    <radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientTransform="matrix(0 -13.875 12.9049 0 4.7188 16.0783)" gradientUnits="userSpaceOnUse">\n      <stop stop-color="#FD5"/>\n      <stop offset=".1" stop-color="#FD5"/>\n      <stop offset=".5" stop-color="#FF543E"/>\n      <stop offset="1" stop-color="#C837AB"/>\n    </radialGradient>\n    <radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientTransform="matrix(1.21736 6.08156 -25.0684 5.01799 -1.345 2.0085)" gradientUnits="userSpaceOnUse">\n      <stop stop-color="#3771C8"/>\n      <stop offset=".128" stop-color="#3771C8"/>\n      <stop offset="1" stop-color="#60F" stop-opacity="0"/>\n    </radialGradient>\n    <clipPath id="clip0">\n      <path fill="#fff" d="M0 0h14v14H0z" transform="translate(1 1)"/>\n    </clipPath>\n  </defs>\n</svg>'},77829:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 68 69">\n  <defs/>\n  <path fill="#21A038" d="M66.3766 44.6397a2.4712 2.4712 0 00-.1543-1.832 2.4533 2.4533 0 00-1.3748-1.2134c-2.7407-1.0115-7.5381-.9412-12.1956-.8682-3.0583.0487-6.2297.0947-9.1238-.1217-15.6578-1.1629-22.2805-7.3024-25.0912-12.26-3.4137-6.0285-2.5064-12.4412-.7-16.0843C21.5383 4.6494 28.5784 1.4769 33.6854.1461c.1966-.0432.167-.146-.0376-.146a34.6033 34.6033 0 00-16.8477 4.3274c-3.228 2.0041-5.6482 3.8595-7.215 5.5363-5.1502 5.4742-7.5382 12.663-6.5717 19.7221 1.0096 7.3349 5.5378 13.7637 12.7663 18.1208 10.0069 6.0232 21.8713 5.5986 30.5159 5.2903 1.715-.065 3.2926-.119 4.714-.119 3.8472 0 6.1921.4056 7.0832 2.2502a3.3896 3.3896 0 01.218 2.1042c-.0592.357.3312.4516.6381.1028 3.2414-3.6918 5.9955-7.9922 7.4277-12.6955zM47.4092 66.1525c-.3526-1.8148-4.959-2.1826-10.2303-2.6072-3.8848-.3191-8.2973-.6707-12.384-1.6687C11.797 58.7067 4.0974 50.0358.5383 41.7029c-.3446-.8114-.6569-.6951-.4711.1514 1.1772 5.4671 3.6644 10.563 7.2459 14.8458 3.5814 4.2828 8.1489 7.6231 13.3062 9.731l.3877.1569c.1974.0793.3913.1523.5815.2191l.5384.2055c.1993.0649.2693.1001.3716.1244l.4226.1407c.1454.0486.2693.0919.4092.1325.14.0406.2693.0838.3985.1217l.4388.1325a34.847 34.847 0 009.035 1.3036h.3688c.4281 0 .7754 0 1.12.019a34.4705 34.4705 0 0012.7178-2.848"/>\n  <path fill="#21A038" d="M27.8693 13.4613c-1.0769 3.9217-.14 8.0219 2.6168 11.546 6.0035 7.6865 20.0971 11.3269 29.5602 7.6459 3.1471-1.2225 5.562-3.1887 6.9996-5.6797a34.1747 34.1747 0 00-3.341-8.9252 8.88 8.88 0 01-3.6479 2.353c-4.4852 1.6228-12.9225.4841-15.7654-2.9751-1.1926-1.4577-1.6019-3.1643-1.155-4.8006.5519-2.0339 2.3584-3.7405 4.9537-4.6871 1.2411-.449 4.0867-.7167 6.3078-.6654a54.8717 54.8717 0 00-7.1936-4.2705 4.4682 4.4682 0 00-1.9006-.4842h-.6866a20.883 20.883 0 00-7.5542 1.3523c-4.6736 1.8203-8.0308 5.3281-9.1992 9.6203"/>\n</svg>'},33825:function(e,t,n){"use strict";n.r(t),t.default='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.318 8.043L4.465 9.59l1.606 5.164c.104.33.508.452.776.233l2.312-1.885c.243-.197.588-.207.84-.023l4.17 3.026c.288.21.695.052.767-.295L17.99 1.118c.078-.38-.294-.695-.655-.555L.313 7.128c-.42.162-.416.757.005.915zm5.494.724l8.106-4.993c.146-.09.296.108.17.224l-6.69 6.218c-.234.22-.386.512-.43.83l-.227 1.69c-.03.224-.346.247-.408.028l-.876-3.08c-.1-.35.045-.726.356-.917z" fill="_COLOR1_"/></g></svg>\n'},75001:function(e,t,n){"use strict";n.r(t),t.default='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g><rect fill="#7B519D" width="20" height="20" rx="3"/><g fill="#FFF"><path d="M15.892 13.177c-.433-.35-.896-.662-1.352-.982-.91-.638-1.74-.688-2.418.34-.38.576-.914.6-1.47.348-1.538-.697-2.724-1.77-3.42-3.332-.307-.69-.303-1.31.417-1.798.38-.26.763-.564.733-1.13-.04-.735-1.828-3.196-2.534-3.456-.294-.108-.584-.1-.882 0-1.655.556-2.34 1.918-1.684 3.53 1.96 4.81 5.407 8.158 10.153 10.202.27.116.57.162.723.204 1.08.01 2.347-1.03 2.712-2.063.352-.995-.392-1.39-.98-1.863zM10.57 3.66c3.47.533 5.07 2.182 5.512 5.677.04.323-.08.81.38.818.483.01.367-.47.37-.793.04-3.29-2.828-6.342-6.16-6.455-.253.036-.773-.173-.806.39-.02.38.417.318.704.362z"/><path d="M11.25 4.617c-.335-.04-.775-.197-.853.266-.082.486.41.437.725.507 2.143.48 2.89 1.26 3.242 3.385.05.31-.05.792.476.712.39-.06.25-.473.282-.714.017-2.04-1.732-3.9-3.873-4.156z"/><path d="M11.446 6.286c-.223.006-.442.03-.524.268-.122.356.136.44.4.483.88.14 1.34.66 1.43 1.536.023.238.174.43.404.403.318-.038.347-.32.337-.59.016-.985-1.097-2.124-2.047-2.1z"/></g></g></g></svg>\n'},74783:function(e,t,n){"use strict";n.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.556 1C1.696 1 1 1.696 1 2.556v10.888C1 14.304 1.696 15 2.556 15h10.888c.86 0 1.556-.696 1.556-1.556V2.556C15 1.696 14.304 1 13.444 1H2.556zm.388 4.278h1.167c.28 0 .389.124.498.443.56 1.633 1.501 3.057 1.89 3.057.148 0 .218-.062.218-.428V6.662c-.047-.778-.46-.848-.46-1.12 0-.132.11-.264.296-.264H8.35c.249 0 .327.132.327.42v2.27c0 .242.1.328.179.328.147 0 .272-.086.536-.35.825-.926 1.408-2.342 1.408-2.342.078-.17.21-.326.498-.326h1.143c.35 0 .428.179.35.42-.148.669-1.54 2.636-1.54 2.636-.14.195-.171.288 0 .514.117.163.521.505.786.824.497.552.863 1.02.972 1.338.093.327-.07.49-.397.49h-1.15c-.436 0-.56-.35-1.339-1.128-.684-.653-.956-.739-1.143-.739-.233 0-.303.063-.303.397v1.027c0 .28-.086.443-.817.443-1.213 0-2.551-.739-3.492-2.1-1.424-1.991-1.812-3.492-1.812-3.796 0-.17.062-.326.388-.326z" fill-rule="nonzero" fill="#4A84C7"/></svg>'},64924:function(e,t,n){"use strict";n.r(t),t.default='<svg width="21" height="21" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.12775 10.39923c-.00065 1.82864.4794 3.6137 1.3919 5.18715L.0402 20.96268 5.5684 19.52c1.5231.82671 3.238 1.26239 4.9832 1.26303h.0045c5.74725 0 10.42575-4.65498 10.4282-10.37539.00095-2.7725-1.0828-5.37933-3.05155-7.34045-1.969-1.96106-4.5872-3.04156-7.37665-3.0428C4.8079.02438.13005 4.67861.12775 10.39922z" fill="#34BC48" fill-rule="nonzero"/><path d="M7.94975 6.06198c-.1952-.43184-.40065-.4405-.58635-.44806-.15185-.00647-.32575-.00607-.49935-.00607-.1737 0-.45605.06494-.69475.32445-.2389.25951-.9121.88683-.9121 2.1627 0 1.27603.9338 2.5089 1.06395 2.68208.1303.17293 1.8026 2.87486 4.45105 3.91436 2.2011.86384 2.649.692 3.12675.64881.47775-.04324 1.5416-.62721 1.75875-1.23278.21715-.60547.21715-1.12444.152-1.23293-.06515-.10808-.23885-.17292-.49945-.3026-.2606-.12969-1.5416-.75715-1.7805-.84359-.23885-.08644-.4126-.12968-.5863.12993-.17375.25937-.6728.84334-.82485 1.01626-.152.17333-.304.19492-.5646.06524-.2606-.13008-1.0998-.40363-2.09535-1.28707-.7746-.68733-1.29755-1.53618-1.4496-1.7958-.152-.25936-.01625-.39984.11445-.52913.117-.1162.2606-.3027.3909-.45414.13-.15142.17345-.25951.2603-.43244.08685-.17317.04345-.3246-.0217-.45428-.06515-.12969-.57155-1.41218-.80325-1.92494" fill="#FFF"/></g></svg>'},39186:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n    <style>\n        @-webkit-keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        @keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        #dot-1 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0s;\n        }\n        #dot-2 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: .3s;\n        }\n        #dot-3 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0.6s;\n        }\n    </style>\n  <g fill="#18c139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n    <g transform="translate(43 14)">\n      <circle id=\'dot-1\' cx="5" cy="5" r="5"/>\n      <circle id=\'dot-2\' cx="23" cy="5" r="5"/>\n      <circle id=\'dot-3\' cx="41" cy="5" r="5"/>\n    </g>\n  </g>\n</svg>'},1900:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n  <g fill="#18C139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n  </g>\n</svg>'},75630:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119 119"><path fill="#e8ecf1" d="M60.4 117.6c-13.7.3-27.3-5.2-37.8-14 7.8-7 17.1-11.9 27-14.5 2-.3 2.3-6.4 2.3-6.4-3.8-4.1-6.7-9.3-7.8-14.8-3.8 0-6.1-9-2.3-12.2-.3-3.5-4.7-26.2 18.6-26.2S79 52.5 79 55.6c3.8 3.2 1.5 12.2-2.3 12.2-1.2 5.5-3.8 10.8-7.8 14.8 0 0 0 6.1 2.3 6.4 9.9 2.6 19.2 7.6 27 14.5-7.9 6.8-20.6 14.1-37.8 14.1z"/><circle cx="59.5" cy="59.5" r="58" fill="none" stroke="#e8ecf1" stroke-miterlimit="10" stroke-width="3.5"/></svg>'},96955:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h24v24H0z"/>\n        <path fill="_COLOR1_" d="M15.4 7.4L14 6l-6 6 6 6 1.4-1.4-4.6-4.6z"/>\n    </g>\n</svg>\n'},68611:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n  <circle cx="20" cy="20" r="20" fill="#f1f0f0"/>\n  <path stroke="#181818" stroke-width="2" fill="#fff" d="M147.1 161.893h-20.178a4.87 4.87 0 01-4.862-4.879v-2.928c0-5.744 3.757-11.833 13.37-12.686l1.7-.182v.087l1.459.155c9.613.851 13.37 6.921 13.37 12.649v2.919a4.864 4.864 0 01-4.859 4.865z" transform="translate(-117 -129)"/>\n  <rect width="17" height="5" x="12" y="19" fill="#181818" rx="2.5" ry="2.5"/>\n  <path d="M137.993 132.009L138 141" stroke="#181818" stroke-width="2" fill="#fff" transform="translate(-117 -129)"/>\n  <path d="M147.083 153.872h.037a1.927 1.927 0 011.927 1.927v.021a1.927 1.927 0 01-1.927 1.927h-.037a1.927 1.927 0 01-1.927-1.927v-.02a1.927 1.927 0 011.927-1.928z" fill="#00d45c" transform="translate(-117 -129)"/>\n  <path d="M128.122 153.872h.037a1.927 1.927 0 011.927 1.927v.021a1.927 1.927 0 01-1.927 1.927h-.037a1.927 1.927 0 01-1.927-1.927v-.02a1.927 1.927 0 011.927-1.928z" fill="#00d45c" transform="translate(-117 -129)"/>\n  <path fill="#181818" fill-rule="evenodd" stroke="#000" stroke-width="1" d="M11.823 14.649a14.289 14.289 0 00-3.127 5 15.473 15.473 0 00-1 7.1c.3 2.649.232 4.854 10.3 4.249 11.756-.706 12.748 1.076 14.2.35s.971.242.971.242.495 1.181-3.882 1.21c-2.018.014-7.347-.08-10.016-.118-10.313-.145-10.392-.019-12.549-1.334-2.414-1.472-1.7-7.019-.97-9.2s2.305-5.325 3.639-6.051 2.434-1.448 2.434-1.448z"/>\n  <path fill="none" fill-rule="evenodd" stroke="#181818" stroke-width=".829" d="M20.258 12.467c2.213 0 4.008.487 4.008 1.087s-1.795 1.087-4.008 1.087-4.008-.487-4.008-1.087 1.794-1.087 4.008-1.087z"/>\n  <path fill="none" fill-rule="evenodd" stroke="#000" stroke-width="1" d="M17.881 26s.856 2 2.617 2c1.718 0 2.617-2 2.617-2"/>\n  <circle cx="20" cy="6" r="4" fill="#fff" stroke="#000" stroke-width="1"/>\n</svg>\n'},13339:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="97" height="79">\n  <g fill-rule="evenodd" fill="_COLOR1_">\n    <circle cx="3.282" cy="2.5" r="2.5"/>\n    <circle cx="93.782" cy="45" r="3"/>\n    <path d="M3.2 72.411l-.526-.512.526-.511a15 15 0 0 0 3.806-6.11l.09-.278.09.278a15 15 0 0 0 3.807 6.11l.526.511-.526.512a15 15 0 0 0-3.806 6.11l-.09.278-.091-.278A15 15 0 0 0 3.2 72.41zM78.946 9.46l-1.179-1.146 1.179-1.146a15 15 0 0 0 3.806-6.11L83.096 0l.345 1.058a15 15 0 0 0 3.806 6.11l1.178 1.146-1.178 1.146a15 15 0 0 0-3.806 6.11l-.345 1.057-.344-1.057a15 15 0 0 0-3.806-6.11z"/>\n    <g fill-rule="nonzero">\n      <path d="M47 69.25c14.497 0 26.25-11.753 26.25-26.25S61.497 16.75 47 16.75 20.75 28.503 20.75 43 32.503 69.25 47 69.25zM47 73c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30 16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30z"/>\n      <path d="M56.63 30.805a1.875 1.875 0 0 1 3.24 1.89l-13.125 22.5a1.875 1.875 0 0 1-2.946.38l-9.375-9.374a1.875 1.875 0 1 1 2.652-2.652l7.655 7.655 11.9-20.399z"/>\n    </g>\n  </g>\n</svg>'},54389:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="_COLOR1_" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},80441:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n    <g fill="none" fill-rule="evenodd" transform="translate(2 2)">\n        <circle cx="12" cy="12" r="12" fill="#FFF" opacity="1"/>\n        <circle cx="12" cy="12" r="12.75" stroke="#222D38" stroke-width="1.5" opacity="1"/>\n        <g fill="#222D38" opacity="1" transform="translate(6 6)">\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="rotate(45 6.24 6.01)"/>\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="scale(-1 1) rotate(45 0 -9.058)"/>\n        </g>\n    </g>\n</svg>\n'},799:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#fff">\n            <g>\n                <g>\n                    <path d="M11 10v1.5H0V10h11zm0-5v1.5H0V5h11zm0-5v1.5H0V0h11z" transform="translate(-856 -1718) translate(856 1718) translate(3 2)"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n'},66574:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="24"><defs/><g fill="none" fill-rule="evenodd"><path d="M0 0h12v24H0z"/><circle cx="6" cy="5" r="2" fill="_COLOR1_"/><circle cx="6" cy="12" r="2" fill="_COLOR1_"/><circle cx="6" cy="19" r="2" fill="_COLOR1_"/></g></svg>'},88921:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="_COLOR1_" fill-rule="evenodd" transform="translate(7 7)">\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="rotate(45 5.81 5.595)"/>\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="scale(-1 1) rotate(45 0 -8.433)"/>\n  </g>\n</svg>'},12320:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <path fill="_COLOR1_" fill-rule="nonzero" d="M19 14h4V2h-4v12zM15 2H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 22l6.58-6.59c.37-.36.59-.86.59-1.41V4a2 2 0 0 0-2-2z"/>\n</svg>'},58915:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <path fill="_COLOR1_" fill-rule="nonzero" d="M23 11a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 2 7.59 8.58C7.22 8.95 7 9.45 7 10v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2zM1 22h4V10H1v12z"/>\n</svg>'},31617:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="34"><path fill="_COLOR1_" d="M81.9 6.6h3.2v.8h-3.2zM9.2 20.2c.6.1 1.3.1 2 .1 3.9 0 7.3-1.2 9.4-3.6 1.6-1.7 2.4-4.1 2.4-7 0-2.9-1-5.3-2.7-6.9C18.4 1 15.5 0 11.6 0 8.4 0 5.9.3 4 .6v16.2H0v3.3h4V25H.1v3.3H4v5.4h4v-5.4h6.6V25H8v-4.8h1.2zM8 16.5V3.7c.7-.2 2-.3 3.7-.3 4.4 0 7.3 2.1 7.3 6.5 0 4.5-2.9 7-7.7 7-1.4 0-2.5-.1-3.3-.4z"/></svg>'},12103:function(e,t,n){"use strict";n.r(t),t.default='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n  </g>\n</svg>'},28122:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},36972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.5" mask="url(#b)"><path d="M13.343 16.814l-4.657-4.657L13.343 7.5"/></g></g></svg>'},62842:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR2_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z"/>\n    </g>\n</svg>\n'},93759:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR1_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="1"/>\n        <path fill="#5e5f61" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="0.7"/>\n    </g>\n</svg>\n'},39581:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 3v12.5a3.5 3.5 0 1 1-2-3.16V6.47L9 8.6v8.9a3.5 3.5 0 1 1-2-3.16V6l14-3z"/></g></svg>'},54304:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>\n'},28149:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M13 9V3.5L18.5 9H13zM6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6z"/></g></svg>'},28372:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10c5.523 0 10-4.477 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>'},69357:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 18V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></g></svg>'},43055:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></g></svg>'},54983:function(e,t,n){"use strict";n.r(t),t.default='<svg width="33" height="42" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.14273 26.7757C8.82522 26.7757 9.37848 27.3289 9.37848 28.0114C9.37848 31.8539 12.5045 34.98 16.347 34.98C20.1896 34.98 23.3156 31.8539 23.3156 28.0114C23.3156 27.3289 23.8689 26.7757 24.5514 26.7757C25.2338 26.7757 25.7871 27.3289 25.7871 28.0114C25.7871 33.2167 21.5524 37.4515 16.347 37.4515C11.1419 37.4515 6.90697 33.2167 6.90697 28.0114C6.90697 27.3289 7.46032 26.7757 8.14273 26.7757Z" fill="#445669"/>\n<path d="M16.3472 16.5601C18.8966 16.5601 20.9707 18.6342 20.9707 21.1836V28.3054C20.9707 30.8549 18.8966 32.929 16.3472 32.929C13.7978 32.929 11.7237 30.8549 11.7237 28.3054V21.1836C11.7237 18.6342 13.7978 16.5601 16.3472 16.5601ZM14.1952 28.3054C14.1952 29.4921 15.1606 30.4575 16.3472 30.4575C17.5337 30.4575 18.4992 29.492 18.4992 28.3054V21.1836C18.4992 19.997 17.5337 19.0316 16.3472 19.0316C15.1606 19.0316 14.1952 19.997 14.1952 21.1836V28.3054Z" fill="#445669"/>\n<path d="M16.3468 34.9799C17.0293 34.9799 17.5825 35.5332 17.5825 36.2157V40.0394C17.5825 40.7218 17.0293 41.2751 16.3468 41.2751C15.6643 41.2751 15.111 40.7218 15.111 40.0394V36.2157C15.111 35.5333 15.6643 34.9799 16.3468 34.9799Z" fill="#445669"/>\n<path d="M8.44618 14.7048C10.5565 12.5943 13.3624 11.4321 16.3471 11.4321C19.3317 11.4321 22.1376 12.5943 24.2479 14.7048C24.7305 15.1873 24.7305 15.9699 24.2479 16.4524C23.7654 16.9349 22.9828 16.9349 22.5004 16.4524C20.8568 14.8088 18.6714 13.9036 16.3471 13.9036C14.0227 13.9036 11.8374 14.8088 10.1938 16.4524C9.95256 16.6937 9.63631 16.8143 9.31997 16.8143C9.00372 16.8143 8.68754 16.6936 8.4461 16.4524C7.96362 15.9698 7.96362 15.1873 8.44618 14.7048Z" fill="#445669"/>\n<path d="M4.28306 10.5426C10.9346 3.89089 21.7579 3.89089 28.4096 10.5426C28.8921 11.0251 28.8921 11.8076 28.4096 12.2901C27.927 12.7727 27.1445 12.7726 26.662 12.2901C20.9738 6.60215 11.7188 6.60215 6.03064 12.2901C5.78944 12.5315 5.47319 12.6521 5.15685 12.6521C4.84052 12.6521 4.52434 12.5314 4.28306 12.2901C3.8005 11.8076 3.8005 11.0252 4.28306 10.5426Z" fill="#445669"/>\n<path d="M0.361938 6.62111C4.63165 2.35139 10.3084 0 16.3467 0C22.3849 0 28.0617 2.35139 32.3314 6.62103C32.814 7.10359 32.814 7.88604 32.3314 8.36861C31.8489 8.85117 31.0663 8.85117 30.5839 8.36861C22.7335 0.518277 9.95993 0.518277 2.10952 8.36861C1.86832 8.60997 1.55206 8.73057 1.23573 8.73057C0.919476 8.73057 0.603302 8.60997 0.361938 8.36869C-0.120625 7.88612 -0.120625 7.10375 0.361938 6.62111Z" fill="#445669"/>\n</svg>\n'},42899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">\n  <g fill="none" fill-rule="evenodd">    \n    <path d="M0 0h32v32H0z"/>\n    <circle cx="16" cy="16" r="16" fill="_COLOR1_"/>\n    <path fill="_COLOR2_" fill-rule="nonzero" d="M11.35 22.482l.697-4.32 8.84-2.16-8.84-2.16-.697-4.32 13.355 6.48-13.355 6.48zm.301.65c-.513.25-1.087-.194-.995-.768l.697-4.32a.713.713 0 0 1 .53-.583l8.841-2.16v1.4l-8.84-2.16a.713.713 0 0 1-.531-.582l-.697-4.32c-.092-.574.482-1.017.995-.768l13.355 6.48c.537.26.537 1.041 0 1.301l-13.355 6.48z"/>\n  </g>\n</svg>'},99350:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M493.815 70.629c-11.001-1.003-20.73 7.102-21.733 18.102l-2.65 29.069C424.473 47.194 346.429 0 256 0 158.719 0 72.988 55.522 30.43 138.854c-5.024 9.837-1.122 21.884 8.715 26.908 9.839 5.024 21.884 1.123 26.908-8.715C102.07 86.523 174.397 40 256 40c74.377 0 141.499 38.731 179.953 99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899 4.651-6.419 8.989-4.337 21.479 4.651 27.899l86.475 61.761c12.674 9.035 30.155.764 31.541-14.459l9.711-106.53c1.004-11.001-7.1-20.731-18.1-21.734zM472.855 346.238c-9.838-5.023-21.884-1.122-26.908 8.715C409.93 425.477 337.603 472 256 472c-74.377 0-141.499-38.731-179.953-99.408l28.517 20.367c8.989 6.419 21.479 4.337 27.899-4.651 6.419-8.989 4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-.921-31.541 14.459L.085 419.637c-1.003 11 7.102 20.73 18.101 21.733 11.014 1.001 20.731-7.112 21.733-18.102l2.65-29.069C87.527 464.806 165.571 512 256 512c97.281 0 183.012-55.522 225.57-138.854 5.024-9.837 1.122-21.884-8.715-26.908z"/></svg>'},23791:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DD2E44" d="M11.626 7.488c-.112.112-.197.247-.268.395l-.008-.008L.134 33.141l.011.011c-.208.403.14 1.223.853 1.937.713.713 1.533 1.061 1.936.853l.01.01L28.21 24.735l-.008-.009c.147-.07.282-.155.395-.269 1.562-1.562-.971-6.627-5.656-11.313-4.687-4.686-9.752-7.218-11.315-5.656z"/><path fill="#EA596E" d="M13 12L.416 32.506l-.282.635.011.011c-.208.403.14 1.223.853 1.937.232.232.473.408.709.557L17 17l-4-5z"/><path fill="#A0041E" d="M23.012 13.066c4.67 4.672 7.263 9.652 5.789 11.124-1.473 1.474-6.453-1.118-11.126-5.788-4.671-4.672-7.263-9.654-5.79-11.127 1.474-1.473 6.454 1.119 11.127 5.791z"/><path fill="#AA8DD8" d="M18.59 13.609c-.199.161-.459.245-.734.215-.868-.094-1.598-.396-2.109-.873-.541-.505-.808-1.183-.735-1.862.128-1.192 1.324-2.286 3.363-2.066.793.085 1.147-.17 1.159-.292.014-.121-.277-.446-1.07-.532-.868-.094-1.598-.396-2.11-.873-.541-.505-.809-1.183-.735-1.862.13-1.192 1.325-2.286 3.362-2.065.578.062.883-.057 1.012-.134.103-.063.144-.123.148-.158.012-.121-.275-.446-1.07-.532-.549-.06-.947-.552-.886-1.102.059-.549.55-.946 1.101-.886 2.037.219 2.973 1.542 2.844 2.735-.13 1.194-1.325 2.286-3.364 2.067-.578-.063-.88.057-1.01.134-.103.062-.145.123-.149.157-.013.122.276.446 1.071.532 2.037.22 2.973 1.542 2.844 2.735-.129 1.192-1.324 2.286-3.362 2.065-.578-.062-.882.058-1.012.134-.104.064-.144.124-.148.158-.013.121.276.446 1.07.532.548.06.947.553.886 1.102-.028.274-.167.511-.366.671z"/><path fill="#77B255" d="M30.661 22.857c1.973-.557 3.334.323 3.658 1.478.324 1.154-.378 2.615-2.35 3.17-.77.216-1.001.584-.97.701.034.118.425.312 1.193.095 1.972-.555 3.333.325 3.657 1.479.326 1.155-.378 2.614-2.351 3.17-.769.216-1.001.585-.967.702.033.117.423.311 1.192.095.53-.149 1.084.16 1.233.691.148.532-.161 1.084-.693 1.234-1.971.555-3.333-.323-3.659-1.479-.324-1.154.379-2.613 2.353-3.169.77-.217 1.001-.584.967-.702-.032-.117-.422-.312-1.19-.096-1.974.556-3.334-.322-3.659-1.479-.325-1.154.378-2.613 2.351-3.17.768-.215.999-.585.967-.701-.034-.118-.423-.312-1.192-.096-.532.15-1.083-.16-1.233-.691-.149-.53.161-1.082.693-1.232z"/><path fill="#AA8DD8" d="M23.001 20.16c-.294 0-.584-.129-.782-.375-.345-.432-.274-1.061.156-1.406.218-.175 5.418-4.259 12.767-3.208.547.078.927.584.849 1.131-.078.546-.58.93-1.132.848-6.493-.922-11.187 2.754-11.233 2.791-.186.148-.406.219-.625.219z"/><path fill="#77B255" d="M5.754 16c-.095 0-.192-.014-.288-.042-.529-.159-.829-.716-.67-1.245 1.133-3.773 2.16-9.794.898-11.364-.141-.178-.354-.353-.842-.316-.938.072-.849 2.051-.848 2.071.042.551-.372 1.031-.922 1.072-.559.034-1.031-.372-1.072-.923-.103-1.379.326-4.035 2.692-4.214 1.056-.08 1.933.287 2.552 1.057 2.371 2.951-.036 11.506-.542 13.192-.13.433-.528.712-.958.712z"/><circle fill="#5C913B" cx="25.5" cy="9.5" r="1.5"/><circle fill="#9266CC" cx="2" cy="18" r="2"/><circle fill="#5C913B" cx="32.5" cy="19.5" r="1.5"/><circle fill="#5C913B" cx="23.5" cy="31.5" r="1.5"/><circle fill="#FFCC4D" cx="28" cy="4" r="2"/><circle fill="#FFCC4D" cx="32.5" cy="8.5" r="1.5"/><circle fill="#FFCC4D" cx="29.5" cy="12.5" r="1.5"/><circle fill="#FFCC4D" cx="7.5" cy="23.5" r="1.5"/></svg>'},56482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z"/><path fill="#EE9547" d="M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z"/></svg>'},63365:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 18.084c0 .503-.12.975-.321 1.404-1.341 4.326-7.619 4.01-16.549 4.221-1.493.035-.639 1.798-.115 5.668.341 2.517-1.282 6.382-4.01 6.382-4.498 0-.171-3.548-4.148-12.322-2.125-4.688-6.875-2.062-6.875-6.771V5.948c0-1.833.18-3.595 2.758-3.885C8.195 1.781 7.633 0 11.238 0h18.044c1.838 0 3.333 1.496 3.333 3.334 0 .762-.267 1.456-.698 2.018 1.02.571 1.72 1.649 1.72 2.899 0 .76-.266 1.454-.696 2.015 1.023.57 1.725 1.649 1.725 2.901 0 .909-.368 1.733-.961 2.336.757.611 1.251 1.535 1.251 2.581z"/><path fill="#EE9547" d="M23.02 14.751h8.604c1.17 0 2.268.626 2.866 1.633.246.415.109.952-.307 1.199-.415.247-.952.108-1.199-.307-.283-.479-.806-.775-1.361-.775h-8.81c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583H28.7c.483 0 .875.392.875.875s-.392.875-.875.875h-5.888c-1.838 0-3.333-1.495-3.333-3.333 0-1.025.475-1.932 1.205-2.544-.615-.605-.998-1.445-.998-2.373 0-1.028.478-1.938 1.212-2.549-.611-.604-.99-1.441-.99-2.367 0-1.12.559-2.108 1.409-2.713-.524-.589-.852-1.356-.852-2.204 0-1.838 1.495-3.333 3.333-3.333h5.484c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.416.245-.953.11-1.199-.305-.285-.479-.808-.776-1.363-.776h-5.484c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583h6.506c1.17 0 2.27.626 2.867 1.633.247.416.11.953-.305 1.199-.419.251-.954.11-1.199-.305-.289-.487-.799-.777-1.363-.777h-7.063c-.873 0-1.583.711-1.583 1.584s.71 1.583 1.583 1.583h8.091c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.417.246-.953.11-1.199-.305-.289-.486-.799-.776-1.363-.776H23.02c-.873 0-1.583.71-1.583 1.583s.709 1.584 1.583 1.584z"/></svg>'},14534:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16 18c-.419 0-.809-.265-.949-.684C14.848 16.717 14.034 15 13 15c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.741-.632-1.265C9.177 16.307 10.356 13 13 13s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051zm10 0c-.419 0-.809-.265-.948-.684C24.849 16.717 24.033 15 23 15c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.741-.632-1.265C19.177 16.307 20.355 13 23 13s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-8 4c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-1.344 6.75-9 6.75S9 23 9 23z"/><path fill="#664500" d="M18 27.594c-3.596 0-6.272-.372-7.937-.745l-.825-1.871c.823.312 3.889.897 8.763.897 4.954 0 8.037-.616 8.864-.938l-.701 1.842c-1.634.38-4.419.815-8.164.815z"/></svg>'},22426:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="12.5" rx="2.5" ry="5.5"/><ellipse fill="#664500" cx="24.5" cy="12.5" rx="2.5" ry="5.5"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/></svg>'},78393:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/><path fill="#664500" d="M30.6 18.2c-.114-.085-1.931-1.426-4.646-2.344.026-.115.046-.233.046-.356 0-.369-.139-.703-.359-.964 1.802-.52 3.334-.536 3.361-.536.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998-.221 0-5.451.038-8.707 3.293-.286.286-.372.716-.217 1.09.154.373.52.617.924.617 4.59 0 8.363 2.772 8.401 2.801.18.134.39.198.598.198.305 0 .605-.139.802-.4.33-.443.24-1.068-.201-1.399zm-14.893-2.907C12.452 12.038 7.221 12 7 12c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.026 0 1.558.016 3.361.536-.221.261-.36.595-.36.964 0 .123.019.241.047.356-2.716.918-4.533 2.259-4.647 2.344-.442.331-.531.958-.2 1.399.196.263.497.401.801.401.208 0 .419-.065.599-.2.037-.028 3.787-2.8 8.4-2.8.404 0 .769-.244.924-.617.155-.374.069-.804-.217-1.09z"/></svg>'},69861:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M27.335 22.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 23.472 11.788 28.5 18 28.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zM26 19c-.419 0-.809-.265-.948-.684C24.849 17.717 24.033 16 23 16c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.74-.632-1.265C19.177 17.307 20.355 14 23 14s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-10 0c-.419 0-.809-.265-.949-.684C14.848 17.717 14.034 16 13 16c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.74-.632-1.265C9.177 17.307 10.355 14 13 14s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051z"/><path fill="#FFAC33" d="M33.175 8.316s-9.042.161-15.175.161c-3.905 0-15.206-.118-15.206-.118l-.521.876c3.043 1.856 9.064 2.917 15.727 2.917 6.596 0 12.576-1.04 15.652-2.86l.078-.047s-.374-.664-.555-.929z"/><path fill="#5DADEC" d="M23.777.345c-1.212-.094-2.473-.159-3.773-.19C19.343.139 18.676.129 18 .129c-.672 0-1.336.01-1.993.025-1.302.031-2.564.096-3.777.19C5.34.88.169 2.451.169 5.287c0 3.588 8.264 5.771 17.831 5.771s17.831-2.183 17.831-5.771c0-2.835-5.168-4.405-12.054-4.942zM18 7.383c-6.861 0-12.91-.833-12.91-2.736 0-.536.494-1.023 1.339-1.449 1.153-.581 2.978-1.044 5.189-1.349 1.911-.262 4.098-.41 6.382-.41 2.291 0 4.485.148 6.4.413 2.242.31 4.086.783 5.232 1.377.807.418 1.278.894 1.278 1.418 0 1.903-6.049 2.736-12.91 2.736z"/><path fill="#3B94D9" d="M24.4 1.853c2.242.31 4.086.783 5.232 1.377l.062.017c-2.285-1.674-4.57-2.56-5.917-2.902-1.212-.094-2.473-.159-3.773-.19l.018.007L24.4 1.853zM6.429 3.199c1.153-.581 2.978-1.044 5.189-1.349L15.984.162l.023-.008c-1.302.031-2.564.096-3.777.19-1.347.342-3.633 1.227-5.919 2.902l.118-.047z"/><path fill="#FFCC4D" d="M28.472 3.375c-.66-.443-1.346-.91-2.001-1.26C23.947.765 21.063 0 18 0c-2.929 0-5.695.7-8.14 1.941-1.089.553-1.881.999-2.17 1.434h20.782z"/></svg>'},12239:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#AA8DD8" cx="18" cy="18" r="18"/><path fill="#AA8DD8" d="M10 4C7.42 4 4.369 1.534 3.414.586 2.843.014 1.981-.157 1.235.153.487.462 0 1.191 0 2c0 3.459 1.672 10 8 10 .757 0 1.45-.428 1.789-1.106l2-4c.31-.62.277-1.356-.088-1.946C11.337 4.359 10.693 4 10 4zM34.766.153c-.75-.311-1.607-.139-2.18.434C31.7 1.472 28.589 4 26 4c-.693 0-1.337.359-1.701.949-.364.589-.397 1.326-.088 1.946l2 4C26.55 11.572 27.242 12 28 12c6.328 0 8-6.541 8-10 0-.809-.487-1.538-1.234-1.847z"/><path fill="#553986" d="M27.335 25.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 26.472 11.788 31.5 18 31.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zm-11.628-7.336C12.452 15.038 7.221 15 7 15c-.552 0-.999.447-.999.998-.001.552.446 1.001.998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 15c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.001.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},79378:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 12.458c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4 3.262-4.35 7.616-4.4 7.8-4.4.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.156.002-3.569.086-6.205 3.6-.195.262-.496.4-.8.4zm23.002 2.125c-.305 0-.604-.138-.801-.4-2.592-3.457-6.961-2.627-7.004-2.62-.547.108-1.068-.243-1.177-.784-.108-.542.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.137-.389.201-.598.201zm-5.747 8.994c-.188-.11-.432-.087-.597.06-.01.008-1.013.863-4.657.863-3.641 0-4.646-.854-4.646-.854-.159-.16-.404-.19-.6-.082-.195.111-.293.339-.238.557.01.044 1.144 4.379 5.484 4.379s5.474-4.335 5.485-4.379c.053-.213-.044-.431-.231-.544z"/></svg>'},74373:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#FFAC33" d="M32.093 29.177c-.218-.631-.559-1.217-1.044-1.702l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795l3.685 3.685c.214.214.453.406.709.573 2.973-1.169 5.556-3.1 7.51-5.562z"/><path fill="#664500" d="M6.999 17c-.15 0-.303-.034-.446-.105-.494-.247-.694-.848-.447-1.342C6.158 15.448 7.424 13 11 13c3.577 0 4.842 2.449 4.894 2.553.247.494.046 1.095-.447 1.342-.491.247-1.085.049-1.336-.436C14.067 16.378 13.28 15 11 15c-2.317 0-3.099 1.433-3.106 1.447-.175.351-.528.553-.895.553zM29 17c.15 0 .303-.034.446-.105.494-.247.694-.848.447-1.342-.052-.105-1.318-2.553-4.894-2.553-3.577 0-4.842 2.449-4.894 2.553-.247.494-.046 1.095.447 1.342.491.247 1.085.049 1.336-.436.044-.081.831-1.459 3.111-1.459 2.317 0 3.099 1.433 3.106 1.447.175.351.528.553.895.553zm.503 6.52c.323-.749.461-1.257.466-1.277.134-.534-.19-1.075-.725-1.21-.536-.136-1.077.188-1.215.723C27.955 22.051 26.081 29 18 29s-9.955-6.949-10.03-7.245c-.138-.534-.679-.858-1.215-.723-.534.135-.858.676-.725 1.21C6.052 22.33 8.331 31 18 31c1.65 0 3.07-.266 4.315-.685 4.33-1.458 6.374-4.91 7.188-6.795z"/><path fill="#E75A70" d="M33.175 27.309l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795L26 34c1.728 1.728 5 2 7 0s1.903-4.962.175-6.691z"/></svg>'},5541:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#292F33" d="M1.24 11.018c.24.239 1.438.957 1.677 1.675.24.717.72 4.784 2.158 5.981 1.483 1.232 7.077.774 8.148.24 2.397-1.195 2.691-4.531 3.115-6.221.239-.957 1.677-.957 1.677-.957s1.438 0 1.678.956c.424 1.691.72 5.027 3.115 6.221 1.072.535 6.666.994 8.151-.238 1.436-1.197 1.915-5.264 2.155-5.982.238-.717 1.438-1.435 1.677-1.674.241-.239.241-1.196 0-1.436-.479-.478-6.134-.904-12.223-.239-1.215.133-1.677.478-4.554.478-2.875 0-3.339-.346-4.553-.478-6.085-.666-11.741-.24-12.221.238-.239.239-.239 1.197 0 1.436z"/><path fill="#664500" d="M27.335 23.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628z"/></svg>'},87966:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M25 26H11c-.552 0-1-.447-1-1s.448-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"/></svg>'},69860:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M12 28c2-5 13-5 13-3 0 1-8-1-13 3z"/></svg>'},92380:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><ellipse fill="#664500" cx="11.5" cy="15.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm23.002 3c-.305 0-.604-.138-.801-.4-2.592-3.456-6.961-2.628-7.004-2.62-.547.11-1.068-.244-1.177-.784-.108-.541.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.136-.389.201-.598.201zm-8.922 13.042c1.335-.412 2.629-1.156 2.629-2.5 0-2.619-4.912-2.968-5.472-2.999-.274-.026-.509.193-.527.468-.017.274.19.511.464.53.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.014.001-.024.009-.037.011-.052.006-.101.018-.146.04l-.019.011c-.047.026-.088.057-.125.098-.014.015-.024.031-.036.048-.023.032-.044.063-.059.102-.012.029-.018.061-.024.092-.004.023-.016.044-.018.067 0 .011.004.021.004.031s-.005.021-.004.031c.001.024.013.045.018.068.006.031.011.061.023.09.013.03.031.057.049.084.017.024.032.05.052.071.023.023.05.041.078.061.024.017.046.034.074.047.032.015.066.021.101.027.024.006.044.018.069.02.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.274.02-.481.257-.464.53.017.265.237.469.499.469l.028-.001c.56-.031 5.472-.38 5.472-2.999 0-1.345-1.294-2.089-2.629-2.501z"/><path fill="#FFAC33" d="M34.202 25.803c-.236-.79-.779-1.486-1.578-1.875-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.11-4.087 1.406-.105.215-.18.437-.23.659-.775 2.556.64 6.341 2.192 7.948 1.23.13 2.953-.198 4.513-.873 1.5-1.46 2.733-3.183 3.653-5.088z"/><path fill="#DD2E44" d="M35.654 27.222c.739-1.516.11-3.347-1.405-4.086-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.109-4.087 1.406-.105.215-.18.437-.23.659-.774 2.556.64 6.341 2.192 7.948 2.223.234 6.077-.979 7.615-3.161.145-.179.273-.374.378-.589z"/></svg>'},94475:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCB4C" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#65471B" d="M15.457 15.815c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.144.591.177.143.427.147.61.014.013-.009 1.262-.902 3.703-.902 2.426 0 3.674.881 3.702.901.088.066.193.099.298.099.11 0 .221-.037.311-.109.179-.142.238-.386.146-.594z"/><path fill="#F4F7F9" d="M31 13.5c0 3.59-2.91 6.5-6.5 6.5S18 17.09 18 13.5 20.91 7 24.5 7 31 9.91 31 13.5z"/><circle fill="#292F33" cx="24.5" cy="13.5" r="2.5"/><path fill="#65471B" d="M7 21.262c0 3.964 4.596 9 11 9s11-5 11-9c0 0-10.333 2.756-22 0z"/><path fill="#E8596E" d="M18.545 23.604l-1.091-.005c-3.216-.074-5.454-.596-5.454-.596v6.961c0 3 2 6 6 6s6-3 6-6v-6.92c-1.922.394-3.787.542-5.455.56z"/><path fill="#DD2F45" d="M18 31.843c.301 0 .545-.244.545-.545v-7.694l-1.091-.005v7.699c.001.301.245.545.546.545z"/></svg>'},70881:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M23.485 28.879C23.474 28.835 22.34 24.5 18 24.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.008 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.09.219.137.344.137.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zM11.226 15.512c-.317 0-.636.039-.947.116-2.87.707-3.513 4.121-3.539 4.267-.04.223.076.443.281.54.067.031.14.047.211.047.145 0 .287-.063.385-.18.01-.012 1.01-1.178 3.379-1.761.714-.176 1.412-.265 2.073-.265 1.104 0 1.732.253 1.735.254.067.028.131.04.207.04.272.012.509-.221.509-.5 0-.165-.08-.311-.203-.402-.367-.435-1.953-2.156-4.091-2.156zm13.548 0c.317 0 .636.039.947.116 2.87.707 3.513 4.121 3.539 4.267.04.223-.076.443-.281.54-.067.031-.14.047-.211.047-.145 0-.287-.063-.385-.18-.01-.012-1.01-1.178-3.379-1.761-.714-.176-1.412-.265-2.073-.265-1.104 0-1.731.253-1.735.254-.067.028-.131.04-.206.04-.272.012-.509-.221-.509-.5 0-.165.08-.311.203-.402.366-.435 1.952-2.156 4.09-2.156z"/></svg>'},44544:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DA2F47" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#292F33" d="M25.485 29.879C25.44 29.7 24.317 25.5 18 25.5c-6.318 0-7.44 4.2-7.485 4.379-.055.217.043.442.237.554.195.109.439.079.6-.077.019-.019 1.954-1.856 6.648-1.856s6.63 1.837 6.648 1.855c.096.095.224.145.352.145.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zm-9.778-12.586C12.452 14.038 7.221 14 7 14c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 14c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},67567:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M23.485 27.879C23.474 27.835 22.34 23.5 18 23.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.007 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.091.219.137.344.137.084 0 .169-.021.246-.064.196-.111.294-.339.239-.557z"/><path fill="#5DADEC" d="M10 30c0 2.762-2.238 5-5 5s-5-2.238-5-5 4-10 5-10 5 7.238 5 10z"/><path fill="#664500" d="M30 13c-5.554 0-7.802-4.367-7.895-4.553-.247-.494-.047-1.095.447-1.342.492-.247 1.092-.048 1.34.443C23.967 7.694 25.713 11 30 11c.553 0 1 .448 1 1 0 .553-.447 1-1 1zM6 13c-.552 0-1-.448-1-1s.448-1 1-1c5.083 0 5.996-3.12 6.033-3.253.145-.528.69-.848 1.219-.709.53.139.851.673.718 1.205C13.921 8.437 12.704 13 6 13z"/></svg>'},57737:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16.664 10.543c-.207-.09-.451-.03-.592.148-.009.012-.979 1.202-3.335 1.844-.775.212-1.531.319-2.245.319-.992 0-1.559-.212-1.562-.213-.21-.085-.453-.014-.587.169-.135.184-.128.435.016.612.071.087 1.78 2.147 4.125 2.147.351 0 .702-.047 1.043-.14 2.854-.778 3.41-4.208 3.432-4.354.034-.223-.087-.441-.295-.532zm10.975 2.155c-.138-.181-.38-.245-.59-.159-.006.003-.633.256-1.737.256-.661 0-1.358-.089-2.073-.265-2.369-.583-3.369-1.749-3.377-1.758-.146-.176-.388-.233-.596-.137-.207.095-.323.318-.283.542.026.145.668 3.56 3.539 4.267.311.077.629.116.946.116 2.396 0 4.099-2.16 4.17-2.252.138-.181.137-.43.001-.61zM9.998 10c-.448 0-.855-.303-.969-.757-.133-.535.191-1.077.724-1.212.036-.009 3.593-.961 5.352-4.478.247-.494.846-.695 1.342-.447.494.247.694.848.447 1.342-2.181 4.361-6.471 5.477-6.652 5.523-.081.02-.163.029-.244.029zM26 10c-.08 0-.161-.01-.242-.03-.182-.045-4.472-1.162-6.652-5.523-.247-.494-.047-1.095.447-1.342.493-.247 1.094-.047 1.342.447 1.758 3.517 5.315 4.469 5.352 4.478.533.137.857.681.722 1.215-.116.453-.522.755-.969.755zm-8 18.965c-3.623 0-6.027.422-9 1-.679.131-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.321 2.132-2 2-2.973-.578-5.377-1-9-1z"/><path fill="#FFF" d="M10 25s3-1 8-1 8 1 8 1-2-4-8-4-8 4-8 4z"/></svg>'},45152:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><ellipse fill="#664500" cx="18" cy="25" rx="4" ry="5"/><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"/></svg>'},22783:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#C1CDD5" d="M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z"/><path fill="#60379A" d="M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z"/><path fill="#C1CDD5" d="M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z"/><path fill="#758795" d="M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z"/><circle fill="#292F33" cx="15.255" cy="14.565" r=".946"/><path fill="#53626C" d="M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z"/><path fill="#EE7C0E" d="M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z"/><path fill="#C43512" d="M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z"/></svg>'},69921:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case c:case d:case r:case l:case o:case p:return e;default:switch(e=e&&e.$$typeof){case s:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function C(e){return E(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=u,t.Element=a,t.ForwardRef=f,t.Fragment=r,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||E(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return E(e)===s},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===r},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===d||e===l||e===o||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===_||e.$$typeof===y||e.$$typeof===b||e.$$typeof===v)},t.typeOf=E},59864:function(e,t,n){"use strict";e.exports=n(69921)},26213:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:function(){return s},ReactReduxContext:function(){return i},batch:function(){return a.unstable_batchedUpdates},connect:function(){return H},connectAdvanced:function(){return T},createDispatchHook:function(){return G},createSelectorHook:function(){return K},createStoreHook:function(){return W},shallowEqual:function(){return S},useDispatch:function(){return V},useSelector:function(){return Z},useStore:function(){return z}});var a=n(59748),i=(n(45697),a.default.createContext(null));var r=function(e){e()},o=function(){return r},l={notify:function(){}};var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=o(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var a=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){a&&null!==t&&(a=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},e}();var s=function(e){var t=e.store,n=e.context,r=e.children,o=(0,a.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,a.useMemo)((function(){return t.getState()}),[t]);(0,a.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,l]);var s=n||i;return a.default.createElement(s.Provider,{value:o},r)};function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=n(8679),p=n.n(f),h=n(59864),g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect,m=[],v=[null,null];function _(e,t){var n=e[1];return[t.payload,n+1]}function y(e,t,n){g((function(){return e.apply(void 0,t)}),n)}function b(e,t,n,a,i,r,o){e.current=a,t.current=i,n.current=!1,r.current&&(r.current=null,o())}function E(e,t,n,a,i,r,o,l,u,s){if(e){var c=!1,d=null,f=function(){if(!c){var e,n,f=t.getState();try{e=a(f,i.current)}catch(e){n=e,d=e}n||(d=null),e===r.current?o.current||u():(r.current=e,l.current=e,o.current=!0,s({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var C=function(){return[null,0]};function T(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,l=n.methodName,s=void 0===l?"connectAdvanced":l,f=n.renderCountProp,g=void 0===f?void 0:f,T=n.shouldHandleStateChanges,w=void 0===T||T,S=n.storeKey,k=void 0===S?"store":S,I=(n.withRef,n.forwardRef),A=void 0!==I&&I,M=n.context,x=void 0===M?i:M,R=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),O=x;return function(t){var n=t.displayName||t.name||"Component",i=o(n),r=c({},R,{getDisplayName:o,methodName:s,renderCountProp:g,shouldHandleStateChanges:w,storeKey:k,displayName:i,wrappedComponentName:n,WrappedComponent:t}),l=R.pure;var f=l?a.useMemo:function(e){return e()};function T(n){var i=(0,a.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),o=i[0],l=i[1],s=i[2],p=(0,a.useMemo)((function(){return o&&o.Consumer&&(0,h.isContextConsumer)(a.default.createElement(o.Consumer,null))?o:O}),[o,O]),g=(0,a.useContext)(p),T=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var S=T?n.store:g.store,k=(0,a.useMemo)((function(){return function(t){return e(t.dispatch,r)}(S)}),[S]),I=(0,a.useMemo)((function(){if(!w)return v;var e=new u(S,T?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,T,g]),A=I[0],M=I[1],x=(0,a.useMemo)((function(){return T?g:c({},g,{subscription:A})}),[T,g,A]),R=(0,a.useReducer)(_,m,C),N=R[0][0],D=R[1];if(N&&N.error)throw N.error;var L=(0,a.useRef)(),P=(0,a.useRef)(s),B=(0,a.useRef)(),j=(0,a.useRef)(!1),F=f((function(){return B.current&&s===P.current?B.current:k(S.getState(),s)}),[S,N,s]);y(b,[P,L,j,s,F,B,M]),y(E,[w,S,A,k,P,L,j,B,M,D],[S,A,k]);var H=(0,a.useMemo)((function(){return a.default.createElement(t,c({},F,{ref:l}))}),[l,t,F]);return(0,a.useMemo)((function(){return w?a.default.createElement(p.Provider,{value:x},H):H}),[p,H,x])}var S=l?a.default.memo(T):T;if(S.WrappedComponent=t,S.displayName=i,A){var I=a.default.forwardRef((function(e,t){return a.default.createElement(S,c({},e,{reactReduxForwardedRef:t}))}));return I.displayName=i,I.WrappedComponent=t,p()(I,t)}return p()(S,t)}}function w(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(w(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!w(e[n[i]],t[n[i]]))return!1;return!0}var k=n(14890);function I(e){return function(t,n){var a=e(t,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,n){n.displayName;var a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=A(e);var i=a(t,n);return"function"==typeof i&&(a.mapToProps=i,a.dependsOnOwnProps=A(i),i=a(t,n)),i},a}}var x=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:I((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?I((function(t){return(0,k.bindActionCreators)(e,t)})):void 0}];var R=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:I((function(){return{}}))}];function O(e,t,n){return c({},n,{},e,{},t)}var N=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var a,i=n.pure,r=n.areMergedPropsEqual,o=!1;return function(t,n,l){var u=e(t,n,l);return o?i&&r(u,a)||(a=u):(o=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return O}}];function D(e,t,n,a){return function(i,r){return n(e(i,r),t(a,r),r)}}function L(e,t,n,a,i){var r,o,l,u,s,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function h(i,p){var h,g,m=!d(p,o),v=!c(i,r);return r=i,o=p,m&&v?(l=e(r,o),t.dependsOnOwnProps&&(u=t(a,o)),s=n(l,u,o)):m?(e.dependsOnOwnProps&&(l=e(r,o)),t.dependsOnOwnProps&&(u=t(a,o)),s=n(l,u,o)):v?(h=e(r,o),g=!f(h,l),l=h,g&&(s=n(l,u,o)),s):s}return function(i,c){return p?h(i,c):(l=e(r=i,o=c),u=t(a,o),s=n(l,u,o),p=!0,s)}}function P(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,i=t.initMergeProps,r=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,r),l=a(e,r),u=i(e,r);return(r.pure?L:D)(o,l,u,e,r)}function B(e,t,n){for(var a=t.length-1;a>=0;a--){var i=t[a](e);if(i)return i}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function j(e,t){return e===t}function F(e){var t=void 0===e?{}:e,n=t.connectHOC,a=void 0===n?T:n,i=t.mapStateToPropsFactories,r=void 0===i?R:i,o=t.mapDispatchToPropsFactories,l=void 0===o?x:o,u=t.mergePropsFactories,s=void 0===u?N:u,f=t.selectorFactory,p=void 0===f?P:f;return function(e,t,n,i){void 0===i&&(i={});var o=i,u=o.pure,f=void 0===u||u,h=o.areStatesEqual,g=void 0===h?j:h,m=o.areOwnPropsEqual,v=void 0===m?S:m,_=o.areStatePropsEqual,y=void 0===_?S:_,b=o.areMergedPropsEqual,E=void 0===b?S:b,C=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),T=B(e,r,"mapStateToProps"),w=B(t,l,"mapDispatchToProps"),k=B(n,s,"mergeProps");return a(p,c({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:T,initMapDispatchToProps:w,initMergeProps:k,pure:f,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:E},C))}}var H=F();function U(){return(0,a.useContext)(i)}function W(e){void 0===e&&(e=i);var t=e===i?U:function(){return(0,a.useContext)(e)};return function(){return t().store}}var z=W();function G(e){void 0===e&&(e=i);var t=e===i?z:W(e);return function(){return t().dispatch}}var V=G(),q=function(e,t){return e===t};function K(e){void 0===e&&(e=i);var t=e===i?U:function(){return(0,a.useContext)(e)};return function(e,n){void 0===n&&(n=q);var i=t(),r=function(e,t,n,i){var r,o=(0,a.useReducer)((function(e){return e+1}),0)[1],l=(0,a.useMemo)((function(){return new u(n,i)}),[n,i]),s=(0,a.useRef)(),c=(0,a.useRef)(),d=(0,a.useRef)(),f=(0,a.useRef)(),p=n.getState();try{r=e!==c.current||p!==d.current||s.current?e(p):f.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return g((function(){c.current=e,d.current=p,f.current=r,s.current=void 0})),g((function(){function e(){try{var e=c.current(n.getState());if(t(e,f.current))return;f.current=e}catch(e){s.current=e}o()}return l.onStateChange=e,l.trySubscribe(),e(),function(){return l.tryUnsubscribe()}}),[n,l]),r}(e,n,i.store,i.subscription);return(0,a.useDebugValue)(r),r}}var Y,Z=K();Y=a.unstable_batchedUpdates,r=Y},14890:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return r},applyMiddleware:function(){return m},bindActionCreators:function(){return d},combineReducers:function(){return s},compose:function(){return g},createStore:function(){return l}});var a=n(67121),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},r={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(l)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,s=t,c=[],d=c,f=!1;function p(){d===c&&(d=c.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=d.indexOf(e);d.splice(n,1),c=null}}}function m(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,s=u(s,e)}finally{f=!1}for(var t=c=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:r.REPLACE})}function _(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[a.Z]=function(){return this},e}return m({type:r.INIT}),(i={dispatch:m,subscribe:g,getState:h,replaceReducer:v})[a.Z]=_,i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var i=t[a];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:r.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:r.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var a=!1,i={},r=0;r<l.length;r++){var s=l[r],c=n[s],d=e[s],f=c(d,t);if(void 0===f){var p=u(s,t);throw new Error(p)}i[s]=f,a=a||f!==d}return(a=a||l.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var a in e){var i=e[a];"function"==typeof i&&(n[a]=c(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},r=t.map((function(e){return e(i)}));return h({},n,{dispatch:a=g.apply(void 0,r)(n.dispatch)})}}}},35666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,r=Object.create(i.prototype),o=new A(a||[]);return r._invoke=function(e,t,n){var a=d;return function(i,r){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===i)throw r;return x()}for(n.method=i,n.arg=r;;){var o=n.delegate;if(o){var l=S(o,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=c(e,t,n);if("normal"===u.type){if(a=n.done?h:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=h,n.method="throw",n.arg=u.arg)}}}(e,n,o),r}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function m(){}function v(){}function _(){}var y={};y[r]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(M([])));E&&E!==n&&a.call(E,r)&&(y=E);var C=_.prototype=m.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,r,o,l){var u=c(e[i],e,r);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var i;this._invoke=function(e,a){function r(){return new t((function(t,i){n(e,a,t,i)}))}return i=i?i.then(r,r):r()}}function S(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:x}}function x(){return{value:t,done:!0}}return v.prototype=C.constructor=_,_.constructor=v,v.displayName=u(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},T(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,a,i,r){void 0===r&&(r=Promise);var o=new w(s(t,n,a,i),r);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),u(C,l,"Generator"),C[r]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=M,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(a,i){return l.type="throw",l.arg=e,n.next=a,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:M(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},67121:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),e=n.hmd(e);var a=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},6189:function(e,t,n){var a=n(7966);e.exports=function(e){return a(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},71788:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():a.test(e)?function(e){return e.replace(r,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,a=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var r=/(.)([A-Z]+)/g},7966:function(e,t,n){var a=n(71788);e.exports=function(e){return a(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},53793:function(e,t,n){"use strict";n.r(t),n.d(t,{ChatServerOutgoingMessage:function(){return r},Startup:function(){return o},UpdateCustomData:function(){return l},UpdateUserToken:function(){return u},Rate:function(){return s},AgentMessagesAck:function(){return c},AgentMessagesRead:function(){return d},StartChat:function(){return f},OfflineMessage:function(){return p},ClientTyping:function(){return h},ClientMessage:function(){return g},UpdateExternalInfo:function(){return m},Introduction:function(){return v},AcceptEula:function(){return _}});var a,i=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=function(e){this.name=e},o=function(e){function t(t,n,a,i,r,o,l,u,s,c,d,f,p,h,g,m,v,_){var y=e.call(this,"startup")||this;return y.jv_widget_id=h.widgetId?h.widgetId:void 0,y.site_id=h.siteId?h.siteId:void 0,y.current_page=t||void 0,y.is_mobile=n,y.visits_count=a||void 0,y.page_visible=i,y.chat_opened=r,y.chat_id=o||void 0,y.widget_version=l||void 0,y.abtest=u||void 0,y.history=s||void 0,y.new_utm=c||void 0,y.proactive_rule=y.getProactiveRule(d,m,v[0],_[0]),y.visitor_id=p.visitorId?p.visitorId:void 0,y.jv_client_id=p.clientId?p.clientId:void 0,y.pa_id=p.priorityAgentId?p.priorityAgentId:void 0,y.custom_data=p.customData?p.customData:void 0,y.user_token=p.userToken?p.userToken:void 0,y.analytics=f||void 0,y.cap_token=p.captchaToken?p.captchaToken:void 0,y}return i(t,e),t.prototype.getProactiveRule=function(e,t,n,a){if(t){var i=t.toJSON();return{invitation_text:i.text,agent_id:i.body.agent_id,bot_id:i.body.bot_id,private_id:i.private_id,created_ts:Math.floor(i.created_ts/1e3)}}var r=e.text,o=e.privateId,l=e.createdTs;return r&&(n||a)&&o&&l?{invitation_text:r,agent_id:n||void 0,bot_id:a||void 0,private_id:o,created_ts:l}:void 0},t}(r),l=function(e){function t(t){var n=e.call(this,"update_custom_data")||this;return n.custom_data=t,n}return i(t,e),t}(r),u=function(e){function t(t){var n=e.call(this,"update_user_token")||this;return n.user_token=t,n}return i(t,e),t}(r),s=function(e){function t(t,n){var a=e.call(this,"rate")||this;return a.rate=t,a.chat_id=n,a}return i(t,e),t}(r),c=function(e){function t(t){var n=e.call(this,"agent_message_ack")||this;return n.ack_msg_ids=t,n}return i(t,e),t}(r),d=function(e){function t(t){var n=e.call(this,"agent_message_read")||this;return n.msg_ids=t,n}return i(t,e),t}(r),f=function(e){function t(t){var n=e.call(this,"start_chat")||this;return n.invited_agent=t,n}return i(t,e),t}(r),p=function(e){function t(t,n,a,i,r,o,l,u){var s=e.call(this,"offline_message")||this;return s.message=t,s.email=n,s.phone=a,s.client_name=i,s.cap_symbols=r,s.from_online=o,s.description=l,s.accept_eula=u,s}return i(t,e),t}(r),h=function(e){function t(t){var n=e.call(this,"client_typing")||this;return n.typing=t,n}return i(t,e),t}(r),g=function(e){function t(t,n,a,i,r){var o=e.call(this,"client_message")||this;return o.message=t,o.private_id=n,o.widget_department_id=a||null,o.is_prechat_btn=i||null,o.media=r||null,o}return i(t,e),t}(r),m=function(e){function t(t){var n=e.call(this,"update_external_info")||this;return n.external_info=t,n}return i(t,e),t}(r),v=function(e){function t(t,n,a,i,r){var o=e.call(this,"introduction")||this;return o.client_name=t,o.phone=n,o.email=a,o.description=i,o.accept_eula=r,o}return i(t,e),t}(r),_=function(e){function t(){return e.call(this,"accept_eula")||this}return i(t,e),t}(r)},22544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a,i=n(46849),r=n.n(i),o=n(37846),l=n(75043),u=n.n(l),s=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(n,a){var i=this.constructor,r=e.call(this,n)||this;return Object.setPrototypeOf(r,i.prototype),r.name=t.name,r.provider=a,r}return s(t,e),t}(Error),d=function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),t}(c),f=function(e){function t(t){return e.call(this,"Connection is already open",t)||this}return s(t,e),t}(d),p=function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),t}(d),h=(function(e){function t(t,n){return e.call(this,t,n)||this}s(t,e)}(d),function(e){function t(t,n){return e.call(this,t,n)||this}s(t,e)}(c),function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),t}(c)),g=(function(e){function t(t){return e.call(this,"No connection",t)||this}s(t,e)}(h),function(e){function t(t,n){return e.call(this,"Message parse error: "+t,n)||this}return s(t,e),t}(h)),m=function(e){function t(t,n){return e.call(this,"JC error: "+t,n)||this}return s(t,e),t}(h),v=u().name("ChatServerProvider"),_=function(){function e(e){this.name="ChatServerProvider",this.manager=e,this.application=e.application,this.url=this.getUrl(),this.connection=null,this.connected=!1,this.lastError=null}return e.prototype.connect=function(e){v.log("connect, force:",e);try{this.needToConnect(e)&&this.setupConnection()}catch(e){this.handleOpenError(e)}},e.prototype.disconnect=function(){v.warn("disconnect",this.connection),this.connection&&(this.connection.off(),this.connection.close(),this.connection=null)},e.prototype.send=function(e){v.log("send",this.connected,e);try{if(this.connection&&this.connected){var t=null;try{t=JSON.stringify(e)}catch(e){throw new g(e.message,this.name)}if(t)try{this.connection.send(t),this.manager.logSocketEvent(e)}catch(e){throw new m(e.message,this.name)}}else v.warn("send",e),this.manager.open(null,!0)}catch(t){this.handleSendError(t,e)}},e.prototype.setLastError=function(e){v.warn("setLastError",e),this.lastError=e},e.prototype.handleOpenError=function(e){},e.prototype.handleSendError=function(e,t){(e instanceof m||e instanceof g)&&this.application.managers.monitoring.reportException(e)},e.prototype.setupConnection=function(){var e=this;v.log("setupConnection"),this.connection=new(r())(this.url),this.connection.on("open",(function(t){e.connected=!0,e.manager.receiver.onConnect(t)})),this.connection.on("close",(function(t){e.connected=!1,e.manager.receiver.onDisconnect(t)})),this.connection.on("error",(function(t){e.manager.receiver.onError(t)})),this.connection.on("message",(function(t){e.manager.receiver.onMessage(t)})),this.connection.open()},e.prototype.getUrl=function(){return this.application.managers.environment.isProduction()||"https:"===this.application.utils.common.getProtocol()?"wss://"+this.application.config.comet.host+"/cometcn":"ws://"+this.application.config.comet.host+"/cometcn"},e.prototype.needToConnect=function(e){v.log("needToConnect, force:",e);var t=this.application.managers,n=t.feature,a=t.recaptcha,i=t.device,r=t.environment,l=this.application.stores,u=l.app,s=l.temp,c=(l.messages,l.client),d=this.application.config;if(n.isEnabled(o.Feature.RECAPTCHA)&&a&&a.isBlocked())throw new p("Recaptcha is blocked",this.name);if(d.maintenance)throw v.log("Maintenance mode on!"),new p("Maintenance mode is on",this.name);var h=this.application.utils.common.isWixEditor()||r.isDesignerEditor(),g=s.get("is_blacklisted"),m=!u.is_online&&1==d.hide_offline&&!u.chat_started,_=i.mobileOrTablet()&&1==d.disable_mobile;if(h||g||m||_||this.application.utils.common.isAppCobrowse())throw v.log("Connection disabled for wix editor"),new p("Connection disabled for wix editor",this.name);if(3333==this.lastError)throw v.log("Connection disabled spam detected."),new p("Connection disabled spam detected.",this.name);if(e&&!this.connected)return v.log("connection is forced"),!0;if(u.lastMsgTime){var y=(new Date).getTime(),b=Math.abs((y-u.lastMsgTime)/1e3);if(c.jv_sess_id&&u.is_online&&b<172800)return!0}if(c.jv_sess_id&&!u.chat_started)throw v.log("Connection disabled chat not started."),new p("Connection disabled chat not started.",this.name);if(this.connected||!this.application.utils.dom.pageVisible())throw v.warn("Connection already open"),new f(this.name);return v.log("is ok to connect."),!0},e}()},33421:function(e,t,n){"use strict";n.r(t);var a=n(53793),i=n(51362),r=n.n(i),o=n(33535),l=n.n(o),u=n(37846),s=n(57018),c=n(75043),d=n.n(c),f=n(63242),p=n(8565),h=n(47290),g=function(){return(g=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},m=d().name("ChatServerReceiver"),v=function(){function e(e){this.manager=e,this.application=e.application}return e.prototype.onConnect=function(e){var t=this;m.warn("onConnect",e),this.checkRecaptchaIfNeeded((function(){var e=t.application.reduxStore.getState(),n=e.app,i=e.chats,o=e.client,l=e.proactive,u=e.settings,s=t.application.managers,c=s.analytics,d=s.device,f=s.environment,p=s.abTest,h=t.application.stores,g=h.history,m=h.messages,v=h.temp,_=t.application.utils.dom.pageVisible,y=t.application.utils.common.getCurrentPage,b=t.formatUTM(o.utm),E=y(),C={title:E.title,url:r().decodeString(E.url)};t.bufferUndeliveredMessages(m);var T=0===n.route.indexOf("chat")&&-1===n.route.indexOf("min"),w=i.length?i[i.length-1]:null,S=w?w.joinedAgents:null,k=w?w.joinedBots:null;t.manager.send(new a.Startup(C,d.mobileOrTablet(),v.get("visits_count")-0,_(),T,w?w.id:null,f.getVersion(),p.getActiveTestAsString(),o.sessionId?null:g.get(),b,l,c.isAnalyticsIdAvaiable(),o,u.system,u.features,m.getLastUnreadApiInvitation(),S,k))}),(function(){t.manager.close()}))},e.prototype.onDisconnect=function(e){var t=this;m.warn("onDisconnect",e),this.manager.close(),this.manager.provider.setLastError(e.code),this.setStartupCallback(null),1013===e.code&&(l().maintenance(),setTimeout((function(){t.manager.open()}),s.MAINT_RECONNECT_TIMEOUT)),3333===e.code&&(this.manager.buffer.clear(),this.application.managers.monitoring.telemetryOnce(f.TelemetryName.CLIENT_MESSAGE_SPAM))},e.prototype.onError=function(e){m.warn("onError",e)},e.prototype.onMessage=function(e){var t=null;try{t=JSON.parse(e),this.manager.logSocketEvent(t)}catch(e){this.application.managers.monitoring.reportException(e)}try{t.method&&t.params&&t.params.type&&l()[t.params.type]?l()[t.params.type](t.params.body):t.method&&l()[t.method]?l()[t.method](t):t.name&&l()[t.name]&&l()[t.name](t),!this.startupCallback||"startup_ok"!==t.name&&"resume_ok"!==t.name||(this.startupCallback(),this.setStartupCallback(null))}catch(e){this.application.managers.monitoring.reportException(e)}},e.prototype.setStartupCallback=function(e){m.warn("setStartupCallback",e),this.startupCallback=e},e.prototype.formatUTM=function(e){var t=e.campaign,n=e.source,a=e.medium,i=e.keyword,r=e.content;if(t||n||a||i||r)return g(g(g(g(g({},t&&{campaign:t}),n&&{source:n}),a&&{medium:a}),i&&{keyword:i}),r&&{content:r})},e.prototype.checkRecaptchaIfNeeded=function(e,t){m.log("checkRecaptchaIfNeeded"),this.application.managers.feature.isEnabled(u.Feature.RECAPTCHA)?this.application.managers.recaptcha.getToken(e,t):e()},e.prototype.bufferUndeliveredMessages=function(e){var t=this,n=this.application.reduxStore.getState(),a=e.getSentMessages();if(a.length&&3333!==this.manager.provider.lastError){m.warn("bufferSentMessages",a);a.forEach((function(e){var a=e.get("type")===p.MessageType.MEDIA;if(a&&e.get("body.error"))e.set("status",p.MessageStatus.DELIVERED);else{var i={name:"client_message",message:e.get("text"),private_id:e.get("private_id")};if(n.client.departmentId&&(i.widget_department_id=n.client.departmentId),e.get("body.is_prechat")&&(i.is_prechat_btn=!0),a){var r=(0,h.getMediaData)(e);r&&(i.message=r.message,i.media=r.media)}if(i.message&&""!=i.message)if(i.private_id)t.manager.buffer.contains(i.private_id)||t.manager.buffer.add(i)}}))}},e}();t.default=v},71673:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(75043),i=n.n(a),r=i().name("ConnectionBuffer"),o=function(){function e(e){this.connectionManager=e,this.messages=[]}return e.prototype.add=function(e){r.log("add",e),this.messages.push(e)},e.prototype.clear=function(){r.warn("clear"),this.messages=[]},e.prototype.flush=function(){var e=this;r.log("flush"),this.messages.forEach((function(t){return e.connectionManager.send(t)})),this.clear()},e.prototype.contains=function(e){return this.messages.find((function(t){return t.private_id===e}))},e.prototype.isEmpty=function(){return 0===this.messages.length},e}(),l=i().name("ConnectionManager"),u=function(){function e(e,t,n){this.application=e,this.buffer=new o(this),this.receiver=new n(this),this.provider=new t(this)}return e.prototype.open=function(e,t){l.warn("open"),e&&this.receiver.setStartupCallback(e),this.provider.connect(t)},e.prototype.close=function(){l.warn("close"),this.provider.disconnect(),this.buffer.clear()},e.prototype.isOpen=function(){return this.provider&&this.provider.connected},e.prototype.send=function(e){l.warn("send",e),this.provider.send(e)},e.prototype.sendIfConnected=function(e){l.warn("sendIfConnected",e),this.isOpen()&&this.send(e)},e.prototype.logSocketEvent=function(e){this.application.managers.debug.saveSocketEvent(e)},e.prototype.flushBuffer=function(){if(l.warn("flushBuffer"),!this.buffer.isEmpty()){this.buffer.flush();var e=this.application.managers.monitoring,t=e.getTelemetryNames().CLIENT_MESSAGE_FLUSH_BUFFER;e.telemetry(t)}},e}()},62107:function(e,t,n){"use strict";n.r(t),n.d(t,{VERSION:function(){return i},after:function(){return mt},all:function(){return Pt},allKeys:function(){return he},any:function(){return Bt},assign:function(){return Ee},before:function(){return vt},bind:function(){return rt},bindAll:function(){return lt},chain:function(){return tt},chunk:function(){return bn},clone:function(){return Se},collect:function(){return xt},compact:function(){return sn},compose:function(){return gt},constant:function(){return X},contains:function(){return jt},countBy:function(){return Jt},create:function(){return we},debounce:function(){return ft},default:function(){return Sn},defaults:function(){return Ce},defer:function(){return ct},delay:function(){return st},detect:function(){return It},difference:function(){return dn},drop:function(){return ln},each:function(){return Mt},escape:function(){return Ge},every:function(){return Pt},extend:function(){return be},extendOwn:function(){return Ee},filter:function(){return Dt},find:function(){return It},findIndex:function(){return Et},findKey:function(){return yt},findLastIndex:function(){return Ct},findWhere:function(){return At},first:function(){return on},flatten:function(){return cn},foldl:function(){return Ot},foldr:function(){return Nt},forEach:function(){return Mt},functions:function(){return _e},groupBy:function(){return Yt},has:function(){return Ie},head:function(){return on},identity:function(){return Ae},include:function(){return jt},includes:function(){return jt},indexBy:function(){return Zt},indexOf:function(){return St},initial:function(){return rn},inject:function(){return Ot},intersection:function(){return gn},invert:function(){return ve},invoke:function(){return Ft},isArguments:function(){return Y},isArray:function(){return W},isArrayBuffer:function(){return H},isBoolean:function(){return I},isDataView:function(){return U},isDate:function(){return O},isElement:function(){return A},isEmpty:function(){return ue},isEqual:function(){return pe},isError:function(){return D},isFinite:function(){return Z},isFunction:function(){return V},isMap:function(){return P},isMatch:function(){return se},isNaN:function(){return J},isNull:function(){return S},isNumber:function(){return R},isObject:function(){return w},isRegExp:function(){return N},isSet:function(){return j},isString:function(){return x},isSymbol:function(){return L},isTypedArray:function(){return ae},isUndefined:function(){return k},isWeakMap:function(){return B},isWeakSet:function(){return F},iteratee:function(){return De},keys:function(){return le},last:function(){return un},lastIndexOf:function(){return kt},map:function(){return xt},mapObject:function(){return Pe},matcher:function(){return Me},matches:function(){return Me},max:function(){return Wt},memoize:function(){return ut},methods:function(){return _e},min:function(){return zt},mixin:function(){return Cn},negate:function(){return ht},noop:function(){return Be},now:function(){return Ue},object:function(){return _n},omit:function(){return an},once:function(){return _t},pairs:function(){return me},partial:function(){return it},partition:function(){return Xt},pick:function(){return nn},pluck:function(){return Ht},property:function(){return Re},propertyOf:function(){return je},random:function(){return He},range:function(){return yn},reduce:function(){return Ot},reduceRight:function(){return Nt},reject:function(){return Lt},rest:function(){return ln},restArguments:function(){return T},result:function(){return $e},sample:function(){return Gt},select:function(){return Dt},shuffle:function(){return Vt},size:function(){return en},some:function(){return Bt},sortBy:function(){return qt},sortedIndex:function(){return Tt},tail:function(){return ln},take:function(){return on},tap:function(){return ke},template:function(){return Xe},templateSettings:function(){return qe},throttle:function(){return dt},times:function(){return Fe},toArray:function(){return Qt},transpose:function(){return mn},unescape:function(){return Ve},union:function(){return hn},uniq:function(){return pn},unique:function(){return pn},uniqueId:function(){return et},unzip:function(){return mn},values:function(){return ge},where:function(){return Ut},without:function(){return fn},wrap:function(){return pt},zip:function(){return vn}});var a={};n.r(a),n.d(a,{VERSION:function(){return i},after:function(){return mt},all:function(){return Pt},allKeys:function(){return he},any:function(){return Bt},assign:function(){return Ee},before:function(){return vt},bind:function(){return rt},bindAll:function(){return lt},chain:function(){return tt},chunk:function(){return bn},clone:function(){return Se},collect:function(){return xt},compact:function(){return sn},compose:function(){return gt},constant:function(){return X},contains:function(){return jt},countBy:function(){return Jt},create:function(){return we},debounce:function(){return ft},default:function(){return Tn},defaults:function(){return Ce},defer:function(){return ct},delay:function(){return st},detect:function(){return It},difference:function(){return dn},drop:function(){return ln},each:function(){return Mt},escape:function(){return Ge},every:function(){return Pt},extend:function(){return be},extendOwn:function(){return Ee},filter:function(){return Dt},find:function(){return It},findIndex:function(){return Et},findKey:function(){return yt},findLastIndex:function(){return Ct},findWhere:function(){return At},first:function(){return on},flatten:function(){return cn},foldl:function(){return Ot},foldr:function(){return Nt},forEach:function(){return Mt},functions:function(){return _e},groupBy:function(){return Yt},has:function(){return Ie},head:function(){return on},identity:function(){return Ae},include:function(){return jt},includes:function(){return jt},indexBy:function(){return Zt},indexOf:function(){return St},initial:function(){return rn},inject:function(){return Ot},intersection:function(){return gn},invert:function(){return ve},invoke:function(){return Ft},isArguments:function(){return Y},isArray:function(){return W},isArrayBuffer:function(){return H},isBoolean:function(){return I},isDataView:function(){return U},isDate:function(){return O},isElement:function(){return A},isEmpty:function(){return ue},isEqual:function(){return pe},isError:function(){return D},isFinite:function(){return Z},isFunction:function(){return V},isMap:function(){return P},isMatch:function(){return se},isNaN:function(){return J},isNull:function(){return S},isNumber:function(){return R},isObject:function(){return w},isRegExp:function(){return N},isSet:function(){return j},isString:function(){return x},isSymbol:function(){return L},isTypedArray:function(){return ae},isUndefined:function(){return k},isWeakMap:function(){return B},isWeakSet:function(){return F},iteratee:function(){return De},keys:function(){return le},last:function(){return un},lastIndexOf:function(){return kt},map:function(){return xt},mapObject:function(){return Pe},matcher:function(){return Me},matches:function(){return Me},max:function(){return Wt},memoize:function(){return ut},methods:function(){return _e},min:function(){return zt},mixin:function(){return Cn},negate:function(){return ht},noop:function(){return Be},now:function(){return Ue},object:function(){return _n},omit:function(){return an},once:function(){return _t},pairs:function(){return me},partial:function(){return it},partition:function(){return Xt},pick:function(){return nn},pluck:function(){return Ht},property:function(){return Re},propertyOf:function(){return je},random:function(){return He},range:function(){return yn},reduce:function(){return Ot},reduceRight:function(){return Nt},reject:function(){return Lt},rest:function(){return ln},restArguments:function(){return T},result:function(){return $e},sample:function(){return Gt},select:function(){return Dt},shuffle:function(){return Vt},size:function(){return en},some:function(){return Bt},sortBy:function(){return qt},sortedIndex:function(){return Tt},tail:function(){return ln},take:function(){return on},tap:function(){return ke},template:function(){return Xe},templateSettings:function(){return qe},throttle:function(){return dt},times:function(){return Fe},toArray:function(){return Qt},transpose:function(){return mn},unescape:function(){return Ve},union:function(){return hn},uniq:function(){return pn},unique:function(){return pn},uniqueId:function(){return et},unzip:function(){return mn},values:function(){return ge},where:function(){return Ut},without:function(){return fn},wrap:function(){return pt},zip:function(){return vn}});var i="1.11.0",r="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},o=Array.prototype,l=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,s=o.push,c=o.slice,d=l.toString,f=l.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,h=Array.isArray,g=Object.keys,m=Object.create,v=p&&ArrayBuffer.isView,_=isNaN,y=isFinite,b=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=Math.pow(2,53)-1;function T(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),a=Array(n),i=0;i<n;i++)a[i]=arguments[i+t];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var r=Array(t+1);for(i=0;i<t;i++)r[i]=arguments[i];return r[t]=a,e.apply(this,r)}}function w(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function S(e){return null===e}function k(e){return void 0===e}function I(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function A(e){return!(!e||1!==e.nodeType)}function M(e){return function(t){return d.call(t)==="[object "+e+"]"}}var x=M("String"),R=M("Number"),O=M("Date"),N=M("RegExp"),D=M("Error"),L=M("Symbol"),P=M("Map"),B=M("WeakMap"),j=M("Set"),F=M("WeakSet"),H=M("ArrayBuffer"),U=M("DataView"),W=h||M("Array"),z=M("Function"),G=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof G&&(z=function(e){return"function"==typeof e||!1});var V=z;function q(e,t){return null!=e&&f.call(e,t)}var K=M("Arguments");!function(){K(arguments)||(K=function(e){return q(e,"callee")})}();var Y=K;function Z(e){return!L(e)&&y(e)&&!isNaN(parseFloat(e))}function J(e){return R(e)&&_(e)}function X(e){return function(){return e}}function $(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=C}}function Q(e){return function(t){return null==t?void 0:t[e]}}var ee=Q("byteLength"),te=$(ee),ne=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ae=p?function(e){return v?v(e)&&!U(e):te(e)&&ne.test(d.call(e))}:X(!1),ie=Q("length"),re=$(ie);function oe(e,t){t=function(e){for(var t={},n=e.length,a=0;a<n;++a)t[e[a]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=E.length,a=e.constructor,i=V(a)&&a.prototype||l,r="constructor";for(q(e,r)&&!t.contains(r)&&t.push(r);n--;)(r=E[n])in e&&e[r]!==i[r]&&!t.contains(r)&&t.push(r)}function le(e){if(!w(e))return[];if(g)return g(e);var t=[];for(var n in e)q(e,n)&&t.push(n);return b&&oe(e,t),t}function ue(e){return null==e||(re(e)&&(W(e)||x(e)||Y(e))?0===e.length:0===le(e).length)}function se(e,t){var n=le(t),a=n.length;if(null==e)return!a;for(var i=Object(e),r=0;r<a;r++){var o=n[r];if(t[o]!==i[o]||!(o in i))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function de(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&fe(e,t,n,a)}function fe(e,t,n,a){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t);case"[object ArrayBuffer]":return fe(new DataView(e),new DataView(t),n,a);case"[object DataView]":var r=ee(e);if(r!==ee(t))return!1;for(;r--;)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0}if(ae(e))return fe(new DataView(e.buffer),new DataView(t.buffer),n,a);var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,s=t.constructor;if(l!==s&&!(V(l)&&l instanceof l&&V(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}a=a||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return a[c]===t;if(n.push(e),a.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!de(e[c],t[c],n,a))return!1}else{var f,p=le(e);if(c=p.length,le(t).length!==c)return!1;for(;c--;)if(!q(t,f=p[c])||!de(e[f],t[f],n,a))return!1}return n.pop(),a.pop(),!0}function pe(e,t){return de(e,t)}function he(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return b&&oe(e,t),t}function ge(e){for(var t=le(e),n=t.length,a=Array(n),i=0;i<n;i++)a[i]=e[t[i]];return a}function me(e){for(var t=le(e),n=t.length,a=Array(n),i=0;i<n;i++)a[i]=[t[i],e[t[i]]];return a}function ve(e){for(var t={},n=le(e),a=0,i=n.length;a<i;a++)t[e[n[a]]]=n[a];return t}function _e(e){var t=[];for(var n in e)V(e[n])&&t.push(n);return t.sort()}function ye(e,t){return function(n){var a=arguments.length;if(t&&(n=Object(n)),a<2||null==n)return n;for(var i=1;i<a;i++)for(var r=arguments[i],o=e(r),l=o.length,u=0;u<l;u++){var s=o[u];t&&void 0!==n[s]||(n[s]=r[s])}return n}}ce.VERSION=i,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var be=ye(he),Ee=ye(le),Ce=ye(he,!0);function Te(e){if(!w(e))return{};if(m)return m(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function we(e,t){var n=Te(e);return t&&Ee(n,t),n}function Se(e){return w(e)?W(e)?e.slice():be({},e):e}function ke(e,t){return t(e),e}function Ie(e,t){if(!W(t))return q(e,t);for(var n=t.length,a=0;a<n;a++){var i=t[a];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n}function Ae(e){return e}function Me(e){return e=Ee({},e),function(t){return se(t,e)}}function xe(e,t){for(var n=t.length,a=0;a<n;a++){if(null==e)return;e=e[t[a]]}return n?e:void 0}function Re(e){return W(e)?function(t){return xe(t,e)}:Q(e)}function Oe(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,a,i){return e.call(t,n,a,i)};case 4:return function(n,a,i,r){return e.call(t,n,a,i,r)}}return function(){return e.apply(t,arguments)}}function Ne(e,t,n){return null==e?Ae:V(e)?Oe(e,t,n):w(e)&&!W(e)?Me(e):Re(e)}function De(e,t){return Ne(e,t,1/0)}function Le(e,t,n){return ce.iteratee!==De?ce.iteratee(e,t):Ne(e,t,n)}function Pe(e,t,n){t=Le(t,n);for(var a=le(e),i=a.length,r={},o=0;o<i;o++){var l=a[o];r[l]=t(e[l],l,e)}return r}function Be(){}function je(e){return null==e?function(){}:function(t){return W(t)?xe(e,t):e[t]}}function Fe(e,t,n){var a=Array(Math.max(0,e));t=Oe(t,n,1);for(var i=0;i<e;i++)a[i]=t(i);return a}function He(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.iteratee=De;var Ue=Date.now||function(){return(new Date).getTime()};function We(e){var t=function(t){return e[t]},n="(?:"+le(e).join("|")+")",a=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,t):e}}var ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ge=We(ze),Ve=We(ve(ze)),qe=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ke=/(.)^/,Ye={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ze=/\\|'|\r|\n|\u2028|\u2029/g;function Je(e){return"\\"+Ye[e]}function Xe(e,t,n){!t&&n&&(t=n),t=Ce({},t,ce.templateSettings);var a,i=RegExp([(t.escape||Ke).source,(t.interpolate||Ke).source,(t.evaluate||Ke).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,(function(t,n,a,i,l){return o+=e.slice(r,l).replace(Ze,Je),r=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?o+="'+\n((__t=("+a+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var l=function(e){return a.call(this,e,ce)},u=t.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l}function $e(e,t,n){W(t)||(t=[t]);var a=t.length;if(!a)return V(n)?n.call(e):n;for(var i=0;i<a;i++){var r=null==e?void 0:e[t[i]];void 0===r&&(r=n,i=a),e=V(r)?r.call(e):r}return e}var Qe=0;function et(e){var t=++Qe+"";return e?e+t:t}function tt(e){var t=ce(e);return t._chain=!0,t}function nt(e,t,n,a,i){if(!(a instanceof t))return e.apply(n,i);var r=Te(e.prototype),o=e.apply(r,i);return w(o)?o:r}var at=T((function(e,t){var n=at.placeholder,a=function(){for(var i=0,r=t.length,o=Array(r),l=0;l<r;l++)o[l]=t[l]===n?arguments[i++]:t[l];for(;i<arguments.length;)o.push(arguments[i++]);return nt(e,a,this,this,o)};return a}));at.placeholder=ce;var it=at,rt=T((function(e,t,n){if(!V(e))throw new TypeError("Bind must be called on a function");var a=T((function(i){return nt(e,a,t,this,n.concat(i))}));return a}));function ot(e,t,n,a){if(a=a||[],t||0===t){if(t<=0)return a.concat(e)}else t=1/0;for(var i=a.length,r=0,o=ie(e);r<o;r++){var l=e[r];if(re(l)&&(W(l)||Y(l)))if(t>1)ot(l,t-1,n,a),i=a.length;else for(var u=0,s=l.length;u<s;)a[i++]=l[u++];else n||(a[i++]=l)}return a}var lt=T((function(e,t){var n=(t=ot(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var a=t[n];e[a]=rt(e[a],e)}return e}));function ut(e,t){var n=function(a){var i=n.cache,r=""+(t?t.apply(this,arguments):a);return q(i,r)||(i[r]=e.apply(this,arguments)),i[r]};return n.cache={},n}var st=T((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),ct=it(st,ce,1);function dt(e,t,n){var a,i,r,o,l=0;n||(n={});var u=function(){l=!1===n.leading?0:Ue(),a=null,o=e.apply(i,r),a||(i=r=null)},s=function(){var s=Ue();l||!1!==n.leading||(l=s);var c=t-(s-l);return i=this,r=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),l=s,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(u,c)),o};return s.cancel=function(){clearTimeout(a),l=0,a=i=r=null},s}function ft(e,t,n){var a,i,r=function(t,n){a=null,n&&(i=e.apply(t,n))},o=T((function(o){if(a&&clearTimeout(a),n){var l=!a;a=setTimeout(r,t),l&&(i=e.apply(this,o))}else a=st(r,t,this,o);return i}));return o.cancel=function(){clearTimeout(a),a=null},o}function pt(e,t){return it(t,e)}function ht(e){return function(){return!e.apply(this,arguments)}}function gt(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}}function mt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function vt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var _t=it(vt,2);function yt(e,t,n){t=Le(t,n);for(var a,i=le(e),r=0,o=i.length;r<o;r++)if(t(e[a=i[r]],a,e))return a}function bt(e){return function(t,n,a){n=Le(n,a);for(var i=ie(t),r=e>0?0:i-1;r>=0&&r<i;r+=e)if(n(t[r],r,t))return r;return-1}}var Et=bt(1),Ct=bt(-1);function Tt(e,t,n,a){for(var i=(n=Le(n,a,1))(t),r=0,o=ie(e);r<o;){var l=Math.floor((r+o)/2);n(e[l])<i?r=l+1:o=l}return r}function wt(e,t,n){return function(a,i,r){var o=0,l=ie(a);if("number"==typeof r)e>0?o=r>=0?r:Math.max(r+l,o):l=r>=0?Math.min(r+1,l):r+l+1;else if(n&&r&&l)return a[r=n(a,i)]===i?r:-1;if(i!=i)return(r=t(c.call(a,o,l),J))>=0?r+o:-1;for(r=e>0?o:l-1;r>=0&&r<l;r+=e)if(a[r]===i)return r;return-1}}var St=wt(1,Et,Tt),kt=wt(-1,Ct);function It(e,t,n){var a=(re(e)?Et:yt)(e,t,n);if(void 0!==a&&-1!==a)return e[a]}function At(e,t){return It(e,Me(t))}function Mt(e,t,n){var a,i;if(t=Oe(t,n),re(e))for(a=0,i=e.length;a<i;a++)t(e[a],a,e);else{var r=le(e);for(a=0,i=r.length;a<i;a++)t(e[r[a]],r[a],e)}return e}function xt(e,t,n){t=Le(t,n);for(var a=!re(e)&&le(e),i=(a||e).length,r=Array(i),o=0;o<i;o++){var l=a?a[o]:o;r[o]=t(e[l],l,e)}return r}function Rt(e){var t=function(t,n,a,i){var r=!re(t)&&le(t),o=(r||t).length,l=e>0?0:o-1;for(i||(a=t[r?r[l]:l],l+=e);l>=0&&l<o;l+=e){var u=r?r[l]:l;a=n(a,t[u],u,t)}return a};return function(e,n,a,i){var r=arguments.length>=3;return t(e,Oe(n,i,4),a,r)}}var Ot=Rt(1),Nt=Rt(-1);function Dt(e,t,n){var a=[];return t=Le(t,n),Mt(e,(function(e,n,i){t(e,n,i)&&a.push(e)})),a}function Lt(e,t,n){return Dt(e,ht(Le(t)),n)}function Pt(e,t,n){t=Le(t,n);for(var a=!re(e)&&le(e),i=(a||e).length,r=0;r<i;r++){var o=a?a[r]:r;if(!t(e[o],o,e))return!1}return!0}function Bt(e,t,n){t=Le(t,n);for(var a=!re(e)&&le(e),i=(a||e).length,r=0;r<i;r++){var o=a?a[r]:r;if(t(e[o],o,e))return!0}return!1}function jt(e,t,n,a){return re(e)||(e=ge(e)),("number"!=typeof n||a)&&(n=0),St(e,t,n)>=0}var Ft=T((function(e,t,n){var a,i;return V(t)?i=t:W(t)&&(a=t.slice(0,-1),t=t[t.length-1]),xt(e,(function(e){var r=i;if(!r){if(a&&a.length&&(e=xe(e,a)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)}))}));function Ht(e,t){return xt(e,Re(t))}function Ut(e,t){return Dt(e,Me(t))}function Wt(e,t,n){var a,i,r=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,u=(e=re(e)?e:ge(e)).length;l<u;l++)null!=(a=e[l])&&a>r&&(r=a);else t=Le(t,n),Mt(e,(function(e,n,a){((i=t(e,n,a))>o||i===-1/0&&r===-1/0)&&(r=e,o=i)}));return r}function zt(e,t,n){var a,i,r=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,u=(e=re(e)?e:ge(e)).length;l<u;l++)null!=(a=e[l])&&a<r&&(r=a);else t=Le(t,n),Mt(e,(function(e,n,a){((i=t(e,n,a))<o||i===1/0&&r===1/0)&&(r=e,o=i)}));return r}function Gt(e,t,n){if(null==t||n)return re(e)||(e=ge(e)),e[He(e.length-1)];var a=re(e)?Se(e):ge(e),i=ie(a);t=Math.max(Math.min(t,i),0);for(var r=i-1,o=0;o<t;o++){var l=He(o,r),u=a[o];a[o]=a[l],a[l]=u}return a.slice(0,t)}function Vt(e){return Gt(e,1/0)}function qt(e,t,n){var a=0;return t=Le(t,n),Ht(xt(e,(function(e,n,i){return{value:e,index:a++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(n<a||void 0===a)return-1}return e.index-t.index})),"value")}function Kt(e,t){return function(n,a,i){var r=t?[[],[]]:{};return a=Le(a,i),Mt(n,(function(t,i){var o=a(t,i,n);e(r,t,o)})),r}}var Yt=Kt((function(e,t,n){q(e,n)?e[n].push(t):e[n]=[t]})),Zt=Kt((function(e,t,n){e[n]=t})),Jt=Kt((function(e,t,n){q(e,n)?e[n]++:e[n]=1})),Xt=Kt((function(e,t,n){e[n?0:1].push(t)}),!0),$t=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Qt(e){return e?W(e)?c.call(e):x(e)?e.match($t):re(e)?xt(e,Ae):ge(e):[]}function en(e){return null==e?0:re(e)?e.length:le(e).length}function tn(e,t,n){return t in n}var nn=T((function(e,t){var n={},a=t[0];if(null==e)return n;V(a)?(t.length>1&&(a=Oe(a,t[1])),t=he(e)):(a=tn,t=ot(t,!1,!1),e=Object(e));for(var i=0,r=t.length;i<r;i++){var o=t[i],l=e[o];a(l,o,e)&&(n[o]=l)}return n})),an=T((function(e,t){var n,a=t[0];return V(a)?(a=ht(a),t.length>1&&(n=t[1])):(t=xt(ot(t,!1,!1),String),a=function(e,n){return!jt(t,n)}),nn(e,a,n)}));function rn(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function on(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:rn(e,e.length-t)}function ln(e,t,n){return c.call(e,null==t||n?1:t)}function un(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:ln(e,Math.max(0,e.length-t))}function sn(e){return Dt(e,Boolean)}function cn(e,t){return ot(e,t,!1)}var dn=T((function(e,t){return t=ot(t,!0,!0),Dt(e,(function(e){return!jt(t,e)}))})),fn=T((function(e,t){return dn(e,t)}));function pn(e,t,n,a){I(t)||(a=n,n=t,t=!1),null!=n&&(n=Le(n,a));for(var i=[],r=[],o=0,l=ie(e);o<l;o++){var u=e[o],s=n?n(u,o,e):u;t&&!n?(o&&r===s||i.push(u),r=s):n?jt(r,s)||(r.push(s),i.push(u)):jt(i,u)||i.push(u)}return i}var hn=T((function(e){return pn(ot(e,!0,!0))}));function gn(e){for(var t=[],n=arguments.length,a=0,i=ie(e);a<i;a++){var r=e[a];if(!jt(t,r)){var o;for(o=1;o<n&&jt(arguments[o],r);o++);o===n&&t.push(r)}}return t}function mn(e){for(var t=e&&Wt(e,ie).length||0,n=Array(t),a=0;a<t;a++)n[a]=Ht(e,a);return n}var vn=T(mn);function _n(e,t){for(var n={},a=0,i=ie(e);a<i;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n}function yn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var a=Math.max(Math.ceil((t-e)/n),0),i=Array(a),r=0;r<a;r++,e+=n)i[r]=e;return i}function bn(e,t){if(null==t||t<1)return[];for(var n=[],a=0,i=e.length;a<i;)n.push(c.call(e,a,a+=t));return n}function En(e,t){return e._chain?ce(t).chain():t}function Cn(e){return Mt(_e(e),(function(t){var n=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),En(this,n.apply(ce,e))}})),ce}Mt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];ce.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),En(this,n)}})),Mt(["concat","join","slice"],(function(e){var t=o[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),En(this,e)}}));var Tn=ce,wn=Cn(a);wn._=wn;var Sn=wn},8575:function(e,t,n){"use strict";var a=n(74971),i=n(62502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var o=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n(17673);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof r)return e;var a=new r;return a.parse(e,t,n),a}r.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),l=-1!==r&&r<e.indexOf("#")?"?":"#",s=e.split(l);s[0]=s[0].replace(/\\/g,"/");var y=e=s.join(l);if(y=y.trim(),!n&&1===e.split("#").length){var b=u.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=o.exec(y);if(E){var C=(E=E[0]).toLowerCase();this.protocol=C,y=y.substr(E.length)}if(n||E||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===y.substr(0,2);!T||E&&m[E]||(y=y.substr(2),this.slashes=!0)}if(!m[E]&&(T||E&&!v[E])){for(var w,S,k=-1,I=0;I<f.length;I++){-1!==(A=y.indexOf(f[I]))&&(-1===k||A<k)&&(k=A)}-1!==(S=-1===k?y.lastIndexOf("@"):y.lastIndexOf("@",k))&&(w=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(w)),k=-1;for(I=0;I<d.length;I++){var A;-1!==(A=y.indexOf(d[I]))&&(-1===k||A<k)&&(k=A)}-1===k&&(k=y.length),this.host=y.slice(0,k),y=y.slice(k),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var x=this.hostname.split(/\./),R=(I=0,x.length);I<R;I++){var O=x[I];if(O&&!O.match(p)){for(var N="",D=0,L=O.length;D<L;D++)O.charCodeAt(D)>127?N+="x":N+=O[D];if(!N.match(p)){var P=x.slice(0,I),B=x.slice(I+1),j=O.match(h);j&&(P.push(j[1]),B.unshift(j[2])),B.length&&(y="/"+B.join(".")+y),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=a.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[C])for(I=0,R=c.length;I<R;I++){var U=c[I];if(-1!==y.indexOf(U)){var W=encodeURIComponent(U);W===U&&(W=escape(U)),y=y.split(U).join(W)}}var z=y.indexOf("#");-1!==z&&(this.hash=y.substr(z),y=y.slice(0,z));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),t&&(this.query=_.parse(this.query)),y=y.slice(0,G)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var l=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),l&&"?"!==l.charAt(0)&&(l="?"+l),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(l=l.replace("#","%23"))+a},r.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(i.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,a=Object.keys(this),o=0;o<a.length;o++){var l=a[o];n[l]=this[l]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",_=n.search||"";n.path=g+_}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=b||y||n.host&&e.pathname,C=E,T=n.pathname&&n.pathname.split("/")||[],w=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),E=E&&(""===h[0]||""===T[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,T=h;else if(h.length)T||(T=[]),T.pop(),T=T.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(w)n.hostname=n.host=T.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=T.slice(-1)[0],k=(n.host||e.host||T.length>1)&&("."===S||".."===S)||""===S,I=0,A=T.length;A>=0;A--)"."===(S=T[A])?T.splice(A,1):".."===S?(T.splice(A,1),I++):I&&(T.splice(A,1),I--);if(!E&&!C)for(;I--;I)T.unshift("..");!E||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),k&&"/"!==T.join("/").substr(-1)&&T.push("");var M,x=""===T[0]||T[0]&&"/"===T[0].charAt(0);w&&(n.hostname=n.host=x?"":T.length?T.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift()));return(E=E||n.host&&T.length)&&!x&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},90842:function(e,t,n){(function(){"use strict";var e=this;function t(e){return"string"==typeof e}function n(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,a),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function i(e,t,r){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:a).apply(null,arguments)}function r(e){var t=oe;function n(){}n.prototype=t.prototype,e.G=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.F=function(e,n,a){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return t.prototype[n].apply(e,i)}}var o=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function l(e,t){return-1!=e.indexOf(t)}function u(e,t){return e<t?-1:e>t?1:0}var s,c=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,n,a){if(a=null==a?0:0>a?Math.max(0,e.length+a):a,t(e))return t(n)&&1==n.length?e.indexOf(n,a):-1;for(;a<e.length;a++)if(a in e&&e[a]===n)return a;return-1},d=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,n,a){for(var i=e.length,r=t(e)?e.split(""):e,o=0;o<i;o++)o in r&&n.call(a,r[o],o,e)},f=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,n,a){for(var i=e.length,r=[],o=0,l=t(e)?e.split(""):e,u=0;u<i;u++)if(u in l){var s=l[u];n.call(a,s,u,e)&&(r[o++]=s)}return r},p=Array.prototype.reduce?function(e,t,n,a){return a&&(t=i(t,a)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,a){var i=n;return d(e,(function(n,r){i=t.call(a,i,n,r,e)})),i},h=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,n,a){for(var i=e.length,r=t(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&n.call(a,r[o],o,e))return!0;return!1};function g(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}e:{var m=e.navigator;if(m){var v=m.userAgent;if(v){s=v;break e}}s=""}var _,y,b=l(s,"Opera")||l(s,"OPR"),E=l(s,"Trident")||l(s,"MSIE"),C=l(s,"Edge"),T=l(s,"Gecko")&&!(l(s.toLowerCase(),"webkit")&&!l(s,"Edge"))&&!(l(s,"Trident")||l(s,"MSIE"))&&!l(s,"Edge"),w=l(s.toLowerCase(),"webkit")&&!l(s,"Edge");function S(){var t=e.document;return t?t.documentMode:void 0}e:{var k="",I=(y=s,T?/rv\:([^\);]+)(\)|;)/.exec(y):C?/Edge\/([\d\.]+)/.exec(y):E?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(y):w?/WebKit\/(\S+)/.exec(y):b?/(?:Version)[ \/]?(\S+)/.exec(y):void 0);if(I&&(k=I?I[1]:""),E){var A=S();if(null!=A&&A>parseFloat(k)){_=String(A);break e}}_=k}var M={};function x(e){if(!M[e]){for(var t=0,n=o(String(_)).split("."),a=o(String(e)).split("."),i=Math.max(n.length,a.length),r=0;0==t&&r<i;r++){var l=n[r]||"",s=a[r]||"",c=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var f=c.exec(l)||["","",""],p=d.exec(s)||["","",""];if(0==f[0].length&&0==p[0].length)break;t=u(0==f[1].length?0:parseInt(f[1],10),0==p[1].length?0:parseInt(p[1],10))||u(0==f[2].length,0==p[2].length)||u(f[2],p[2])}while(0==t)}M[e]=0<=t}}var R=e.document,O=R&&E?S()||("CSS1Compat"==R.compatMode?parseInt(_,10):5):void 0,N=E&&!(9<=Number(O)),D=E&&!(8<=Number(O));function L(e,t,n,a){this.a=e,this.nodeName=n,this.nodeValue=a,this.nodeType=2,this.parentNode=this.ownerElement=t}function P(e,t){var n=D&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new L(t,e,t.nodeName,n)}function B(e){var t=null;if(1==(n=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(N&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;var n=0,a=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),N&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),a[n++]=e}while(e=e.firstChild);for(;n&&!(e=a[--n].nextSibling););}}else t=e.nodeValue;return""+t}function j(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return D&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function F(e,n,a,i,r){return(N?H:U).call(null,e,n,t(a)?a:null,t(i)?i:null,r||new J)}function H(e,t,n,a,i){if(e instanceof De||8==e.b||n&&null===e.b){var r=t.all;if(!r)return i;if("*"!=(e=V(e))&&!(r=t.getElementsByTagName(e)))return i;if(n){for(var o=[],l=0;t=r[l++];)j(t,n,a)&&o.push(t);r=o}for(l=0;t=r[l++];)"*"==e&&"!"==t.tagName||ee(i,t);return i}return G(e,t,n,a,i),i}function U(e,t,n,a,i){return t.getElementsByName&&a&&"name"==n&&!E?(t=t.getElementsByName(a),d(t,(function(t){e.a(t)&&ee(i,t)}))):t.getElementsByClassName&&a&&"class"==n?(t=t.getElementsByClassName(a),d(t,(function(t){t.className==a&&e.a(t)&&ee(i,t)}))):e instanceof Se?G(e,t,n,a,i):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),d(t,(function(e){j(e,n,a)&&ee(i,e)}))),i}function W(e,t,n,a,i){var r;if((e instanceof De||8==e.b||n&&null===e.b)&&(r=t.childNodes)){var o=V(e);return"*"==o||(r=f(r,(function(e){return e.tagName&&e.tagName.toLowerCase()==o})))?(n&&(r=f(r,(function(e){return j(e,n,a)}))),d(r,(function(e){"*"==o&&("!"==e.tagName||"*"==o&&1!=e.nodeType)||ee(i,e)})),i):i}return z(e,t,n,a,i)}function z(e,t,n,a,i){for(t=t.firstChild;t;t=t.nextSibling)j(t,n,a)&&e.a(t)&&ee(i,t);return i}function G(e,t,n,a,i){for(t=t.firstChild;t;t=t.nextSibling)j(t,n,a)&&e.a(t)&&ee(i,t),G(e,t,n,a,i)}function V(e){if(e instanceof Se){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function q(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function K(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(n)?1:-1;if(E&&!(9<=Number(O))){if(9==t.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var a=1==t.nodeType,i=1==n.nodeType;if(a&&i)return t.sourceIndex-n.sourceIndex;var r=t.parentNode,o=n.parentNode;return r==o?Z(t,n):!a&&q(r,n)?-1*Y(t,n):!i&&q(o,t)?Y(n,t):(a?t.sourceIndex:r.sourceIndex)-(i?n.sourceIndex:o.sourceIndex)}return(a=(i=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),a.collapse(!0),(i=i.createRange()).selectNode(n),i.collapse(!0),a.compareBoundaryPoints(e.Range.START_TO_END,i)}function Y(e,t){var n=e.parentNode;if(n==t)return-1;for(var a=t;a.parentNode!=n;)a=a.parentNode;return Z(a,e)}function Z(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function J(){this.b=this.a=null,this.l=0}function X(e){this.node=e,this.a=this.b=null}function $(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,a=t.a,i=null,r=null,o=0;n&&a;){r=n.node;var l=a.node;r==l||r instanceof L&&l instanceof L&&r.a==l.a?(r=n,n=n.a,a=a.a):0<K(n.node,a.node)?(r=a,a=a.a):(r=n,n=n.a),(r.b=i)?i.a=r:e.a=r,i=r,o++}for(r=n||a;r;)r.b=i,i=i.a=r,o++,r=r.a;return e.b=i,e.l=o,e}function Q(e,t){var n=new X(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function ee(e,t){var n=new X(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function te(e){return(e=e.a)?e.node:null}function ne(e){return(e=te(e))?B(e):""}function ae(e,t){return new ie(e,!!t)}function ie(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function re(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function oe(e){this.i=e,this.b=this.g=!1,this.f=null}function le(e){return"\n  "+e.toString().split("\n").join("\n  ")}function ue(e,t){e.g=t}function se(e,t){e.b=t}function ce(e,t){var n=e.a(t);return n instanceof J?+ne(n):+n}function de(e,t){var n=e.a(t);return n instanceof J?ne(n):""+n}function fe(e,t){var n=e.a(t);return n instanceof J?!!n.l:!!n}function pe(e,t,n){oe.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==_e&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function he(e,t,n,a,i){var r;if(t=t.a(a),n=n.a(a),t instanceof J&&n instanceof J){for(a=re(t=ae(t));a;a=re(t))for(r=re(i=ae(n));r;r=re(i))if(e(B(a),B(r)))return!0;return!1}if(t instanceof J||n instanceof J){t instanceof J?(i=t,a=n):(i=n,a=t);for(var o=typeof a,l=re(r=ae(i));l;l=re(r)){switch(o){case"number":l=+B(l);break;case"boolean":l=!!B(l);break;case"string":l=B(l);break;default:throw Error("Illegal primitive type for comparison.")}if(i==t&&e(l,a)||i==n&&e(a,l))return!0}return!1}return i?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function ge(e,t,n,a){this.a=e,this.w=t,this.i=n,this.m=a}!T&&!E||E&&9<=Number(O)||T&&x("1.9.1"),E&&x("9"),r(pe),pe.prototype.a=function(e){return this.c.m(this.h,this.o,e)},pe.prototype.toString=function(){return"Binary Expression: "+this.c+le(this.h)+le(this.o)},ge.prototype.toString=function(){return this.a};var me={};function ve(e,t,n,a){if(me.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new ge(e,t,n,a),me[e.toString()]=e}ve("div",6,1,(function(e,t,n){return ce(e,n)/ce(t,n)})),ve("mod",6,1,(function(e,t,n){return ce(e,n)%ce(t,n)})),ve("*",6,1,(function(e,t,n){return ce(e,n)*ce(t,n)})),ve("+",5,1,(function(e,t,n){return ce(e,n)+ce(t,n)})),ve("-",5,1,(function(e,t,n){return ce(e,n)-ce(t,n)})),ve("<",4,2,(function(e,t,n){return he((function(e,t){return e<t}),e,t,n)})),ve(">",4,2,(function(e,t,n){return he((function(e,t){return e>t}),e,t,n)})),ve("<=",4,2,(function(e,t,n){return he((function(e,t){return e<=t}),e,t,n)})),ve(">=",4,2,(function(e,t,n){return he((function(e,t){return e>=t}),e,t,n)}));var _e=ve("=",3,2,(function(e,t,n){return he((function(e,t){return e==t}),e,t,n,!0)}));function ye(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function be(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");oe.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function Ee(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&d(t,(function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)})),oe.call(this,e.i),this.h=e,this.c=t,ue(this,e.g||h(t,(function(e){return e.g}))),se(this,e.D&&!t.length||e.C&&!!t.length||h(t,(function(e){return e.b})))}function Ce(e,t,n,a,i,r,o,l,u){this.j=e,this.i=t,this.g=n,this.D=a,this.C=i,this.m=r,this.A=o,this.v=void 0!==l?l:o,this.B=!!u}ve("!=",3,2,(function(e,t,n){return he((function(e,t){return e!=t}),e,t,n,!0)})),ve("and",2,2,(function(e,t,n){return fe(e,n)&&fe(t,n)})),ve("or",1,2,(function(e,t,n){return fe(e,n)||fe(t,n)})),r(be),be.prototype.a=function(e){return e=this.c.a(e),Ve(this.h,e)},be.prototype.toString=function(){return"Filter:"+le(this.c)+le(this.h)},r(Ee),Ee.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},Ee.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=p(this.c,(function(e,t){return e+le(t)}),"Arguments:");e=e+le(t)}return e},Ce.prototype.toString=function(){return this.j};var Te={};function we(e,t,n,a,i,r,o,l){if(Te.hasOwnProperty(e))throw Error("Function already created: "+e+".");Te[e]=new Ce(e,t,n,a,!1,i,r,o,l)}function Se(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function ke(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Ie(e){this.b=e,this.a=0}we("boolean",2,!1,!1,(function(e,t){return fe(t,e)}),1),we("ceiling",1,!1,!1,(function(e,t){return Math.ceil(ce(t,e))}),1),we("concat",3,!1,!1,(function(e,t){return p(g(arguments,1),(function(t,n){return t+de(n,e)}),"")}),2,null),we("contains",2,!1,!1,(function(e,t,n){return l(de(t,e),de(n,e))}),2),we("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),we("false",2,!1,!1,(function(){return!1}),0),we("floor",1,!1,!1,(function(e,t){return Math.floor(ce(t,e))}),1),we("id",4,!1,!1,(function(e,n){function a(e){if(N){var n=i.all[e];if(n){if(n.nodeType&&e==n.id)return n;if(n.length)return function(e,n){var a;e:{a=e.length;for(var i=t(e)?e.split(""):e,r=0;r<a;r++)if(r in i&&n.call(void 0,i[r],r,e)){a=r;break e}a=-1}return 0>a?null:t(e)?e.charAt(a):e[a]}(n,(function(t){return e==t.id}))}return null}return i.getElementById(e)}var i=9==(r=e.a).nodeType?r:r.ownerDocument,r=de(n,e).split(/\s+/),o=[];d(r,(function(e){!(e=a(e))||0<=c(o,e)||o.push(e)})),o.sort(K);var l=new J;return d(o,(function(e){ee(l,e)})),l}),1),we("lang",2,!1,!1,(function(){return!1}),1),we("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),we("local-name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""}),0,1,!0),we("name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""}),0,1,!0),we("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),we("normalize-space",3,!1,!0,(function(e,t){return(t?de(t,e):B(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),we("not",2,!1,!1,(function(e,t){return!fe(t,e)}),1),we("number",1,!1,!0,(function(e,t){return t?ce(t,e):+B(e.a)}),0,1),we("position",1,!0,!1,(function(e){return e.b}),0),we("round",1,!1,!1,(function(e,t){return Math.round(ce(t,e))}),1),we("starts-with",2,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),0==t.lastIndexOf(e,0)}),2),we("string",3,!1,!0,(function(e,t){return t?de(t,e):B(e.a)}),0,1),we("string-length",1,!1,!0,(function(e,t){return(t?de(t,e):B(e.a)).length}),0,1),we("substring",3,!1,!1,(function(e,t,n,a){if(n=ce(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(a=a?ce(a,e):1/0,isNaN(a)||-1/0===a)return"";n=Math.round(n)-1;var i=Math.max(n,0);return e=de(t,e),1/0==a?e.substring(i):e.substring(i,n+Math.round(a))}),2,3),we("substring-after",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)}),2),we("substring-before",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),we("sum",1,!1,!1,(function(e,t){for(var n=ae(t.a(e)),a=0,i=re(n);i;i=re(n))a+=+B(i);return a}),1,1,!0),we("translate",3,!1,!1,(function(e,t,n,a){t=de(t,e),n=de(n,e);var i=de(a,e);for(e={},a=0;a<n.length;a++){var r=n.charAt(a);r in e||(e[r]=i.charAt(a))}for(n="",a=0;a<t.length;a++)n+=(r=t.charAt(a))in e?e[r]:r;return n}),3),we("true",2,!1,!1,(function(){return!0}),0),Se.prototype.a=function(e){return null===this.b||this.b==e.nodeType},Se.prototype.f=function(){return this.h},Se.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=le(this.c)),e};var Ae=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Me=/^\s/;function xe(e,t){return e.b[e.a+(t||0)]}function Re(e){return e.b[e.a++]}function Oe(e){return e.b.length<=e.a}function Ne(e){oe.call(this,3),this.c=e.substring(1,e.length-1)}function De(e,t){var n;this.j=e.toLowerCase(),n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function Le(e){switch(e.nodeType){case 1:return function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(Be,e);case 9:return Le(e.documentElement);case 11:case 10:case 6:case 12:return Pe;default:return e.parentNode?Le(e.parentNode):Pe}}function Pe(){return null}function Be(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?Be(e.parentNode,t):null}function je(e){oe.call(this,1),this.c=e}function Fe(e,t){if(oe.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=Je||"*"!=(n=n.o).f()&&(this.f={name:n.f(),s:null})}}function He(){oe.call(this,4)}function Ue(){oe.call(this,4)}function We(e){return"/"==e||"//"==e}function ze(e){oe.call(this,4),this.c=e,ue(this,h(this.c,(function(e){return e.g}))),se(this,h(this.c,(function(e){return e.b})))}function Ge(e,t){this.a=e,this.b=!!t}function Ve(e,t,n){for(n=n||0;n<e.a.length;n++)for(var a,i=e.a[n],r=ae(t),o=t.l,l=0;a=re(r);l++){var u=e.b?o-l:l+1;if("number"==typeof(a=i.a(new ye(a,u,o))))u=u==a;else if("string"==typeof a||"boolean"==typeof a)u=!!a;else{if(!(a instanceof J))throw Error("Predicate.evaluate returned an unexpected type.");u=0<a.l}if(!u){if(a=(u=r).f,!(c=u.a))throw Error("Next must be called at least once before remove.");var s=c.b,c=c.a;s?s.a=c:a.a=c,c?c.b=s:a.b=s,a.l--,u.a=null}}return t}function qe(e,t,n,a){oe.call(this,4),this.c=e,this.o=t,this.h=n||new Ge([]),this.u=!!a,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=N?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function Ke(e,t,n,a){this.j=e,this.f=t,this.a=n,this.b=a}r(Ne),Ne.prototype.a=function(){return this.c},Ne.prototype.toString=function(){return"Literal: "+this.c},De.prototype.a=function(e){var t=e.nodeType;return(1==t||2==t)&&(("*"==this.j||this.j==e.localName.toLowerCase())&&("*"==this.c||this.c==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},De.prototype.f=function(){return this.j},De.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},r(je),je.prototype.a=function(){return this.c},je.prototype.toString=function(){return"Number: "+this.c},r(Fe),r(He),He.prototype.a=function(e){var t=new J;return 9==(e=e.a).nodeType?ee(t,e):ee(t,e.ownerDocument),t},He.prototype.toString=function(){return"Root Helper Expression"},r(Ue),Ue.prototype.a=function(e){var t=new J;return ee(t,e.a),t},Ue.prototype.toString=function(){return"Context Helper Expression"},Fe.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof J))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,a=(e=this.c).length;n<a&&t.l;n++){var i,r=e[n],o=ae(t,r.c.a);if(r.g||r.c!=Qe)if(r.g||r.c!=tt)for(i=re(o),t=r.a(new ye(i));null!=(i=re(o));)t=$(t,i=r.a(new ye(i)));else i=re(o),t=r.a(new ye(i));else{for(i=re(o);(t=re(o))&&(!i.contains||i.contains(t))&&8&t.compareDocumentPosition(i);i=t);t=r.a(new ye(i))}}return t},Fe.prototype.toString=function(){var e;if(e="Path Expression:"+le(this.h),this.c.length){var t=p(this.c,(function(e,t){return e+le(t)}),"Steps:");e+=le(t)}return e},r(ze),ze.prototype.a=function(e){var t=new J;return d(this.c,(function(n){if(!((n=n.a(e))instanceof J))throw Error("Path expression must evaluate to NodeSet.");t=$(t,n)})),t},ze.prototype.toString=function(){return p(this.c,(function(e,t){return e+le(t)}),"Union Expression:")},Ge.prototype.toString=function(){return p(this.a,(function(e,t){return e+le(t)}),"Predicates:")},r(qe),qe.prototype.a=function(e){var t=e.a,n=null,a=null,i=null,r=0;if((n=this.f)&&(a=n.name,i=n.s?de(n.s,e):null,r=1),this.u)if(this.g||this.c!=Xe)if(t=re(e=ae(new qe($e,new Se("node")).a(e))))for(n=this.m(t,a,i,r);null!=(t=re(e));)n=$(n,this.m(t,a,i,r));else n=new J;else n=F(this.o,t,a,i),n=Ve(this.h,n,r);else n=this.m(e.a,a,i,r);return n},qe.prototype.m=function(e,t,n,a){return e=this.c.f(this.o,e,t,n),Ve(this.h,e,a)},qe.prototype.toString=function(){var e;if(e="Step:"+le("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=le("Axis: "+this.c)),e+=le(this.o),this.h.a.length){var t=p(this.h.a,(function(e,t){return e+le(t)}),"Predicates:");e+=le(t)}return e},Ke.prototype.toString=function(){return this.j};var Ye={};function Ze(e,t,n,a){if(Ye.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new Ke(e,t,n,!!a),Ye[e]=t}Ze("ancestor",(function(e,t){for(var n=new J,a=t;a=a.parentNode;)e.a(a)&&Q(n,a);return n}),!0),Ze("ancestor-or-self",(function(e,t){var n=new J,a=t;do{e.a(a)&&Q(n,a)}while(a=a.parentNode);return n}),!0);var Je=Ze("attribute",(function(e,t){var n=new J;if("style"==(r=e.f())&&t.style&&N)return ee(n,new L(t.style,t,"style",t.style.cssText)),n;var a=t.attributes;if(a)if(e instanceof Se&&null===e.b||"*"==r)for(var i,r=0;i=a[r];r++)N?i.nodeValue&&ee(n,P(t,i)):ee(n,i);else(i=a.getNamedItem(r))&&(N?i.nodeValue&&ee(n,P(t,i)):ee(n,i));return n}),!1),Xe=Ze("child",(function(e,n,a,i,r){return(N?W:z).call(null,e,n,t(a)?a:null,t(i)?i:null,r||new J)}),!1,!0);Ze("descendant",F,!1,!0);var $e=Ze("descendant-or-self",(function(e,t,n,a){var i=new J;return j(t,n,a)&&e.a(t)&&ee(i,t),F(e,t,n,a,i)}),!1,!0),Qe=Ze("following",(function(e,t,n,a){var i=new J;do{for(var r=t;r=r.nextSibling;)j(r,n,a)&&e.a(r)&&ee(i,r),i=F(e,r,n,a,i)}while(t=t.parentNode);return i}),!1,!0);Ze("following-sibling",(function(e,t){for(var n=new J,a=t;a=a.nextSibling;)e.a(a)&&ee(n,a);return n}),!1),Ze("namespace",(function(){return new J}),!1);var et=Ze("parent",(function(e,t){var n=new J;if(9==t.nodeType)return n;if(2==t.nodeType)return ee(n,t.ownerElement),n;var a=t.parentNode;return e.a(a)&&ee(n,a),n}),!1),tt=Ze("preceding",(function(e,t,n,a){var i=new J,r=[];do{r.unshift(t)}while(t=t.parentNode);for(var o=1,l=r.length;o<l;o++){var u=[];for(t=r[o];t=t.previousSibling;)u.unshift(t);for(var s=0,c=u.length;s<c;s++)j(t=u[s],n,a)&&e.a(t)&&ee(i,t),i=F(e,t,n,a,i)}return i}),!0,!0);Ze("preceding-sibling",(function(e,t){for(var n=new J,a=t;a=a.previousSibling;)e.a(a)&&Q(n,a);return n}),!0);var nt=Ze("self",(function(e,t){var n=new J;return e.a(t)&&ee(n,t),n}),!1);function at(e){oe.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function it(e,t){this.a=e,this.b=t}function rt(e){for(var t,n=[];;){ot(e,"Missing right hand side of binary expression."),t=pt(e);var a=Re(e.a);if(!a)break;var i=(a=me[a]||null)&&a.w;if(!i){e.a.a--;break}for(;n.length&&i<=n[n.length-1].w;)t=new pe(n.pop(),n.pop(),t);n.push(t,a)}for(;n.length;)t=new pe(n.pop(),n.pop(),t);return t}function ot(e,t){if(Oe(e.a))throw Error(t)}function lt(e,t){var n=Re(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function ut(e){if(")"!=(e=Re(e.a)))throw Error("Bad token: "+e)}function st(e){if(2>(e=Re(e.a)).length)throw Error("Unclosed literal string");return new Ne(e)}function ct(e){var t,n,a=[];if(We(xe(e.a))){if(t=Re(e.a),n=xe(e.a),"/"==t&&(Oe(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new He;n=new He,ot(e,"Missing next location step."),t=dt(e,t),a.push(t)}else{e:{switch(n=(t=xe(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Re(e.a),t=rt(e),ot(e,'unclosed "("'),lt(e,")");break;case'"':case"'":t=st(e);break;default:if(isNaN(+t)){if(ke(t)||!/(?![0-9])[\w]/.test(n)||"("!=xe(e.a,1)){t=null;break e}for(t=Re(e.a),t=Te[t]||null,Re(e.a),n=[];")"!=xe(e.a)&&(ot(e,"Missing function argument list."),n.push(rt(e)),","==xe(e.a));)Re(e.a);ot(e,"Unclosed function argument list."),ut(e),t=new Ee(t,n)}else t=new je(+Re(e.a))}"["==xe(e.a)&&(t=new be(t,n=new Ge(ft(e))))}if(t){if(!We(xe(e.a)))return t;n=t}else t=dt(e,"/"),n=new Ue,a.push(t)}for(;We(xe(e.a));)t=Re(e.a),ot(e,"Missing next location step."),t=dt(e,t),a.push(t);return new Fe(n,a)}function dt(e,t){var n,a,i,r;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==xe(e.a))return a=new qe(nt,new Se("node")),Re(e.a),a;if(".."==xe(e.a))return a=new qe(et,new Se("node")),Re(e.a),a;if("@"==xe(e.a))r=Je,Re(e.a),ot(e,"Missing attribute name");else if("::"==xe(e.a,1)){if(!/(?![0-9])[\w]/.test(xe(e.a).charAt(0)))throw Error("Bad token: "+Re(e.a));if(n=Re(e.a),!(r=Ye[n]||null))throw Error("No axis with name: "+n);Re(e.a),ot(e,"Missing node name")}else r=Xe;if(n=xe(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+Re(e.a));if("("==xe(e.a,1)){if(!ke(n))throw Error("Invalid node type: "+n);if(!ke(n=Re(e.a)))throw Error("Invalid type name: "+n);lt(e,"("),ot(e,"Bad nodetype");var o=null;'"'!=(i=xe(e.a).charAt(0))&&"'"!=i||(o=st(e)),ot(e,"Bad nodetype"),ut(e),n=new Se(n,o)}else if(-1==(i=(n=Re(e.a)).indexOf(":")))n=new De(n);else{var l;if("*"==(o=n.substring(0,i)))l="*";else if(!(l=e.b(o)))throw Error("Namespace prefix not declared: "+o);n=new De(n=n.substr(i+1),l)}return i=new Ge(ft(e),r.a),a||new qe(r,n,i,"//"==t)}function ft(e){for(var t=[];"["==xe(e.a);){Re(e.a),ot(e,"Missing predicate expression.");var n=rt(e);t.push(n),ot(e,"Unclosed predicate expression."),lt(e,"]")}return t}function pt(e){if("-"==xe(e.a))return Re(e.a),new at(pt(e));var t=ct(e);if("|"!=xe(e.a))e=t;else{for(t=[t];"|"==Re(e.a);)ot(e,"Missing next union location path."),t.push(ct(e));e.a.a--,e=new ze(t)}return e}function ht(e,t){if(!e.length)throw Error("Empty XPath expression.");var n=function(e){e=e.match(Ae);for(var t=0;t<e.length;t++)Me.test(e[t])&&e.splice(t,1);return new Ie(e)}(e);if(Oe(n))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=i(t.lookupNamespaceURI,t)):t=function(){return null};var a=rt(new it(n,t));if(!Oe(n))throw Error("Bad token: "+Re(n));this.evaluate=function(e,t){return new gt(a.a(new ye(e)),t)}}function gt(e,t){if(0==t)if(e instanceof J)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof J))throw Error("value could not be converted to the specified type");var n;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof J?ne(e):""+e;break;case 1:this.numberValue=e instanceof J?+ne(e):+e;break;case 3:this.booleanValue=e instanceof J?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var a=ae(e);n=[];for(var i=re(a);i;i=re(a))n.push(i instanceof L?i.a:i);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:a=te(e),this.singleNodeValue=a instanceof L?a.a:a;break;default:throw Error("Unknown XPathResult type.")}var r=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return r>=n.length?null:n[r++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function mt(e){this.lookupNamespaceURI=Le(e)}function vt(t,n){var a=t||e,i=a.document;i.evaluate&&!n||(a.XPathResult=gt,i.evaluate=function(e,t,n,a){return new ht(e,n).evaluate(t,a)},i.createExpression=function(e,t){return new ht(e,t)},i.createNSResolver=function(e){return new mt(e)})}r(at),at.prototype.a=function(e){return-ce(this.c,e)},at.prototype.toString=function(){return"Unary Expression: -"+le(this.c)},gt.ANY_TYPE=0,gt.NUMBER_TYPE=1,gt.STRING_TYPE=2,gt.BOOLEAN_TYPE=3,gt.UNORDERED_NODE_ITERATOR_TYPE=4,gt.ORDERED_NODE_ITERATOR_TYPE=5,gt.UNORDERED_NODE_SNAPSHOT_TYPE=6,gt.ORDERED_NODE_SNAPSHOT_TYPE=7,gt.ANY_UNORDERED_NODE_TYPE=8,gt.FIRST_ORDERED_NODE_TYPE=9;var _t,yt=["wgxpath","install"],bt=e;yt[0]in bt||!bt.execScript||bt.execScript("var "+yt[0]);for(;yt.length&&(_t=yt.shift());)yt.length||void 0===vt?bt=bt[_t]?bt[_t]:bt[_t]={}:bt[_t]=vt}).call(n.g),e.exports.install=wgxpath.install,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}},o={};function l(e){if(o[e])return o[e].exports;var t=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(t.exports,t,t.exports,l),t.loaded=!0,t.exports}l.m=r,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);l.r(n);var a={};if(2&t&&"object"==typeof e&&e)for(var i in e)a[i]=function(t){return e[t]}.bind(null,i);return a.default=function(){return e},l.d(n,a),n},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))},l.u=function(e){return"js/86b4f73e/"+{402:"callback",711:"debug",772:"webRTCCall"}[e]+".js"},l.miniCssF=function(e){return 296===e?"css/86b4f73e/widget.css":"css/86b4f73e/"+{402:"callback",711:"debug",772:"webRTCCall"}[e]+".widget.css"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="widget_react:",l.l=function(n,a,i){if(e[n])e[n].push(a);else{var r,o;if(void 0!==i)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var c=u[s];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+i){r=c;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.setAttribute("data-webpack",t+i),r.src=n),e[n]=[a];var d=function(t,a){r.onerror=r.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(a)})),t)return t(a)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),o&&document.head.appendChild(r)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},l.p="/public/",n=function(e,t,n){var a=document.createElement("link");return a.rel="stylesheet",a.type="text/css",a.onload=t,a.onerror=function(t){var i=t&&t.target&&t.target.src||e,r=new Error("Loading CSS chunk "+chunkId+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,a.parentNode.removeChild(a),n(r)},a.href=e,function(e){window.parent.jivo_cspNonce&&e.setAttribute("nonce",window.parent.jivo_cspNonce);var t=window.parent.document.getElementsByTagName("head")[0];if(!t)throw new Error("Error inserting css:",e.href,"Reason: no head");t.appendChild(e)}(a),a},a=function(e){return new Promise((function(t,a){var i=l.miniCssF(e),r=l.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var i=(o=n[a]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){var o;if((i=(o=r[a]).getAttribute("data-href"))===e||i===t)return o}}(i,r))return t();n(r,t,a)}))},i={296:0},l.f.miniCss=function(e,t){i[e]?t.push(i[e]):0!==i[e]&&{402:1,711:1,772:1}[e]&&t.push(i[e]=a(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))},function(){var e={296:0};l.f.j=function(t,n){var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(n,i){a=e[t]=[n,i]}));n.push(a[2]=i);var r=l.p+l.u(t),o=new Error;l.l(r,(function(n){if(l.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",o.name="ChunkLoadError",o.type=i,o.request=r,a[1](o)}}),"chunk-"+t)}};var t=self.webpackChunkwidget_react=self.webpackChunkwidget_react||[],n=t.push.bind(t);t.push=function(t){for(var a,i,r=t[0],o=t[1],u=t[2],s=0,c=[];s<r.length;s++)i=r[s],l.o(e,i)&&e[i]&&c.push(e[i][0]),e[i]=0;for(a in o)l.o(o,a)&&(l.m[a]=o[a]);for(u&&u(l),n(t);c.length;)c.shift()()}}(),function(){"use strict";var e=l(60530),t=l(66707),n=e(l(62904)),a=e(l(75043)),i=e(l(81574)),r=e(l(62652)),o=l(37846),u=(a.default.name("index"),new i.default);r.default.chat_started&&!n.default.maintenance&&!u.managers.feature.isEnabled(o.Feature.RECAPTCHA)||t.cssLoader.subscribe((function(){u.start()}),(function(){u.stop()}))}()}();</script></head><body><jdiv style="position: absolute; top: -9999px; width: 0px; height: 0px; padding: 0px; overflow: hidden;"><jdiv id="jv-autoresize" style="line-height: 20px; text-decoration: none solid rgb(34, 45, 56); letter-spacing: normal; font-size: 15px; font-family: Arial, sans-serif; font-style: normal; font-weight: 400; text-transform: none; text-align: left; direction: ltr; word-spacing: 0px; padding-left: 16px; padding-right: 58px; width: 336px; box-sizing: border-box; white-space: pre-wrap; overflow-wrap: break-word; padding-top: 18px; display: block;">Введите сообщение</jdiv></jdiv><iframe src="https://code-ya.jivosite.com/social.min.html?mode=checkvk&amp;vk_app_id=5299720&amp;vk_joint_id=45408462&amp;vk_key=6e756c6c3d7343737870426438666f&amp;logs=0#rand=540,lang=ru_RU" class="iframe-social" title="JivoSocial"></iframe></body></html>